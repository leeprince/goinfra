(function(t){function e(e){for(var n,o,c=e[0],r=e[1],l=e[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var r=a[o];0!==i[r]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},i={pc:0},s=[];function o(t){return c.p+"js/"+({amr:"amr"}[t]||t)+"."+{amr:"d8ebe3b6"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=n);var s,r=document.createElement("script");r.charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.src=o(t);var l=new Error;s=function(e){r.onerror=r.onload=null,clearTimeout(d);var a=i[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",l.name="ChunkLoadError",l.type=n,l.request=s,a[1](l)}i[t]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:r})}),12e4);r.onerror=r.onload=s,document.head.appendChild(r)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var u=l;s.push([2,"chunk-imsdk","chunk-vendors"]),a()})({0:function(t,e){},"00ad":function(t,e,a){t.exports=a.p+"img/scissors.475924b7.svg"},"019f":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.showNotice?e("div",{staticClass:"block-notice",attrs:{title:t.$t("common_view_all")}},[e("div",{staticClass:"notice",class:{"notice--mobile":t.isMobile}},[e("div",{staticClass:"notice__title"},[t._v(" "+t._s(t.$t("notice_slider_header"))+" ")]),e("div",{ref:"noticeContent",staticClass:"notice__content",on:{click:t.showPop}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.needMove,expression:"needMove"}],staticClass:"notice__mask notice__mask--left"}),e("div",{ref:"noticeList",staticClass:"notice__list",style:t.listStyle},[t._l(t.noticeList,(function(a,n){return e("div",{key:"x"+n,staticClass:"notice__item"},[t._v(" "+t._s(a.content)+" ")])})),t._l(t.noticeList,(function(a,n){return e("div",{key:"y"+n,staticClass:"notice__item"},[t._v(" "+t._s(a.content)+" ")])}))],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.needMove,expression:"needMove"}],staticClass:"notice__mask notice__mask--right"})]),e("div",{staticClass:"notice__tool",on:{click:t.closeNotice}},[e("span",{staticClass:"notice__close"})])]),e("NoticePanel",{ref:"noticePanel",attrs:{notice:t.noticeList}})],1):t._e()},i=[],s=a("d4ec"),o=a("bee2"),c=a("257e"),r=a("262e"),l=a("2caf"),d=a("ade3"),u=(a("99af"),a("d81d"),a("b64b"),a("14d9"),a("9ab4")),f=a("1b40");function m(t){requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,15)}var h=a("ea5f"),g=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("popup",{ref:"noticePanel",attrs:{show:t.open,title:t.$t("notice_popup_header")},on:{"update:show":function(e){t.open=e}}},[t.notice?e("div",{staticClass:"p-notice"},t._l(t.notice,(function(a,n){return e("div",{key:n,staticClass:"p-notice__item"},[e("div",{staticClass:"p-notice__title"},[t._v(" "+t._s(("gjh"===a.type?t.$t("notice_item_header_gjh"):t.$t("notice_item_header"))+a.title)+" ")]),e("div",{staticClass:"p-notice__text"},[t._v(" "+t._s(a.content)+" ")])])})),0):t._e()])},p=[],b=a("7dc1"),v=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(s["a"])(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),Object(d["a"])(Object(c["a"])(t),"notice",void 0),Object(d["a"])(Object(c["a"])(t),"open",!1),t}return Object(o["a"])(a)}(f["d"]);Object(u["a"])([Object(f["c"])({required:!0,default:function(){return[]}})],v.prototype,"notice",void 0),v=Object(u["a"])([Object(f["a"])({components:{Popup:b["a"]}})],v);var _=v,w=_,y=(a("4797"),a("2877")),x=Object(y["a"])(w,g,p,!1,null,"3abb864b",null),A=x.exports,C=a("55b6"),T=5e3,q=45,k=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(s["a"])(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),Object(d["a"])(Object(c["a"])(t),"wpaDetail",void 0),Object(d["a"])(Object(c["a"])(t),"noticeList",[]),Object(d["a"])(Object(c["a"])(t),"needMove",!1),Object(d["a"])(Object(c["a"])(t),"moveTimer",null),Object(d["a"])(Object(c["a"])(t),"listStyle",{transitionDuration:"0s",left:0}),Object(d["a"])(Object(c["a"])(t),"showNotice",!1),t}return Object(o["a"])(a,[{key:"isMobile",get:function(){return!this.$platform.pc}},{key:"created",value:function(){this.init()}},{key:"showPop",value:function(){var t=this.$refs.noticePanel;t.open=!0}},{key:"closeNotice",value:function(){this.showNotice=!1}},{key:"init",value:function(){this.resetMove(),this.fetchNotice()}},{key:"fetchNotice",value:function(){var t=this,e=this.wpaDetail,a=e.kfuin,n=e.fid,i=e.key,s={kfuin:a,wpaId:n,key:i,fields:["announcement"]};Object(h["a"])(s,(function(e){var a=e.announcement,n=void 0===a?{}:a,i=n.code,s=n.data;if(!i){var o=s.rpt_get_resource_rsp;if(o&&(t.noticeList=o.map((function(t){var e=t.str_result_node_json;return JSON.parse(e)})),t.showNotice=!0),null!==s&&void 0!==s&&s.topNotice){var c=t.wpaDetail.qidian_lang?C["a"][t.wpaDetail.qidian_lang]:"zh";t.noticeList.push({content:s.topNotice[c],id:"gjhTopNotice",title:""}),t.showNotice=!0}t.showNotice&&t.$nextTick((function(){return t.startMove()}))}}))}},{key:"resetMove",value:function(){var t=this;this.noticeList=[],this.moveTimer&&clearTimeout(this.moveTimer),this.listStyle.transitionDuration="0s",m((function(){return t.listStyle.left=0}))}},{key:"startMove",value:function(){var t=this;this.moveTimer=setTimeout((function(){var e=t.$refs.noticeContent,a=t.$refs.noticeList,n=e.clientWidth,i=a.clientWidth/2;console.log(1111,n,i),i<=n||(t.needMove=!0,t.move(i))}),T)}},{key:"move",value:function(t){var e=this,a=Math.ceil(t/q);this.listStyle.transitionDuration="".concat(a,"s"),m((function(){return e.listStyle.left="".concat(0-t,"px")})),setTimeout((function(){e.listStyle.transitionDuration="0s",m((function(){e.listStyle.left=0,m((function(){return e.move(t)}))}))}),1e3*a)}}]),a}(f["d"]);Object(u["a"])([Object(f["c"])()],k.prototype,"wpaDetail",void 0),k=Object(u["a"])([Object(f["a"])({components:{NoticePanel:A}})],k);var I=k,M=I,O=(a("4e84"),Object(y["a"])(M,n,i,!1,null,"33a32ef2",null));e["a"]=O.exports},"01ac":function(t,e,a){},"01c8":function(t,e,a){},"01eb":function(t,e,a){},"0355":function(t,e){t.exports="data:image/png;base64,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"},"03a4":function(t,e,a){t.exports=a.p+"img/icon-cancle-upload.2133835f.svg"},"053e":function(t,e,a){},"0625":function(t,e,a){},"067e":function(t,e,a){},"08b0":function(t,e,a){},"08bc":function(t,e,a){"use strict";a("35eb")},"0a1c":function(t,e,a){"use strict";a("91d0")},"0b75":function(t,e,a){},"0c6c":function(t,e,a){t.exports=a.p+"img/qq-white.23a152b3.svg"},"0d3f":function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var n=a("2909"),i=a("4478"),s=(a("e9c4"),a("b64b"),a("99af"),a("498a"),a("d81d"),a("ac1f"),a("5319"),a("d3b7"),a("159b"),a("5ac5")),o=a("126a"),c=a("6cd4"),r=a("8118"),l=a("9de0"),d={Msg:function(t){return t},$:{ajax:function(t){var e=t.url,a=t.type,n=t.data,i=void 0===n?{}:n,s=t.success,c=void 0===s?function(){}:s,r=t.error,l=void 0===r?function(){}:r;o["a"][a.toLowerCase()](e,i).then((function(t){return c(t)})).catch((function(t){return l(t)}))}},qd:{action:{sendC2B:function(t,e){var a=JSON.stringify({scene:e.data.scene,sceneArgs:e.data.sceneArgs,sendSource:e.data.sendSource,extRobotType:4});s["a"].sendQDXMLMessage({qdxml:{content:e.data.xml}},null,{robot_ctrl:{str_ext2robot:a}})},sendB2C:function(t,e){s["a"].addMessageList({type:l["b"].TYPES.MSG_QDXML,status:r["b"].Success,time:Date.now(),to:(s["a"].wpaDetail||{}).kfuin||0,seq:l["c"].generateUUID(),content:{path:"",brief:"",content:e.data.xml}},r["a"].Sync,!1)}}}};function u(t,e,a,s){var o=Object.assign({},d,s),c=Object.keys(o),r=["window"].concat(c),l=["return ".concat(a.trim()||"{}")],u=Object(i["a"])(Function,[].concat(Object(n["a"])(r),l)),h=c.map((function(t){return o[t]})),g=u.apply(void 0,[o].concat(Object(n["a"])(h)));f(t),m(t,e,g)}function f(t){var e="msg-xml-fold",a="expand",n=t.querySelectorAll(".".concat(e));function i(t){var e=t.currentTarget.parentNode;e.className.indexOf(a)>-1?e.className=e.className.replace(a,""):e.className="".concat(e.className," ").concat(a)}n.forEach((function(t){var e=t.querySelector(":first-child");e.removeEventListener("click",i),e.addEventListener("click",i,!1)}))}function m(t,e,a){var n=e.props,i=e.children,s=n.action||{},o=s.type,r=s.fun;if(o&&r){var l=t.querySelectorAll("[".concat(c["b"],'="').concat(o,'"][').concat(c["a"],'="').concat(r,'"]'));l.forEach((function(t){t.removeEventListener(o,a[r]),t.addEventListener(o,a[r],!1)}))}i.forEach((function(e){return m(t,e,a)}))}},"0d8a":function(t,e,a){},"0dd5":function(t,e,a){"use strict";a("2be0")},"0e1a":function(t,e,a){"use strict";a("7aa1")},1:function(t,e){},1118:function(t,e,a){"use strict";a("fb7b")},"111c":function(t,e,a){},"11ca":function(t,e,a){},"126a":function(t,e,a){"use strict";var n=a("5530"),i=(a("d3b7"),a("2b0e")),s=a("5ac5");function o(t,e){var a=function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,l){var d=o&&Object(n["a"])({},o);if(e&&(d.params=o),s["a"].auth){c.headers||(c.headers={});var u=s["a"].auth,f=u.appid,m=u.aid,h=u.d2;c.headers=Object(n["a"])(Object(n["a"])({},c.headers),{},{"X-Appid":f,"X-Aid":m,"X-D2":h,"X-Tenant-Id":s["a"].kfuin})}i["a"].prototype.$ajax[t]("".concat(a),d,c).then((function(t){r(t)})).catch((function(t){l(t)}))}))};return a}e["a"]={get:o("get",!0),post:o("post")}},1284:function(t,e,a){var n={"./apk.png":"f041","./audio.png":"87de","./excel.png":"c906","./html.png":"cf42","./pdf.png":"32fe","./picture.png":"1a05","./ppt.png":"ca6d","./psd.png":"a33c","./txt.png":"85dd","./unknown.png":"39d4","./video.png":"7ac4","./word.png":"4d71","./zip.png":"96c5"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="1284"},1414:function(t,e,a){"use strict";a("01c8")},"160d":function(t,e,a){"use strict";a("8bc8")},1642:function(t,e,a){},"18b7":function(t,e,a){"use strict";a("c1b0")},1915:function(t,e,a){"use strict";a.r(e);a("a4d3"),a("e01a");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"richmsg-type-3"},[e("div",{staticClass:"content"},[e("div",{staticClass:"desc-section",class:t.questions.length>0?"":"desc-section--only"},[t._l(t.description,(function(a,n){return[a.url?e("a",{key:n,attrs:{href:a.url},on:{click:function(e){return e.preventDefault(),t.handlLinkClick(a.url)}}},[t._v(t._s(a.text))]):e("span",{key:n},[t._v(t._s(a.text))])]}))],2),t.questions.length>0?[e("div",{staticClass:"question-title"},[t.qlist.type&&2==t.qlist.type?e("div",[t._v("你可能还想问：")]):e("div",[t._v("亲，你是不是想问：")])]),e("ul",{staticClass:"question-list"},t._l(t.questions,(function(a,n){return e("li",{key:n,staticClass:"question-item"},[e("a",{attrs:{action:"msg",href:"qdweb://webim/message/sendc2b?content="+a.text}},[e("i",{staticClass:"question-icon"}),t._v(t._s(a.text))])])})),0)]:t._e()],2)])},i=[],s=a("c7eb"),o=a("1da1"),c={name:"qlist-msg",props:{message:{type:Object,default:function(){return{}}}},data:function(){var t=this.message.content,e=t.content||{},a=e.description||[],n=e.questions||[];return{qlist:e,description:a,questions:n}},methods:{handlLinkClick:function(){},handlQuestionClick:function(t,e){var a=this;return Object(o["a"])(Object(s["a"])().mark((function n(){var i;return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=a.$qdim.createTextMessage({text:t}),i.qlist={kfUin:a.$qdim.globalVars.receptionist.kfUin,type:e},a.$store.commit("sendMessage",i),n.prev=3,n.next=6,a.$qdim.sendMessage(i);case 6:a.$store.commit("changeMessageStatus",{message:i,status:"success"}),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](3),console.log("[send message error]",n.t0),a.$store.commit("changeMessageStatus",{message:i,status:"fail"});case 13:case"end":return n.stop()}}),n,null,[[3,9]])})))()}}},r=c,l=(a("d6d1"),a("2877")),d=Object(l["a"])(r,n,i,!1,null,"2685e46e",null);e["default"]=d.exports},"19e9":function(t,e,a){},"1a05":function(t,e){t.exports="data:image/png;base64,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"},"1a52":function(t,e,a){"use strict";a("f1f7")},"1b7f":function(t,e,a){"use strict";a("e7b1")},"1c47":function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qq-invite-card"},[e("div",{staticClass:"content"},[e("div",{staticClass:"kf-detail"},[e("p",{staticClass:"avatar"},[e("img",{attrs:{src:t.message.avatar}})]),e("dl",{staticClass:"detail"},[e("dt",[t._v(t._s(t.message.name))]),t.message.corpName?e("dd",[t._v(" "+t._s(t.message.corpName)+" "),t.message.position?e("span",{staticClass:"resign"},[t._v(t._s(t.message.position))]):t._e()]):t._e()])]),e("a",{staticClass:"btn-act",staticStyle:{"background-color":"rgb(0, 103, 237)"},attrs:{href:"javascript:;","data-style":"button"},on:{click:function(e){return t.$emit("onLunchQQ",t.data)}}},[t._v(" 发起QQ会话 ")])])])},i=[],s={props:{data:{type:Object,default:function(){return{}}}},computed:{message:function(){var t;return null!==(t=this.data.msgBody)&&void 0!==t?t:{}}}},o=s,c=(a("36a8"),a("2877")),r=Object(c["a"])(o,n,i,!1,null,"f43d2b9c",null);e["default"]=r.exports},"1e3a":function(t,e,a){"use strict";a.r(e);a("b0c0"),a("4de4"),a("d3b7"),a("cb29");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"feedback-wrap-box",class:{"feedback-wrap-box-pc":this.$platform.pc}},[e("div",{staticClass:"feedback-wrap"},[e("div",{staticClass:"feedback-container"},[e("div",{staticClass:"feedback-title"},[t._v(" "+t._s(t.fbParams.editable?t.fbParams.title:t.fbParams.reply[t.fbParams.value])+" ")]),e("div",{staticClass:"feedback-evaluation-wrap"},[t.fbParams.editable?e("div",{staticClass:"feedback-evaluation"},t._l(t.fbParams.evaluation,(function(a){return e("div",{key:a.value,class:"feedback-evaluation-item"+(a.value===t.fbParams.value?"_active":""),on:{click:function(e){return t.setValue(a.value)}}},[t.fbParams.extendData&&1===t.fbParams.extendData.styleType?e("div",{staticClass:"feedback-evaluation-icon",class:"feedback-icon-start"+(a.value<=t.fbParams.value?"_active":"")}):e("div",{staticClass:"feedback-evaluation-icon",class:"feedback-icon-"+a.name+(a.value===t.fbParams.value?"_active":"")}),e("div",{staticClass:"feedback-evaluation-text",class:"feedback-evaluation-text"+(a.value===t.fbParams.value?"_active":"")},[t._v(" "+t._s(a.text)+" ")])])})),0):e("div",t._l(t.fbParams.evaluation.filter((function(e){return e.value===t.fbParams.value})),(function(a){return e("div",{key:a.value,staticClass:"feedback-evaluation-result"},[e("div",{staticClass:"feedback-evaluation-item_active"},[t.fbParams.extendData&&1===t.fbParams.extendData.styleType?e("div",t._l(Array(t.fbParams.value).fill(1),(function(t,a){return e("div",{key:a,staticClass:"feedback-icon-start_active feedback-evaluation-icon start-inline"})})),0):e("div",{staticClass:"feedback-evaluation-icon",class:"feedback-icon-"+a.name+"_active"}),e("div",{staticClass:"feedback-evaluation-item_active-text"},[t._v(" "+t._s(a.text)+" ")])])])})),0)]),t.fbParams.showTags?e("div",{staticClass:"feedback-mark-list",class:t.fbParams.editable?"":"feedback-mark-list-label"},[t.fbParams.editable?t._l(t.fbParams.tags.filter((function(e){return e.level===t.fbParams.value})),(function(a,n){return e("div",{key:n,staticClass:"feedback-tag",class:"feedback-tag"+(t.fbParams.ids.indexOf(a.id)>-1?"-active":""),on:{click:function(e){return t.addTags(a)}}},[t._v(" "+t._s(a.name)+" ")])})):t._l(t.fbParams.tags.filter((function(e){return t.fbParams.ids.indexOf(e.id)>-1})),(function(a,n){return e("div",{key:n,staticClass:"feedback-tag"},[t._v(" "+t._s(a.name)+" ")])}))],2):t._e()]),t.fbParams.showOpinion?e("div",{staticClass:"feedback-opinion"},[t.fbParams.editable?e("div",{staticClass:"feedback-textarea-wrap"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.fbParams.text,expression:"fbParams.text"}],staticClass:"feedback-textarea",attrs:{disabled:t.fbParams.isDemo,maxlength:t.fbParams.availLetterSum,placeholder:t.fbParams.placeholder},domProps:{value:t.fbParams.text},on:{input:function(e){e.target.composing||t.$set(t.fbParams,"text",e.target.value)}}}),e("div",{staticClass:"feedback-textarea-limit"},[e("span",{staticClass:"feedback-textarea-limit-current"},[t._v(t._s(t.fbParams.text.length))]),e("span",{staticClass:"feedback-textarea-limit-total"},[t._v("/"+t._s(t.fbParams.availLetterSum))])])]):t.fbParams.text?e("div",{staticClass:"feedback-opinion-label"},[t._v(" "+t._s(t.fbParams.text)+" ")]):t._e()]):t._e(),t.fbParams.showSolve?e("div",[t.fbParams.editable?e("div",{staticClass:"feedback-solvtion"},[e("div",{staticClass:"feedback-title"},[t._v("是否解决了您的问题？")]),e("div",{staticClass:"feedback-status"},[e("div",{staticClass:"feedback-status-wrap",class:"feedback-status-wrap"+(1===t.fbParams.isSolve?"_active":""),on:{click:function(e){return t.setResolved(1)}}},[e("div",{staticClass:"feedback-status-icon",class:"feedback-status-resolved"+(1===t.fbParams.isSolve?"_active":"")}),e("div",[t._v("已解决")])]),e("div",{staticClass:"feedback-status-wrap",class:"feedback-status-wrap"+(2===t.fbParams.isSolve?"_active":""),on:{click:function(e){return t.setResolved(2)}}},[e("div",{staticClass:"feedback-status-icon",class:"feedback-status-unresolved"+(2===t.fbParams.isSolve?"_active":"")}),e("div",[t._v("未解决")])])])]):e("div",{staticClass:"feedback-status",class:1!==t.fbParams.isSolve&&2!==t.fbParams.isSolve?"no-data":""},[2===t.fbParams.isSolve?e("div",{staticClass:"feedback-status-wrap feedback-status-wrap_label"},[e("div",{staticClass:"feedback-status-icon",class:"feedback-status-"+(1===t.fbParams.isSolve?"resolved":"unresolved")}),e("div",[t._v(t._s(1===t.fbParams.isSolve?"已解决":"未解决"))])]):t._e(),1===t.fbParams.isSolve?e("div",{staticClass:"feedback-status-wrap feedback-status-wrap_label"},[e("div",{staticClass:"feedback-status-icon",class:"feedback-status-"+(1===t.fbParams.isSolve?"resolved":"unresolved")}),e("div",[t._v(t._s(1===t.fbParams.isSolve?"已解决":"未解决"))])]):t._e()])]):t._e(),t.fbParams.editable?e("div",{staticClass:"feedback-submit"},[e("button",{staticClass:"feedback-submit-btn",class:t.fbParams.disableSubmit?"is-disabled":"",attrs:{disabled:t.fbParams.disableSubmit},on:{click:t.onSubmit}},[t._v(" "+t._s(t.$t("chat_feedback_submit_text"))+" ")])]):t._e()])])},i=[],s=a("c7eb"),o=a("1da1"),c=a("5530"),r=(a("159b"),a("14d9"),a("a434"),a("e9c4"),a("4328")),l=a.n(r),d=a("9de0"),u=d["b"].create(),f="/webim/innerPage/feedBack",m={name:"feedback",props:{data:{type:Object,default:function(){return{}}},singleSeqs:{type:String,default:""}},inject:["globalData","wpaDetail","to"],data:function(){var t={disableSubmit:!0,value:0,text:"",isSolve:0,ids:[],editable:!0,evaluation:[{name:"veryDissatisfied",text:this.$t("chat_feedback_very_dissatisfied_text"),value:1},{name:"dissatisfied",text:this.$t("chat_feedback_dissatisfied_text"),value:2},{name:"neutral",text:this.$t("chat_feedback_neutral_text"),value:3},{name:"satisfied",text:this.$t("chat_feedback_satisfied_text"),value:4},{name:"verySatisfied",text:this.$t("chat_feedback_very_satisfied_text"),value:5}],reply:{1:"很抱歉服务不周，我们会不断改进的",2:"很抱歉服务不周，我们会不断改进的",3:"很抱歉服务不周，我们会不断改进的",4:"感谢你的鼓励，祝你生活愉快",5:"感谢你的鼓励，祝你生活愉快"},title:this.$t("chat_feedback_title_text"),tags:[],placeholder:"点击此处给我们建议",availLetterSum:60,showTags:!1,showSolve:!1,showOpinion:!1,showTitle:!1,isMobile:!1,isDemo:!1,extendData:{styleType:0}},e={tags:[],openTag:!0,openSolve:!0,reply:!1,style:"",extendData:{},result:{}},a=this.data.content;a=a||e;var n=[];(a.tags||[]).forEach((function(t,e){t.forEach((function(t){n.push(Object.assign({level:5-e},t))}))}));var i={isMobile:!this.$platform.pc,showTags:1===a.openTag,showSolve:1===a.openSolve,reply:a.reply,showOpinion:2===a.style,showTitle:!0,title:this.$t("chat_feedback_title_text"),tags:n,extendData:a.extendData},s=a.result||{},o=s.fbLevel,r=s.fbDesc,l=s.isSolve;return i.value=o||0,i.text=r||"",i.isSolve=l||0,i.editable=!o,{msgDataBody:a,fbParams:Object(c["a"])(Object(c["a"])({},t),i)}},computed:{},methods:{setValue:function(t){Object.assign(this.fbParams,{value:t,ids:[]}),this.fbParams.isDemo||Object.assign(this.fbParams,{disableSubmit:!1})},addTags:function(t){var e=this.fbParams.ids,a=e.indexOf(t.id);a>-1?e.splice(a,1):e.push(t.id),Object.assign(this.fbParams,{ids:e})},setResolved:function(t){Object.assign(this.fbParams,{isSolve:t})},onSubmit:function(){if(!this.fbParams.isDemo){var t=this.fbParams.disableSubmit;t||this.beforeSubmit()&&(Object.assign(this.fbParams,{editable:!1}),this.sendResult(this.fbParams))}},beforeSubmit:function(){return!0},sendResult:function(t){var e=this;return Object(o["a"])(Object(s["a"])().mark((function a(){var n,i,o,c,r,d,u,m,h,g;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("this.globalData",e.globalData),n=[],i=t.ids||[],console.log("this.msgDataBody",e.msgDataBody),(e.msgDataBody.tags||[]).forEach((function(t){t.forEach((function(t){i.indexOf(t.id)>-1&&n.push(t)}))})),o=e.msgDataBody,c={fbLevel:t.value,fbDesc:t.text,isSolve:t.isSolve,tags:n,seq:o.seq,fbKey:o.fbKey,visitorId:e.to.user_id,kfuin:e.wpaDetail.kfUin,extUin:o.extUin,wpaId:e.wpaDetail.wpaId,session_time:e.data.time,sessionId:e.msgDataBody.sessionId,extendData:o.extendData},r=l.a.stringify(c),d="".concat(f,"?kfuin=").concat(c.kfuin),a.next=11,e.$ajax.post(d,r);case 11:u=a.sent,m=u.data,m.code||m.r?(h=u.message||e.$t("chat_feedback_error_msg"),e.$Toast({text:h,type:"error"})):(g=e.$t("chat_feedback_success_msg"),e.$Toast(g),e.handleResultToDb(o));case 14:case"end":return a.stop()}}),a)})))()},handleResultToDb:function(){u.setMessageTags(this.data,[{tag:"feed_back",value:JSON.stringify(this.msgDataBody)}])}}},h=m,g=(a("ab58"),a("2877")),p=Object(g["a"])(h,n,i,!1,null,"5966f5ed",null);e["default"]=p.exports},"1e96":function(t,e,a){},"1ec8":function(t,e,a){t.exports=a.p+"img/file-upload.d2ccbf58.svg"},2:function(t,e,a){t.exports=a("cb74")},"20b7":function(t,e,a){"use strict";a("d3b7");var n=a("ae03"),i=a("97e5");function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e){n["a"].post(i["s"],t).then((function(t){e(t.data)})).catch((function(){e({code:999,data:{},msg:"获取更多数据失败"})}))}))}e["a"]=s},"20e2":function(t,e,a){"use strict";a("35f4")},"20e9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"surveyRef",staticClass:"box-survey",class:{"box-survey--pc":this.$platform.pc}})},i=[],s=a("5530"),o=a("d4ec"),c=a("bee2"),r=a("257e"),l=a("262e"),d=a("2caf"),u=a("ade3"),f=(a("99af"),a("caad"),a("d3b7"),a("159b"),a("a9e3"),a("d81d"),a("14d9"),a("4de4"),a("2532"),a("ac1f"),a("841c"),a("9ab4")),m=a("1b40"),h=a("4328"),g=a.n(h),p=a("5ac5"),b=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(u["a"])(Object(r["a"])(t),"wpaDetail",void 0),Object(u["a"])(Object(r["a"])(t),"data",void 0),Object(u["a"])(Object(r["a"])(t),"originConfig",{}),Object(u["a"])(Object(r["a"])(t),"config",{}),t}return Object(c["a"])(a,[{key:"reqSuffix",get:function(){return this.data?this.data.content.content:""}},{key:"mounted",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var t=this,e="/v1/qf/report/survey/getSatisfaction?".concat(this.reqSuffix);this.$ajax.get(e).then((function(e){var a;[0,1].includes(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.code)&&(t.config=e.data.data||{},t.handle((null===e||void 0===e?void 0:e.data)||{}))}))}},{key:"handle",value:function(t){var e=this;this.originConfig=t;var a=t.code,n=t.data,i=t.evaluation_label,o=t.reply,c=t.satisfaction_tag,r=void 0===c?[]:c,l=t.solve_the_problem,d=t.title,u=t.extendData;if([0,1].includes(a)){var f={editable:0===a};n.forEach((function(t){if(1===Number(t.id)&&(f.title=t.title,1===a&&(f.value=Number((t.contents&&t.contents[0]).score||1))),2===Number(t.id)){var e=t.contents&&t.contents[0]||{content:"",maxNum:60};f.availLetterSum=e.maxNum,f.showOpinion=!0,1===a&&(f.text=e.content)}if(3===Number(t.id))if(1===a){var n=t.contents&&t.contents[0]&&t.contents[0].content||[];f.ids=n.map((function(t){return t.id}))}else f.ids=[];4===Number(t.id)&&1===a&&(f.isSolve=Number(t.contents&&t.contents[0]&&t.contents[0].content||0))}));var m=[];(r||[]).forEach((function(t,e){t.forEach((function(t){m.push(Object.assign({level:5-e},t))}))})),f.value||(f.value=5);var h=Object(s["a"])(Object(s["a"])({},f),{},{showTags:1===i,showSolve:1===l,reply:o,showTitle:!!d,title:d,tags:m,extendData:u});this.config=Object(s["a"])({},h),new window.Feedback(this.$refs.surveyRef,h,{onSubmit:function(t){return e.submit(t)}}),this.$nextTick((function(){return e.onLoad()}))}}},{key:"submit",value:function(t){var e=this,a=[],n=t.value,i=t.text,s=t.ids,o=t.isSolve;a[0]={id:1,contents:[n]},a[1]={id:2,contents:[i]},this.config.showTags&&(a[2]={id:3,contents:this.config.tags.filter((function(t){return s.includes(t.id)}))}),this.config.showSolve&&(a[3]={id:4,contents:o}),Object.assign(this.config,{editable:!1});var c=g.a.parse(location.search,{ignoreQueryPrefix:!0}),r=c.kfuin;this.$ajax.post("/v1/qf/report/survey/sendSatisfaction?kfuin=".concat(r),g.a.stringify({kfuin:r,uk:this.originConfig.uk,submit:a}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var a=(null===t||void 0===t?void 0:t.data)||{},n=a.code,i=a.message,s=0===n?e.$t("chat_feedback_success_msg"):i||e.$t("chat_feedback_error_msg");e.$Toast(s)})).catch((function(t){return e.$Toast({text:t.message||"提交满意度错误！",type:"error"})}))}},{key:"onLoad",value:function(){p["a"]["scrollToBottom"](!0,500)}}]),a}(m["d"]);Object(f["a"])([Object(m["b"])()],b.prototype,"wpaDetail",void 0),Object(f["a"])([Object(m["c"])()],b.prototype,"data",void 0),b=Object(f["a"])([Object(m["a"])({name:"MsgSatisfactionSurvey"})],b);var v=b,_=v,w=(a("e5f5"),a("2877")),y=Object(w["a"])(_,n,i,!1,null,null,null);e["default"]=y.exports},"20ff":function(t,e,a){var n={"./BatchMsg.vue":"81e7","./FreeMsg.vue":"277d","./HtmlMsg.vue":"a273","./ModelMsg.vue":"9a5b","./QlistMsg.vue":"1915","./TableMsg.vue":"e578"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="20ff"},2148:function(t,e,a){t.exports=a.p+"img/video_line.4604df1d.svg"},2475:function(t,e,a){"use strict";a("5df5")},"24a3":function(t,e,a){"use strict";a("eb9c")},"25b1":function(t,e,a){"use strict";a("b050")},"26f8":function(t,e,a){},"277d":function(t,e,a){"use strict";a.r(e);a("a15b");var n=function(){var t=this,e=t._self._c;return e("div",{attrs:{"data-msg-type":t.msgType}},[1===t.msgType?[t.isBtnList?e("div",[e("div",{staticClass:"btn-title",domProps:{innerHTML:t._s(t.btnListData.title)}}),e("div",{staticClass:"bubble-btn",class:"bubble-btn-cnt-".concat(t.btnListData.list.length),domProps:{innerHTML:t._s(t.btnListData.list.join(""))}})]):e("div",{staticClass:"richmsg-type-5",domProps:{innerHTML:t._s(t.msgContent)}})]:[e("div",{staticClass:"qlist-content"},[e("div",{staticClass:"qlist-title",domProps:{innerHTML:t._s(t.qlist.title)}}),e("div",{staticClass:"qlist-list",domProps:{innerHTML:t._s(t.qlist.list.join(""))}})])]],2)},i=[],s=(a("ac1f"),a("14d9"),a("99af"),a("fb6a"),a("f439")),o=a("d90f"),c={props:{message:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{msgData:function(){return this.message.content},msgContent:function(){var t=this.message.content.content;return t=o["a"].coverEmojIndex2EmojiImg(Object(s["a"])(t)),t},msgType:function(){return this.message.content.msgType||1},qlist:function(){return this.parseQList(this.msgContent)},isBtnList:function(){return this.msgContent.indexOf("quick-relply-btn")>-1},btnListData:function(){return this.parseBtnList(this.msgContent)}},methods:{parseQList:function(t){var e=/(<a[^>]*?>)(.*?)(<\/a>)/g,a={title:"",list:[]},n=0,i=null;while(i=e.exec(t))0===n&&(n=i.index),i.length>=4&&a.list.push("".concat(i[1],'<span title="').concat(i[2],'">').concat(i[2],"</span>").concat(i[3]));return n&&(a.title=Object(s["a"])(t.slice(0,n))),a},parseBtnList:function(t){var e=/(<a[^>]*?quick-relply-btn[^>]*?>)(.*?)(<\/a>)/g,a={title:"",list:[]},n=0,i=null;while(i=e.exec(t))0===n&&(n=i.index),i.length>=4&&a.list.push("".concat(i[1],'<span title="').concat(i[2],'">').concat(i[2],"</span>").concat(i[3]));return n&&(a.title=Object(s["a"])(t.slice(0,n))),a}}},r=c,l=(a("94b7"),a("2877")),d=Object(l["a"])(r,n,i,!1,null,"20a7d0b8",null);e["default"]=d.exports},"27a3":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var n=a("f80b"),i=!0;try{localStorage.setItem("test-qd-localStorage","1")}catch(o){i=!1}var s={getItem:function(t){try{return i?localStorage.getItem(t):n["a"].get(t)}catch(o){return""}},setItem:function(t,e){try{return i?localStorage.setItem(t,e):n["a"].set(t,e,{expires:365})}catch(o){return""}},removeItem:function(t){try{return i?localStorage.removeItem(t):n["a"].remove(t)}catch(o){return""}}}},2809:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA4RJREFUWAndVj1M01EQf/fKh0aCgUHUQQcTqAFaDa5AqV/RBWWTQQedjIOJwmKEopvExMEw6YqJg8oCMRooOJlICBVCIWHQAWQQYqwJ0Pad90rv9fWfftBCiPG/3O8+3t3vf//rvQrxvz0+n6+kkHeShQTni631tPQu/1SDiAj5YtlfEFs+lEnWelt7hFIBJGedt3WWRF+mOKdt9zqAWGmSI/a6vS0dRs8Bdo1AZ4e/GwBGkrVAKTFQ7/NV5KidcO2IAA3cPi4QCARURWnZNQDxbcuGNdFVdY/92WTRBBIDt6qG7amfnPz4S0h4wMUAxX2P58Ih1jPJogjUeZsfCsQATXvbjzX1zE4cnhofFABT2oYCKzZw447td+KiCFDmdU6kFN52N7Y1sU5zgC6Ax6wLwKsGZwBFEZgPfeoXAt4m8wFC/Imdu6YKRojIH22jLjU0NPlP2H4bb5uAc6LLykq6aOCiySJ+t/dsLScOBoPrtA/es74Zi7czdsptEdADF1tVQ/aGm5kcXRQI7zghqtgVxlrSKhxmHRDNJ2Iby7wEdPHkwPlPeny3+KCWVCRFQKjzaT4pF42OeNRgB8hJgIvzGQXqJuOElKVfWKfPcYxxQqJryeggCifgLK6T0bTVm6QEXFXxVBGEtCK5fHaOrB0gB3U49xOLVloxqO+hLE92X1YC4dBEQAL02RkRUN9y5oHInyMpRSwbTCC+5kp1BNJ9dlxWAjrISUKifGkfFip6hnV6x++MExLiKQIoUp8qLUiInAR0LJOgxTI6Fwq+sM9Tz81PD4T8kOZTKrV8AIonwCRKqmW7XrNcJLHdAA0BAXKIfVpS4GXWEWCSsVPm7QAfmA0GI4y13NyM9VPbSzXW3ZkPjc1rrB99TdN0XtzShCgrcaWRY7uW2yZgH6rzNHfRO/IlQ7Pp6rb9K2t4ibbmAW0jcjOJrWkHWLgoAghyP+eQEgbCX8dMi/W6jiP2sJ/WNV9axmSDoggsTI8/0j9Reruxw1Xyrp3Qfbq1k1b3KW0DAZFyKH9u+53YWiROV35df2t983FkU9O5g5HoxjTNxvGEDSCwEJpI2yUcy7KoDvBhuzj9J5SR6OYrU1zASmm1fMqx2aQrm6NQ+9Kq6qfWX0+eQ5qNG3Ofx6fz5dlRBxzJfxud5iM8PfHG6HsF3J6WQF1jy2v7j8te1TZ17L/pxvgvg7/exzMkOlY5EgAAAABJRU5ErkJggg=="},2926:function(t,e,a){"use strict";a("111c")},2932:function(t,e,a){},"298c":function(t,e,a){t.exports=a.p+"img/open-slide.90207692.svg"},"29ee":function(t,e,a){"use strict";a("0d8a")},"2b21":function(t,e,a){"use strict";a("ca0c")},"2b42":function(t,e,a){t.exports=a.p+"img/changeBatch.abe0bd70.svg"},"2b8a":function(t,e,a){t.exports=a.p+"img/more.b59a6234.svg"},"2be0":function(t,e,a){},"2bf8":function(t,e,a){"use strict";var n=a("53ca"),i=a("c7eb"),s=a("1da1"),o=a("5530"),c=(a("ac1f"),a("841c"),a("5319"),a("99af"),a("b64b"),a("a9e3"),a("4328")),r=a.n(c),l=(a("e9c4"),["#0067ed","#4A70FF","#ff9232","#ee685d","#25cd98"]),d=l[1],u="qdim_saas_theme_config-";function f(t){var e=t.bgColor,a="--bg-color: ".concat(e||d,";");return a}function m(t){var e,a,n,i=t.theme,s=t.inputStyleConfig,o=s||{},c=o.themeColor,r=o.backgroundImage;return c?e=c:""!==i&&(e=l[i]),r&&(a=r.mobile||"",n=r.pc||""),{bgColor:e,h5BgImage:a,pcBgImage:n}}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t.kfuin,n=u+a,i=null;if(!e){var s={};try{s=JSON.parse(localStorage.getItem(n)||"{}")}catch(d){}return i=m(s),{customStyle:f(i),setting:i}}var o=e.theme,c=e.inputStyleConfig,r=void 0===c?{}:c,l={theme:o,inputStyleConfig:r};try{localStorage.setItem(n,JSON.stringify(l))}catch(d){}return i=m(l),{customStyle:f(i),setting:i}}var g=a("d5b4"),p=a("e060"),b=(a("466d"),function(){var t=navigator.userAgent.toLocaleLowerCase();return null!==t.match(/msie/)||null!==t.match(/trident/)}),v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#4A70FF",e="html, body{ --bg-color: ".concat(t," }");b()&&(e=".bg-primay{\n      background: ".concat(t,"!important;\n    }\n    .txt-primay{\n      color: ").concat(t,"!important;\n    }\n    .icon-primay{\n      color: ").concat(t,"!important;\n    }\n    a{\n      text-decoration: none;\n      color: ").concat(t,";\n    }"));var a=document.createElement("style");a.type="text/css",a.innerHTML=e,document.head.appendChild(a)},_=a("ea5f"),w=a("e395"),y=(a("14d9"),{data:function(){return{bubbleConfig:{}}},computed:{hasBubble:function(){var t,e,a=this.bubbleConfig,n=a.bubbles,i=a.robotBubbles,s=a.aioUpBubbles,o=n&&n.length,c=!(null===s||void 0===s||null===(t=s.menuJson)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.menu)||void 0===t||null===(t=t.list)||void 0===t||!t.length),r=!(null===i||void 0===i||null===(e=i.menuJson)||void 0===e||null===(e=e.content)||void 0===e||null===(e=e.menu)||void 0===e||null===(e=e.list)||void 0===e||!e.length);return o||c||r}},watch:{reception:{handler:function(t,e){var a=t.robotId,n=t.extuin,i=e.robotId,s=e.extuin;a===i&&n===s||this.getBubbleConfig()},deep:!0}},methods:{getBubbleConfig:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a,n,s,o,c,l,d,u;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=r.a.parse(window.location.search,{ignoreQueryPrefix:!0}),n=["inputUpInfoForCommon"],t.reception.robotId&&n.push("inputUpInfoForRobot"),t.reception.extuin&&n.push("inputUpInfoForHuman"),s=t.wpaDetail,o=s.kfuin,c=s.wpaId,l=s.visitorid,d=s.key,u={kfuin:a.kfuin||o,robotId:t.reception.robotId,type:0,visitorId:l,wpaId:c,fields:n,key:d},Object(_["a"])(u,(function(e){var a,n,i,s=e.inputUpInfoForHuman,o=void 0===s?{}:s,c=e.inputUpInfoForCommon,r=void 0===c?{}:c,l=e.inputUpInfoForRobot,d=void 0===l?{}:l,u=(null===r||void 0===r?void 0:r.data)||{},f=(null===d||void 0===d?void 0:d.data)||{},m=(null===o||void 0===o?void 0:o.data)||{};t.bubbleConfig={bubbles:u,robotBubbles:f,aioUpBubbles:m},null!==(a=t.bubbleConfig.aioUpBubbles)&&void 0!==a&&null!==(a=a.menuJson)&&void 0!==a&&null!==(a=a.content)&&void 0!==a&&null!==(a=a.menu)&&void 0!==a&&null!==(a=a.list)&&void 0!==a&&a.length?i="forHuman":u&&u.length&&"null"!==u?i="normal":null!==(n=t.bubbleConfig.robotBubbles)&&void 0!==n&&null!==(n=n.menuJson)&&void 0!==n&&null!==(n=n.content)&&void 0!==n&&null!==(n=n.menu)&&void 0!==n&&null!==(n=n.list)&&void 0!==n&&n.length&&(i="robot"),t.bubbleConfig.type=i,console.log("bubbleConfig",t.bubbleConfig)}));case 7:case"end":return e.stop()}}),e)})))()}}}),x=(a("00b4"),a("b0c0"),a("d3b7"),a("159b"),a("07ac"),a("9de0")),A=a("f80b"),C=a("27a3"),T=a("e490"),q="".concat(location.protocol,"//").concat(location.host).concat(location.pathname.replace(/\w+\.html/,"sso-middle.html")),k={commonAuth:{name:T["a"]?"commonAuth":"commonAuthCredential",ssoIframe:!0,appType:99},wx_mp:{name:"wx_mp",ssoIframe:!1,appType:1},wx_mini:{name:"wx_mini",ssoIframe:!1,appType:1},wx_mix:{name:"wx_mix",ssoIframe:!1,appType:1},wx_qy:{name:"wx_qy",ssoIframe:!1,appType:19},wx_qy_qrcode:{name:"wx_qy_qrcode",ssoIframe:!1,appType:19},LingHangTEST:{name:"LingHangTEST",appType:6,ssoIframe:!0,ssoIframeUrl:"/cgi-bin/oauth2/authorize?appid=438274603635200001&response_type=code&state=LingHangTEST&scope=clientapi_base&sid=448745233220476928&authCategory=BUYER&authTenantid=438274603635200000&redirect_uri=".concat(encodeURIComponent(q)),authDomain:"it-blinkapi.cantonfair.org.cn",apiDomain:"it-blinkapi.cantonfair.org.cn"},LingHang:{name:"LingHang",appType:6,ssoIframe:!0,ssoIframeUrl:"/cgi-bin/oauth2/authorize?appid=438274603635200001&response_type=code&state=LingHang&scope=clientapi_base&sid=448745233220476928&authCategory=BUYER&authTenantid=438274603635200000&redirect_uri=".concat(encodeURIComponent(q)),authDomain:"it-blinkapi.cantonfair.org.cn",apiDomain:"it-blinkapi.cantonfair.org.cn"},LingHangPT:{name:"LingHangPT",appType:6,ssoIframe:!0,ssoIframeUrl:"/cgi-bin/oauth2/authorize?appid=461435117139689472&response_type=code&state=LingHang&scope=clientapi_base&sid=465371950647181312&authCategory=BUYER&authTenantid=438274603635200000&redirect_uri=".concat(encodeURIComponent(q)),authDomain:"pt-blinkapi.cantonfair.org.cn",apiDomain:"pt-blinkapi.cantonfair.org.cn"},LingHangOL:{name:"LingHangOL",appType:6,ssoIframe:!0,ssoIframeUrl:"/cgi-bin/oauth2/authorize?appid=461101391566348288&response_type=code&state=LingHang&scope=clientapi_base&sid=463996009396080640&authCategory=BUYER&authTenantid=438274603635200000&redirect_uri=".concat(encodeURIComponent(q)),authDomain:"blinkapi.cantonfair.org.cn",apiDomain:"blinkapi.cantonfair.org.cn"},tencentSSO:{name:"tencentSSO",ssoIframe:!1},LingLongTEST:{name:"LingLongTEST",appType:11,ssoIframe:!0,ssoIframeUrl:"/CustomerService.html?state=%257B%2522auth%2522%253A%2522LingLongTEST%2522%257D&redirect_uri=".concat(encodeURIComponent(q)),authDomain:"linglongdev.51autoshop.com"},LingLongUAT:{name:"LingLongUAT",appType:11,ssoIframe:!0,ssoIframeUrl:"/CustomerService.html?state=%257B%2522auth%2522%253A%2522LingLongUAT%2522%257D&redirect_uri=".concat(encodeURIComponent(q)),authDomain:"devshop.linglong.cn"},LingLong:{name:"LingLong",getVidUrlKey:"CHECK_THIRD_VISITORID",appType:11,needGetOpenid:!1,reconnectDoSso:!0,ssoIframe:!0,ssoIframeUrl:"/CustomerService.html?state=%257B%2522auth%2522%253A%2522LingLong%2522%257D&redirect_uri=".concat(encodeURIComponent(q)),redirectUrl:"https://webpage.qidian.qq.com/2/chat/sso-middle/index.html",authDomain:"sms.linglong.cn"},shOnline:{name:"shOnline",getVidUrlKey:"CHECK_THIRD_VISITORID",appType:12,needGetOpenid:!1,reconnectDoSso:!0,ssoIframe:!0,ssoIframeUrl:"/webim/sessionSH/wpaOpen?state=%257B%2522auth%2522%253A%2522shOnline%2522%257D&redirect_uri=https%3A%2F%2Fwebpage.qidian.qq.com%2F2%2Fchat%2Fsso-middle%2Findex.html",redirectUrl:"https://webpage.qidian.qq.com/2/chat/sso-middle/index.html",authDomain:"consolecgi.qidian.qq.com"}},I=a("3835");a("4d63"),a("c607"),a("2c3e"),a("25f0");function M(t,e){var a,n;if(e){a=new RegExp("[?&]?".concat(e,"=([^&#]*)"),"i");try{var i=a.exec(t),s=Object(I["a"])(i,1);n=s[0]}catch(o){n=""}}return""!==n&&(t=t.replace(n,"")),t}function O(t,e,a){var n,i;if(e){n=new RegExp("([?&]?)".concat(e,"=([^&#]*)"),"i");try{i=n.exec(t)}catch(s){i=""}}return i&&(t=t.replace("".concat(e,"=").concat(i[2]),"".concat(e,"=").concat(a))),t}function S(t,e,a){return"".concat(t+(t.indexOf("?")>-1?"&":"?")+e,"=").concat(encodeURIComponent(a))}var D,j=a("2ccf"),P={aid:"qdim_saas_user_id",d2:"qdim_saas_token",uuid:"qdim_saas_uuid"},E="qdim_saas_auth_data",F={data:function(){return{hasLogined:!1}},computed:{currentSaasAidLocalStorageKey:function(){return{aid:"".concat(P.aid,"_").concat(this.wpaDetail.kfuin),d2:"".concat(P.d2,"_").concat(this.wpaDetail.kfuin),uuid:"".concat(P.uuid,"_").concat(this.wpaDetail.kfuin)}},currentAuthDataKey:function(){return"".concat(E,"_").concat(this.wpaDetail.kfuin)}},methods:{createLoginConfig:function(){var t=arguments,e=this;return Object(s["a"])(Object(i["a"])().mark((function a(){var n,s,c,l,d,u,f,m,h,g,p,b,v,_,w,y,A,q,I,M,S,D,P;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:3,s=e.currentSaasAidLocalStorageKey,c=(T["a"],3),l=Number(e.wpaDetail.kfuin),d=e.authConf.authRedirectUrl,u=e.authConf,f=u.authType,m=u.authData,h=/code=[^&]+/.test(m),p=e.authDataToStorage(),b=e.getAccount(),v="wx_mp"===f&&!h&&!e.isValidAccount(p)||!k[f],v&&(f="",e.authConf=Object(o["a"])(Object(o["a"])({},e.authConf),{},{authType:f})),_=!1,g=f&&"tencentSSO"!==f&&!_?p:b,w=!1,e.isValidAccount(g)&&(console.log("[hasCacheAccount]",g),w=!0),!f||"tencentSSO"===f||_){a.next=24;break}if(y=k[f]||{},A=y.ssoIframe,q=y.ssoIframeUrl,I=y.name,m=O(m,"auth",I),m+="&wpa_id=".concat(e.wpaDetail.wpaId),w||!A||h){a.next=24;break}if(!q&&!d){a.next=24;break}return e.jumptoThirdSiteToAuth(),a.abrupt("return");case 24:return M=r.a.stringify({visitorId:e.wpaDetail.visitorId,nickName:e.wpaDetail.nickName,plat:e.wpaDetail.plat}),a.prev=25,a.next=28,x["c"].createVisitor({appid:c,kfuin:l,userAgent:null===(D=navigator)||void 0===D?void 0:D.userAgent,extendData:M},g,{authType:f,authData:m});case 28:S=a.sent,a.next=61;break;case 31:if(a.prev=31,a.t0=a["catch"](25),window.QdMonitor&&window.QdMonitor.log({name:"login_fail",ext1:JSON.stringify(Object(o["a"])(Object(o["a"])({appid:c,kfuin:l},g),{authType:f,authData:m})),ext2:JSON.stringify(a.t0)}),!e.inIframe||"tencentSSO"!==f){a.next=37;break}return window.parent.postMessage({act:"ERROR_AUTH",data:{visitorid:S.aid,token:S.d2,kfuin:l,wpaId:e.wpaDetail.wpaId,wpaKey:e.wpaDetail.key}},"*"),a.abrupt("return");case 37:if(10017!==a.t0.code&&600017!==a.t0.code){a.next=53;break}if(!f){a.next=45;break}if(e.authDataToStorage(null),10017!==a.t0.code||!(null!==(P=k[f])&&void 0!==P&&P.ssoIframeUrl||d)){a.next=43;break}return e.jumptoThirdSiteToAuth(),a.abrupt("return");case 43:a.next=51;break;case 45:if(e.clearAccount(),n-=1,!(n>0)){a.next=51;break}return a.next=50,e.createLoginConfig(n);case 50:return a.abrupt("return",a.sent);case 51:a.next=60;break;case 53:if(6e4!==a.t0.code){a.next=59;break}return j["a"].add({method:"[createLoginConfig-60000]",message:{authType:f,authData:m},url:location.href}),window.location.replace(location.href.replace(/auth=commonAuth/i,"")),a.abrupt("return");case 59:a.t0.code;case 60:return a.abrupt("return",Promise.resolve({code:a.t0.code,message:a.t0.message}));case 61:if(e.storeFetchCodeTimes("del"),window.QdMonitor&&window.QdMonitor.log({name:"login",ext1:JSON.stringify(Object(o["a"])(Object(o["a"])({appid:c,kfuin:l},g),{authType:f,authData:m})),ext2:JSON.stringify(S)}),f)!S.userInfo&&p.userInfo&&(S.userInfo=p.userInfo),S.userInfo?e.authDataToStorage({aid:S.aid,d2:S.d2,userInfo:S.userInfo}):e.authDataToStorage({aid:S.aid,d2:S.d2});else if(e.inIframe)window.parent.postMessage({act:"UPDATE_AUTH",data:{visitorid:S.aid,token:S.d2,kfuin:l,wpaId:e.wpaDetail.wpaId}},"*");else try{S.aid?C["a"].setItem(s.aid,S.aid):C["a"].removeItem(s.aid),S.d2?C["a"].setItem(s.d2,S.d2):C["a"].removeItem(s.d2)}catch(i){console.log("防止无痕模式iframe中的localStorage报错",i)}return a.abrupt("return",Object(o["a"])(Object(o["a"])({},S),{},{appid:c}));case 65:case"end":return a.stop()}}),a,null,[[25,31]])})))()},clearAccount:function(){if(this.inIframe)this.wpaDetail.visitorid="",this.wpaDetail.uuid="",this.wpaDetail.token="";else{var t=this.currentSaasAidLocalStorageKey;try{Object.values(t).forEach((function(t){C["a"].removeItem(t)}))}catch(e){}}},getAccount:function(){var t={};if(this.inIframe)t={aid:this.wpaDetail.visitorid,uuid:this.wpaDetail.uuid,d2:this.wpaDetail.token};else{var e=this.currentSaasAidLocalStorageKey;try{t.aid=C["a"].getItem(e.aid)||"",t.d2=C["a"].getItem(e.d2)||"",t.uuid=C["a"].getItem(e.uuid)||""}catch(a){t.aid="",t.d2="",t.uuid=""}}return this.hasLogined=!0,t},getTenecntSig:function(){try{var t="tencentSig",e=r.a.parse(window.location.search,{ignoreQueryPrefix:!0}),a=e.visitorId?e.visitorId:A["a"].get(t);return/^\d+$/.test(a)||(a=""),a||(a=localStorage.getItem(t)),a||""}catch(n){return""}},authDataToStorage:function(t){var e=this.currentAuthDataKey;if(t)try{sessionStorage.setItem(e,JSON.stringify(t))}catch(a){}else if(null===t)try{sessionStorage.removeItem(e)}catch(a){}else try{return JSON.parse(sessionStorage.getItem(e)||"{}")}catch(a){return{}}},jumptoThirdSiteToAuth:function(){if(!this.inIframe)if(!1!==this.storeFetchCodeTimes("retry")){var t,e=this.authConf,a=e.authType,n=e.authRedirectUrl,i=k[a],s=i.authDomain,o=i.ssoIframeUrl;n&&(t=S(n,"redirect_uri",q));var c=t||"https://".concat(s).concat(o),r=window.location.href;r=M(r,"code"),r=M(r,"response_type"),r=M(r,"session_state"),r=M(r,"scope"),r=M(r,"nonce"),r=M(r,"msgInfo");var l=c+encodeURIComponent("?queryString=".concat(encodeURIComponent(r)));j["a"].add({method:"[jumptoThirdSiteToAuth]",message:{authType:a,redirectUrl:l},url:location.href},6e4),window.location.replace(l)}else{var d;null===(d=this.$refs)||void 0===d||null===(d=d.aio)||void 0===d||d.showIncomingTimeout()}},hanldErrorForD2:function(t){console.log("[hanldErrorForD2]",t)},storeFetchCodeTimes:function(t){var e=2,a=this.wpaDetail,n=a.kfuin,i=a.wpaId,s="qdim_fetch_code_times_".concat(n,"_").concat(i);try{if("retry"===t){var o=sessionStorage.getItem(s)||0;return o=o-0+1,sessionStorage.setItem(s,o),!(o>e)||(sessionStorage.removeItem(s),!1)}"del"===t&&sessionStorage.removeItem(s)}catch(c){return!1}},isValidAccount:function(t){return!!(t&&t.aid&&t.d2)}}},L=function(){var t=this,e=t._self._c;return e("div",{ref:"chatBubble",class:["chat-bubble",t.isMobile?"":"chat-bubble-pc"]},["normal"===t.bubbleConfig.type?e("div",{staticClass:"chat-list-show-box normal"},t._l(t.bubbleConfig.bubbles,(function(a,n){return e("span",{key:n,staticClass:"list-msg",on:{click:function(e){return t.onClickNormal(a)}}},[t._v(t._s(a.text))])})),0):"robot"===t.bubbleConfig.type?e("div",{staticClass:"chat-list-show-box robot",style:"right: "+t.right+"px"},[t._l(t.bubbleConfig.robotBubbles.menuJson.content.menu.list,(function(a,n){return[5===a.action?e("message-link",{key:n,staticClass:"list-msg",style:"color:"+t.bubbleConfig.robotBubbles.color.color,attrs:{link:{url:"qdweb://webim/message/sendc2b?content=".concat(a.name),text:a.name,canClickAgain:!0}}}):e("span",{key:n,staticClass:"list-msg",style:"color:"+t.bubbleConfig.robotBubbles.color.color,on:{click:function(e){return t.onClickRobot(a)}}},[t._v(t._s(a.name))])]}))],2):"forHuman"===t.bubbleConfig.type?e("div",{staticClass:"chat-list-show-box forHuman",style:"right: "+t.right+"px"},[t._l(t.bubbleConfig.aioUpBubbles.menuJson.content.menu.list,(function(a,n){return[e("span",{key:n,staticClass:"list-msg",style:"color:"+t.bubbleConfig.aioUpBubbles.color.color,on:{click:function(e){return t.onClickAioUpBubble(a)}}},[t._v(t._s(a.name))])]}))],2):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile&&t.rightStatus,expression:"!isMobile && rightStatus"}],staticClass:"right-btn icon-arrow-right",on:{click:t.moveRight}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile&&t.leftStatus,expression:"!isMobile && leftStatus"}],staticClass:"left-btn icon-arrow-left",on:{click:t.moveLeft}})])},R=[],N=a("3b97"),B=a("88ab"),G=a("5ac5"),Q=a("7b05"),z=a("d90f"),U=a("6e0c"),H=a("f5db"),Y=a("60ce"),W={name:"message-bubble",mixins:[N["a"]],inject:["globalData","wpaDetail"],props:{bubbleConfig:{type:Object,default:function(){return{}}}},components:{MessageLink:B["a"]},computed:{isMobile:function(){return!this.$platform.pc}},data:function(){return{type:"robot",right:0,leftStatus:!1,rightStatus:!1}},mounted:function(){var t=this;this.initArrow(),this.handleResize=Object(U["a"])((function(){t.initArrow()}),200),window.addEventListener("resize",this.handleResize),Object(Q["a"])()<Q["b"]&&G["a"].scrollToBottom()},beforeDestory:function(){window.removeEventListener("resize",this.handleResize)},methods:{onClickNormal:function(t){Object(H["b"])(t.url)},onClickRobot:function(t){this.handleAction(t,{robot_nav_id:this.bubbleConfig.robotBubbles.id,robot_nav_name:"输入框上方互动导航"},this.globalData.reception.robotId)},onClickAioUpBubble:function(t){console.log("[onClickAioUpBubble info]",t);var e=Number(t.action),a=t.meta&&t.meta.path||"";switch(e){case Y["a"].ACTION_REPLY:this.handleAioBubbleAction(t);break;case Y["a"].ACTION_VISITOR:G["a"].sendTextMessage(z["a"].coverEmojIndex2EmojiName(t.meta.replyTextHtml));break;case Y["a"].ACTION_WEB:Object(H["b"])(a);break;case Y["a"].ACTIVE_FEEDBACK:this.$parent.activeFeedback();break;case Y["a"].CLOSE_SESSION:this.$parent.closeSession();break}},handleAioBubbleAction:function(t){var e=t.meta,a=void 0===e?{}:e,n="mqqwpa://im/qdmenu?version=1&src_type=app&isNeedReply=true",i=a.replyType,s={replyType:i,QidianKfUin:this.wpaDetail.kfuin};i===Y["b"].REPLY_TXT?s.replyText=a.replyText:s.materialId=a.materialId;var o="".concat(n).concat(z["a"].objToUrlParams(s));console.log("handleAioBubbleAction",o),Object(H["b"])(o)},initArrow:function(){var t;D=null===(t=this.$refs)||void 0===t||null===(t=t.chatBubble)||void 0===t?void 0:t.querySelector(".chat-list-show-box"),D&&(D.scrollWidth>D.clientWidth?this.rightStatus=!0:(this.moveRight(),this.rightStatus=!1,this.leftStatus=!1))},moveLeft:function(){D&&(D&&"undefined"!==typeof D.scrollWidth&&D.scrollWidth-this.right<=D.clientWidth?(this.leftStatus=!0,this.rightStatus=!0,this.right-=D.clientWidth,this.right<0&&(this.leftStatus=!1,this.right=0)):(this.leftStatus=!1,this.rightStatus=!0,this.right=0))},moveRight:function(){D&&(D.scrollWidth-D.clientWidth-this.right>=D.clientWidth?(this.rightStatus=!0,this.leftStatus=!0,this.right+=D.clientWidth):(this.rightStatus=!1,this.leftStatus=!0,this.right=D.scrollWidth-D.clientWidth))}}},X=W,V=(a("767c"),a("2877")),J=Object(V["a"])(X,L,R,!1,null,"2b8cd7a9",null),K=J.exports,Z=function(){var t=this,e=t._self._c;return t.inputContent?e("div",{staticClass:"msg-auto-complete"},[e("ul",t._l(t.list,(function(a,n){return e("li",{key:n,on:{click:function(e){return t.onClickMsg(a)}}},[e("span",{staticClass:"text"},[e("i",{staticClass:"icon-q"}),t._v(t._s(a.question))])])})),0)]):t._e()},$=[],tt=(a("498a"),a("97e5")),et={inject:["wpaDetail"],props:{config:{default:function(){return{}}},inputContent:{default:""}},computed:{},data:function(){return{list:[]}},watch:{inputContent:function(t){this.inputChange(t)}},mounted:function(){},created:function(){},methods:{inputChange:Object(U["a"])((function(t){this.onChatInputChange(t)}),300),onChatInputChange:function(t){var e,a,n=this;if(0!==t.trim().length){var i={inner_appid:10002,kfuin:this.config.kfuin,type:2,index:1,count:3,keyword:t,robotId:this.config.robotId,contactId:+new Date,channel:5,channelType:3,wpaId:(null===(e=this.wpaDetail)||void 0===e?void 0:e.wpaId)&&Number(null===(a=this.wpaDetail)||void 0===a?void 0:a.wpaId)};this.$ajax.get(tt["r"],{params:i}).then((function(t){var e=t.data.data&&t.data.data.records?t.data.data.records:[];console.log(t,e),e.forEach((function(t){t.question=n.html2text(t.question)})),n.list=e})).catch((function(){}))}else this.list=[]},html2text:function(t){return t.replace(/<[^>]+>/gi,"")},onClickMsg:function(t){this.list=[],this.$emit("onSelected",t)}}},at=et,nt=(a("c5f7"),Object(V["a"])(at,Z,$,!1,null,"ded12532",null)),it=nt.exports,st=function(){var t=this,e=t._self._c;return t.showQuickOrderCard?e("div",{class:["quick-order-card",t.html?"has-html":""]},[e("div",{ref:"quickCard",staticClass:"xml-card",domProps:{innerHTML:t._s(t.html)}}),t.errorToast?e("div",{staticClass:"toast-ec-card-error"},[t._v(t._s(t.toastMsg))]):t._e()]):t._e()},ot=[],ct=(a("d9e2"),a("caad"),a("8a2f")),rt=a("0d3f"),lt=a("94ea"),dt=a("126a"),ut={name:"QuickOrderCard",props:{sessionStart:{type:Boolean,default:!1},wpaDetail:{type:Object,default:function(){return{}}},authConf:{type:Object,default:function(){return{}}}},data:function(){return{scene:null,sceneArgs:null,userClosed:!1,hasRequested:!1,toastMsg:"",errorToast:!1,toastTimer:null,html:""}},computed:{showQuickOrderCard:function(){return Boolean(this.scene)&&!this.userClosed},kfuin:function(){return this.wpaDetail.kfuin||""},secretKey:function(){return this.wpaDetail.token||""},visitorId:function(){return this.wpaDetail.visitorid||""},channelType:function(){return 4}},watch:{sessionStart:{handler:function(t){this.showQuickOrderCard&&!this.hasRequested&&t&&(this.authConf.authType?(this.hasRequested=!0,this.getQuickOrderCard()):this.userClosed=!0)},immediate:!0}},created:function(){this.getUrlSceneParams()},methods:{getUrlSceneParams:function(){var t=r.a.parse(window.location.search,{ignoreQueryPrefix:!0}),e=t.scene,a=t.sceneArgs;this.scene=Number(e)||null,this.sceneArgs=a||null},showToast:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"该功能不可用";this.toastMsg=e,this.errorToast=!0,this.toastTimer&&clearTimeout(this.toastTimer),this.toastTimer=setTimeout((function(){t.errorToast=!1,t.toastMsg="",t.toastTimer=null,t.userClosed=!0}),2500)},getQuickOrderCard:function(){var t=this,e={scene:this.scene,sceneArgs:this.sceneArgs,channelType:this.channelType};dt["a"].post("".concat(tt["k"],"?kfuin=").concat(this.kfuin),e).then((function(e){var a=e.data,n=a.code,i=a.message,s=a.data,o=0;if(n!==o)throw Object.assign(new Error(i),{code:n});var c=s.xmlCard,r=s.xmlMsg,l=Object(ct["d"])(c),d=Object(I["a"])(l,2),u=d[0],f=d[1],m=Object(ct["e"])(u),h=Object(ct["f"])(m),g=Object(lt["b"])(h);t.html=g,t.$nextTick((function(){Object(rt["a"])(t.$refs.quickCard,h,f,{__onlineGoodsObj:{scene:t.scene,sceneArgs:t.sceneArgs,channelType:4,infoUrl:tt["k"],tempXml:r}}),t.$refs.quickCard.firstElementChild.addEventListener("click",(function(){t.userClosed=!0}))}))})).catch((function(e){var a=e.code,n=e.message;[62005,62006].includes(a)?t.showToast():t.showToast(n)}))}}},ft=ut,mt=(a("2475"),Object(V["a"])(ft,st,ot,!1,null,null,null)),ht=mt.exports,gt=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade",duration:300}},[t.show?e("div",{ref:"goodsList",staticClass:"modal-goods-list"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.errorShow,expression:"!errorShow"}],staticClass:"modal",on:{click:function(t){return t.stopPropagation(),function(){}.apply(null,arguments)}}},[e("div",{ref:"modalCt",staticClass:"modal__xml-box"},[e("div",{staticClass:"xml__header"},[e("div",{staticClass:"xml__title"},[e("div",{staticClass:"xml__text"},[t._v("请选择您要咨询的商品")]),e("div",{staticClass:"xml__close",on:{click:function(e){return e.stopPropagation(),t.hide.apply(null,arguments)}}},[e("img",{staticClass:"icon-arrow-down",attrs:{src:a("9cdd")}})])]),e("div",{staticClass:"xml__tabs"},t._l(t.ecQuickMenu.goodsTab,(function(a){return e("div",{key:a.key,class:["tabs__item",t.params.tab===a.key?"tabs__item--active":""],on:{click:function(e){return t.changeTab(a)}}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e("div",{staticClass:"xml__body"},[t._l(t.listData,(function(a){return e("div",{key:a.id,staticClass:"im-product-list-item xml__item",on:{click:function(e){return t.sendMsg(a)}}},[e("div",{staticClass:"list-item-left"},[e("img",{staticClass:"item-cover",attrs:{src:a.image}})]),e("div",{staticClass:"list-item-right"},[e("div",{staticClass:"item-name"},[t._v(t._s(a.title))]),e("div",{staticClass:"item-tag"},[a.inventoryCustom?e("span",[t._v(t._s(a.inventoryCustom))]):null!==a.inventory?e("span",[t._v("库存:"+t._s(a.inventory))]):t._e()]),e("div",{staticClass:"item-tag"},[a.salesCustom?e("span",[t._v(t._s(a.salesCustom))]):null!==a.sales?e("span",[t._v("销量:"+t._s(a.sales))]):t._e()]),e("div",{staticClass:"item-price"},[t._v(" "+t._s(a.currencyUnit)+t._s(a.price)+" ")])])])})),0===t.listData.length?e("div",{staticClass:"im-ecommerce-empty-list"},[e("div",{staticClass:"im-ecommerce-empty-list-inner"},[e("img",{staticClass:"empty-list-img",attrs:{src:a("fe1a")}}),e("p",{staticClass:"empty-list-text"},[t._v("暂无商品")])])]):t._e()],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasNextPage,expression:"hasNextPage"}],staticClass:"xml__footer",on:{click:function(e){return e.stopPropagation(),t.nextPage.apply(null,arguments)}}},[t._v(" 点击加载更多 "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"icon-more anim-rotate",attrs:{src:a("dbf9")}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorShow,expression:"errorShow"}],staticClass:"toast-goods--error"},[t._v(t._s(t.errorMessage||"该功能不可用"))])]):t._e()])},pt=[],bt="/v1/commerce/c/item/list",vt={goods:1,order:2};function _t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scene:1,robotId:"",channelType:4,tab:1,page:1,pageSize:10},e=bt;return dt["a"].post(e,t).then((function(t){var e={code:0,message:"",total:0,data:[]};return 0===t.data.code?(e.total=t.data.data.total,e.data=t.data.data.data):(e.code=t.data.code,e.message=t.data.message),e})).catch((function(t){throw t}))}var wt={mixins:[],inject:["globalData","to","MsgType","IMSDKType"],props:{value:{type:Boolean,default:!1},ecQuickMenu:{type:Object,default:function(){return{goodsTab:[],orderTab:[]}}},wpaDetail:{type:Object,default:function(){return{}}}},components:{},computed:{isMobile:function(){return!this.$platform.pc},hasNextPage:function(){return!(this.listData.length>=this.total)}},data:function(){return{show:this.value,loading:!1,errorShow:!1,errorMessage:"",total:0,listData:[],params:{scene:1,robotId:this.globalData.reception.extuin,channelType:4,tab:"",page:1,pageSize:10}}},watch:{value:function(){this.show=this.value},show:function(t){this.$emit("input",this.show),t?(""===this.selectTab&&this.ecQuickMenu.goodsTab.length>0&&(this.selectTab=this.ecQuickMenu.goodsTab[0].key),""!==this.selectTab&&(this.reset(),this.getList()),document.addEventListener("click",this.hide)):document.removeEventListener("click",this.hide)}},created:function(){},mounted:function(){},beforeDestory:function(){document.removeEventListener("click",this.hide)},methods:{reset:function(){this.errorShow=!1,this.params.tab=this.ecQuickMenu.goodsTab.length>0?this.ecQuickMenu.goodsTab[0].key:"",this.params.page=1,this.listData=[]},getList:function(){var t=this;this.loading||(this.loading=!0,_t(this.params).then((function(e){0===e.code?(t.total=e.total,t.listData=t.listData.concat(e.data)):(t.errorShow=!0,t.errorMessage=e.message),t.loading=!1})).catch((function(e){console.log("error",e),t.errorMessage="",t.errorShow=!0,t.loading=!1})))},nextPage:function(){this.hasNextPage&&(this.params.page=this.params.page+1,this.getList())},changeTab:function(t){t.key!==this.params.tab&&(this.reset(),this.params.tab=t.key,this.getList())},sendMsg:function(t){this.hide(),this.$parent.sendQDXMLMessage({qdxml:{content:t.xmlMsg}},null,{robot_ctrl:{str_ext2robot:JSON.stringify({scene:vt.goods,extRobotType:4})}})},hide:function(t){this.show=!1}}},yt=wt,xt=(a("2b21"),Object(V["a"])(yt,gt,pt,!1,null,"fbbc1b92",null)),At=xt.exports,Ct=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade",duration:300}},[t.show?e("div",{ref:"goodsList",staticClass:"modal-goods-list"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.errorShow,expression:"!errorShow"}],staticClass:"modal",on:{click:function(t){return t.stopPropagation(),function(){}.apply(null,arguments)}}},[e("div",{ref:"modalCt",staticClass:"modal__xml-box"},[e("div",{staticClass:"xml__header"},[e("div",{staticClass:"xml__title"},[e("div",{staticClass:"xml__text"},[t._v("请选择您要咨询的订单")]),e("div",{staticClass:"xml__close",on:{click:function(e){return e.stopPropagation(),t.hide.apply(null,arguments)}}},[e("img",{staticClass:"icon-arrow-down",attrs:{src:a("9cdd")}})])]),e("div",{staticClass:"xml__tabs"},t._l(t.ecQuickMenu.orderTab,(function(a){return e("div",{key:a.key,class:["tabs__item",t.params.tab===a.key?"tabs__item--active":""],on:{click:function(e){return t.changeTab(a)}}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e("div",{staticClass:"xml__body"},[t._l(t.listData,(function(n){return e("div",{key:n.id,staticClass:"im-order-wrapper xml__item",on:{click:function(e){return t.sendMsg(n)}}},[e("div",{staticClass:"im-order-head"},[n.shopName?e("div",{staticClass:"shop-info"},[n.shopIcon?e("img",{staticClass:"shop-icon",attrs:{src:n.shopIcon}}):e("img",{staticClass:"shop-icon",attrs:{src:a("4fc2")}}),e("div",{staticClass:"shop-name"},[t._v(t._s(n.shopName))])]):t._e(),e("div",{staticClass:"order-status"},[t._v(t._s(n.type))])]),e("div",{staticClass:"im-order-content"},[e("div",{staticClass:"list-item-left"},[e("img",{staticClass:"item-cover",attrs:{src:n.goodsList[0].image}})]),e("div",{staticClass:"list-item-right"},[e("div",{staticClass:"order-name"},[t._v(t._s(n.goodsList[0].title))]),e("div",{staticClass:"order-detail"},[e("div",{staticClass:"order-desc"},[t._v(t._s(n.goodsList[0].indicate))]),e("div",{staticClass:"order-count"},[t._v("共"+t._s(n.totalCount)+"件")])]),e("div",{staticClass:"order-detail"},[e("div",{staticClass:"order-desc"},[t._v(" "+t._s(n.goodsList[0].currencyUnit)+t._s(n.goodsList[0].price)+" ")])])])]),e("div",{staticClass:"im-oredr-footer"},[e("div",{staticClass:"item-desc"},[e("div",{staticClass:"item-desc-label"},[t._v("订单金额：")]),e("div",{staticClass:"item-desc-value price"},[t._v(t._s(n.currencyUnit)+t._s(n.actual))])]),n.showOrderNumber?e("div",{staticClass:"item-desc"},[e("div",{staticClass:"item-desc-label"},[t._v("订单编号：")]),e("div",{staticClass:"item-desc-value"},[t._v(t._s(n.orderNumber))])]):t._e(),n.showOrderTime?e("div",{staticClass:"item-desc"},[e("div",{staticClass:"item-desc-label"},[t._v("下单时间：")]),e("div",{staticClass:"item-desc-value"},[t._v(t._s(n.orderTimeStr))])]):t._e()])])})),0===t.listData.length?e("div",{staticClass:"im-ecommerce-empty-list"},[e("div",{staticClass:"im-ecommerce-empty-list-inner"},[e("img",{staticClass:"empty-list-img",attrs:{src:a("fe1a")}}),e("p",{staticClass:"empty-list-text"},[t._v("暂无订单")])])]):t._e()],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasNextPage,expression:"hasNextPage"}],staticClass:"xml__footer",on:{click:function(e){return e.stopPropagation(),t.nextPage.apply(null,arguments)}}},[t._v(" 点击加载更多 "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"icon-more anim-rotate",attrs:{src:a("dbf9")}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorShow,expression:"errorShow"}],staticClass:"toast-goods--error"},[t._v(t._s(t.errorMessage||"该功能不可用"))])]):t._e()])},Tt=[],qt=(a("d81d"),a("5a0c")),kt=a.n(qt),It={mixins:[],inject:["globalData","to","MsgType","IMSDKType"],props:{value:{type:Boolean,default:!1},ecQuickMenu:{type:Object,default:function(){return{goodsTab:[],orderTab:[]}}},wpaDetail:{type:Object,default:function(){return{}}}},components:{},computed:{isMobile:function(){return!this.$platform.pc},hasNextPage:function(){return!(this.listData.length>=this.total)}},data:function(){return{show:this.value,loading:!1,errorShow:!1,errorMessage:"",total:0,listData:[],params:{scene:2,robotId:this.globalData.reception.extuin,channelType:4,tab:"",page:1,pageSize:10}}},watch:{value:function(){this.show=this.value},show:function(t){this.$emit("input",this.show),t?(""===this.selectTab&&this.ecQuickMenu.orderTab.length>0&&(this.selectTab=this.ecQuickMenu.orderTab[0].key),""!==this.selectTab&&(this.reset(),this.getList()),document.addEventListener("click",this.hide)):document.removeEventListener("click",this.hide)}},created:function(){},mounted:function(){},beforeDestory:function(){document.removeEventListener("click",this.hide)},methods:{reset:function(){this.errorShow=!1,this.params.tab=this.ecQuickMenu.orderTab.length>0?this.ecQuickMenu.orderTab[0].key:"",this.params.robotId=this.globalData.reception.extuin,this.params.page=1,this.listData=[]},getList:function(){var t=this;this.loading||(this.loading=!0,_t(this.params).then((function(e){0===e.code?(t.total=e.total,e.data=e.data.map((function(t){var e=Object.assign({},t);return e.goodsList=e.goodsList||[],0===e.goodsList.length&&e.goodsList.push({}),e.orderTimeStr="",e.orderTime&&(e.orderTimeStr=kt.a.unix(t.orderTime).format("YYYY-MM-DD HH:mm")),e})),t.listData=t.listData.concat(e.data)):(t.errorShow=!0,t.errorMessage=e.message),t.loading=!1})).catch((function(e){console.log("error",e),t.errorMessage="",t.errorShow=!0,t.loading=!1})))},nextPage:function(){this.hasNextPage&&(this.params.page=this.params.page+1,this.getList())},changeTab:function(t){t.key!==this.params.tab&&(this.reset(),this.params.tab=t.key,this.getList())},sendMsg:function(t){this.hide(),this.$parent.sendQDXMLMessage({qdxml:{content:t.xmlMsg}},null,{robot_ctrl:{str_ext2robot:JSON.stringify({scene:vt.order,extRobotType:4})}})},hide:function(t){this.show=!1}}},Mt=It,Ot=(a("4636"),Object(V["a"])(Mt,Ct,Tt,!1,null,"01fd1d5e",null)),St=Ot.exports,Dt=a("ade3"),jt=a("72bf"),Pt=a.n(jt),Et=a("dc02"),Ft=a("b463"),Lt=a("4886"),Rt=Lt["a"].getSDKDomain(),Nt=function(t){var e="other";return/(ipad|iphone|ipod).*? (ipad)?qq\/([\d.]+)|\bv1_and_sqi?_([\d.]+)(.*? qq\/([\d.]+))?/i.test(t)?e="mqq":/micromessenger/i.test(t)&&(e="wechat"),e},Bt=function(t){return t.substring(t.indexOf("?")+1)},Gt=navigator.userAgent,Qt=function(t){var e,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isInIframe:!1,isMobile:!1},i={},s="mqq"===Nt(Gt);if(n.isMobile)if(n.isInIframe){var o=t.replace(/\+/gi,"%2B");window.parent.postMessage({act:"LAUNCH",type:"PHONE",sign:o,protocol:"".concat(Rt.consolecgi+tt["u"],"?fromWebIm=1&").concat(Pt.a.stringify(i),"&protocol=").concat(o)},"*")}else top.location.href=s?t:"".concat(Rt.consolecgi+tt["u"],"?").concat(Bt(window.location.href),"&protocol=").concat(t);else"https"===window.location.protocol&&-1===Gt.indexOf("msie")?window.location.href=t:(e=document.createElement("iframe"),a=document.body,e.style.display="none",a.insertBefore(e,a.firstChild),e.src=t)},zt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.bindCallQQEvent=function(e){e&&0===e.r&&"undefined"!==typeof e.data.sign&&Qt(e.data.sign,t)},Object(Et["a"])(Rt.consolecgi+tt["g"],{cb:"bindCallQQEvent",kfext:t.kfext,kfaccount:t.kfaccount,kfuin:t.kfuin,visitorId:t.visitorId,ftype:t.ftype,clickid:Object(Ft["a"])(),_:Date.now()})},Ut=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.bindCallQQEvent=function(t){t&&0===t.r&&"undefined"!==typeof t.data.sign&&Qt(t.data.sign,e)},Object(Et["a"])(Rt.consolecgi+tt["l"],(t={cb:"bindCallQQEvent",kfuin:e.kfuin,visitorId:e.visitorId,fid:e.fid,roleValue:e.roleValue,ftype:e.ftype,roleData:e.roleData,clickid:Object(Ft["a"])(),isCorpUin:e.isCorpUin,reqPos:"0",cate:"",type:"",pid:"",qid:"",clickType:"",tptype:"",eptype:"",tpForm:"",waitTime:"",rolekey:"roleQQ",reqSrc:"routeChange",_:Date.now()},Object(Dt["a"])(t,"waitTime",""),Object(Dt["a"])(t,"callImType",""),Object(Dt["a"])(t,"qidian_track_id",""),Object(Dt["a"])(t,"qidian_src_desc",""),Object(Dt["a"])(t,"qidian_ex1",""),Object(Dt["a"])(t,"qidian_ex2",""),Object(Dt["a"])(t,"qidian_ex3",""),Object(Dt["a"])(t,"qidian_ex4",""),Object(Dt["a"])(t,"qidian_ex5",""),Object(Dt["a"])(t,"guestId",""),Object(Dt["a"])(t,"qidian_lang",""),t))},Ht=(a("04d3"),a("55b6")),Yt=a("9ec0"),Wt='<?xml version="1.0" encoding="utf-8"?><msg brief="广交会意向单" flag="55" serviceID="21">\n<linear width="-1" width.pc="400" height="-2" background.web="#FFFFFFFF">\n        <text width="-1" height="-2" margin="0,0,0,15" text="消息内容解析异常，请联系客服人员" size="32" size.pc="14" style="bold"/>\n</linear>\n</msg>',Xt={xmlTmpHanderMap:{1:"getProductTpl",2:"getOrderTpl",3:"getNewOrderTpl"},getProductTpl:function(t){try{var e=t.pLink,a=void 0===e?"":e,n=t.productLink,i=void 0===n?"":n,s=t.pImg,o=void 0===s?"":s,c=t.productImage,r=void 0===c?"":c,l=t.pName,d=void 0===l?"":l,u=t.productName,f=void 0===u?"":u,m=t.pExArea,h=void 0===m?"":m,g=t.productArea,p=void 0===g?"":g,b=t.bName,v=void 0===b?"":b,_=t.buyerName,w=void 0===_?"":_,y=t.bLoc,x=void 0===y?"":y,A=t.buyerLoc,C=void 0===A?"":A,T=t.bTag,q=void 0===T?"":T,k=t.buyerTag,I=void 0===k?"":k,M=Object(Yt["b"])(a||i||""),O=Object(Yt["b"])(o||r||""),S=Object(Yt["b"])(d||f||""),D=Object(Yt["b"])(h||p||""),j=Object(Yt["b"])(v||w||""),P=Object(Yt["b"])(x||C||""),E=Object(Yt["b"])(q||I||"");return'<?xml version="1.0" encoding="utf-8"?><msg brief="广交会商品" flag="55" serviceID="21" action="web" action.web="browser" action.pc="browser" actionData="'.concat(M,'">\n                <linear width="-1" width.pc="400" height="-2" background.web="#FFFFFFFF">\n                    <linear width="-1" height="-2" margin="20,20,20,20" orientation="vertical">\n                        <linear width="-1" width.pc="-2" height="-2" margin="0,0,0,0" orientation="horizontal">\n                            <image name="ShowIcon" width="144" width.pc="72" height="144" height.pc="72" cornerRadius="6" cornerRadius.android="0" src="').concat(O,'"/>\n                            <linear width="0" weight="1" height="-1" width.pc="-2" height.pc="-2" margin="20,0,0,0" orientation="vertical">\n                                <text width="-1" width.pc="270" height="-2" margin="0,0,0,0" text="').concat(S,'" size="28" size.pc="12" style="bold" lineSpace.web="8" maxLine="2"/>\n                                <text width="-1" width.pc="270" height="-2" margin="0,5,0,0" text="').concat(Ht["b"].tc("xml_product_exhibition_area"),": ").concat(D,'" size="24" size.pc="12" color="#FF666666" color.pc="0xFF666666" lineSpace.web="8" maxLine="2"/>\n                            </linear>\n                        </linear>\n                        <divider width="-1" height="1" margin="0,20,0,15"/>\n                        <image width="-1" height="1" src="" margin="3,7,3,7" icon="divider" platform="pc"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ht["b"].tc("xml_buyer_name"),": ").concat(j,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ht["b"].tc("xml_buyer_location"),": ").concat(P,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ht["b"].tc("xml_buyer_tag"),": ").concat(E,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                    </linear>\n                </linear>\n            </msg>')}catch(F){return Wt}},getOrderTpl:function(t){try{var e=t.sn,a=void 0===e?"":e,n=t.bName,i=void 0===n?"":n,s=t.buyerName,o=void 0===s?"":s,c=t.bLoc,r=void 0===c?"":c,l=t.buyerLoc,d=void 0===l?"":l,u=t.bTag,f=void 0===u?"":u,m=t.buyerTag,h=void 0===m?"":m,g=t.pExArea,p=void 0===g?"":g,b=t.productArea,v=void 0===b?"":b,_=t.pCategory,w=void 0===_?"":_,y=t.productCategory,x=void 0===y?"":y,A=t.pName,C=void 0===A?"":A,T=t.productName,q=void 0===T?"":T,k=t.pQuantity,I=void 0===k?"":k,M=t.purchaseQuantity,O=void 0===M?"":M,S=t.pUnit,D=void 0===S?"":S,j=t.purchaseUnit,P=void 0===j?"":j,E=Object(Yt["b"])(i||o||""),F=Object(Yt["b"])(r||d||""),L=Object(Yt["b"])(f||h||""),R=Object(Yt["b"])(p||v||""),N=Object(Yt["b"])(w||x||"");return'<?xml version="1.0" encoding="utf-8"?><msg brief="广交会意向单" flag="55" serviceID="21">\n                <linear width="-1" width.pc="400" height="-2" background.web="#FFFFFFFF">\n                    <linear width="-1" height="-2" margin="20,20,20,20" orientation="vertical">\n                        <text width="-1" height="-2" margin="0,0,0,15" text="'.concat(Object(Yt["b"])(a),'" size="32" size.pc="14" style="bold"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ht["b"].tc("xml_buyer_name"),": ").concat(E,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ht["b"].tc("xml_buyer_location"),": ").concat(F,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ht["b"].tc("xml_buyer_tag"),": ").concat(L,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <divider width="-1" height="1" margin="0,20,0,15" style="dot"/>\n                        <image width="-1" height="1" src="" margin="3,7,3,7" icon="divider" platform="pc"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ht["b"].tc("xml_product_exhibition_area"),": ").concat(R,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ht["b"].tc("xml_product_category"),": ").concat(N,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        ').concat((C||q)&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_product_name"),": ").concat(Object(Yt["b"])(C||q),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat((I||O)&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_purchase_quantity"),": ").concat(Object(Yt["b"])(I||O),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat((D||P)&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_purchase_unit"),": ").concat(Object(Yt["b"])(D||P),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                    </linear>\n                </linear>\n            </msg>")}catch(B){return Wt}},getNewOrderTpl:function(t){try{var e=t.bDetail,a=void 0===e?"":e,n=t.bLoc,i=void 0===n?"":n,s=t.bName,o=void 0===s?"":s,c=t.blink,r=void 0===c?"":c,l=t.eCurrency,d=void 0===l?"":l,u=t.eDetail,f=void 0===u?"":u,m=t.eName,h=void 0===m?"":m,g=t.ePrice,p=void 0===g?"":g,b=t.eUom,v=void 0===b?"":b,_=t.pCategory,w=void 0===_?"":_,y=t.pName,x=void 0===y?"":y,A=x||w||a||o||i;return'<?xml version="1.0" encoding="utf-8"?><msg brief="广交会意向信息" flag="55" serviceID="21" action="web" action.web="browser" action.pc="browser" actionData="'.concat(Object(Yt["b"])(r),'">\n                <linear width="-1" width.pc="400" height="-2" background.web="#FFFFFFFF">\n                    <linear width="-1" height="-2" margin="20,20,20,20" orientation="vertical">\n                        ').concat(x&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_source_product"),": ").concat(Object(Yt["b"])(x),'" size="28" size.pc="12" style="bold" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(w&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_source_category"),": ").concat(Object(Yt["b"])(w),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(a&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_source_detail"),": ").concat(Object(Yt["b"])(a),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(o&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_buyer_company_name"),": ").concat(Object(Yt["b"])(o),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(i&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_buyer_company_country"),": ").concat(Object(Yt["b"])(i),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(A&&'\n                            <divider width="-1" height="1" margin="0,20,0,15"/>\n                            <image width="-1" height="1" src="" margin="3,7,3,7" icon="divider" platform="pc"/>\n                        ',"\n                        ").concat(h&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_exhibit_name"),": ").concat(Object(Yt["b"])(h),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(v&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_exhibit_uom"),": ").concat(Object(Yt["b"])(v),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(p&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_exhibit_price"),": ").concat(Object(Yt["b"])(p),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(d&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_exhibit_currency"),": ").concat(Object(Yt["b"])(d),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(f&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ht["b"].tc("xml_exhibit_detail"),": ").concat(Object(Yt["b"])(f),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),'   \n                        <text width="-1" height="-2" margin="0,20,0,0" text="').concat(Ht["b"].tc("xml_exhibit_jump_tip"),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                    </linear>\n                </linear>\n            </msg>')}catch(C){return Wt}}},Vt=a("ae03");function Jt(){return Kt.apply(this,arguments)}function Kt(){return Kt=Object(s["a"])(Object(i["a"])().mark((function t(){var e,a,n,s=arguments;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]?s[0]:{},a=s.length>1&&void 0!==s[1]?s[1]:"",e){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,$t(e,a);case 6:return n=t.sent,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)}))),Kt.apply(this,arguments)}function Zt(t){var e=1;return(t.itemId&&(t.buyerId||t.userId)||t.orderId&&(t.buyerId||t.userId))&&(e=2),e}function $t(t){return te.apply(this,arguments)}function te(){return te=Object(s["a"])(Object(i["a"])().mark((function t(e){var a,n,s,o=arguments;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=o.length>1&&void 0!==o[1]?o[1]:"",n=Zt(e),t.t0=n,t.next=1===t.t0?5:2===t.t0?6:10;break;case 5:return t.abrupt("return",ee(e));case 6:return t.next=8,ae(e,a);case 8:return s=t.sent,t.abrupt("return",ee(s));case 10:return t.abrupt("break",11);case 11:case"end":return t.stop()}}),t)}))),te.apply(this,arguments)}function ee(t){var e=+t.msgId,a=Xt.xmlTmpHanderMap[e];return Xt[a](t)}function ae(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={zh:"zh-cn",en:"en-us","zh-TW":"zh-tw"},n=Ht["b"].locale;return new Promise((function(i){var s,o=k[e||"LingHang"],c=o.apiDomain,r=void 0===c?"":c,l=o.authDomain,d=void 0===l?"":l,u=t.itemId,f=t.buyerId,m=t.orderId,h=t.userId,g=t.shopId,p=(null===G["a"]||void 0===G["a"]||null===(s=G["a"].wpaDetail)||void 0===s?void 0:s.kfuin)||G["a"].kfuin,b=G["a"].auth,v=b.appid,_=b.aid,w=b.d2,y={"X-Appid":v,"X-Aid":_,"X-D2":w,"X-Tenant-Id":G["a"].kfuin},x=u&&(f||h)?1:2,A={kfuin:p,scene:x,apiDomain:r,authDomain:d,itemId:u,buyerId:f,orderId:m,shopId:g,lang:a[n]||"zh-cn"};Vt["a"].post(tt["j"],A,{headers:y}).then((function(t){var e=t.data;0===+e.code&&i(e.data)})).catch((function(){i({})}))}))}e["a"]={mixins:[y,F],components:{MessageBubble:K,MsgAutoComplete:it,QuickOrderCard:ht,GoodsList:At,OrderList:St},data:function(){return{isPrivate:T["a"],aioReady:!1,customStyle:"",pcBgImage:"",h5BgImage:"",sessionStart:!1,wpaDetail:{clickid:Object(Ft["a"])()},authConf:{authType:"",authData:"",authRedirectUrl:""},showInfo:{isManualClose:0,isShowFace:0,isAllowSendShortVoice:0,isAllowSendImage:0,isAllowSendFile:0,isSurvey:0,isShowAudo:0,isAllowExitQueue:0,isUseWebSidebar:1,isShowSafetyTips:0,isShowQidianSign:0,isShowGoods:0,isShowOrder:0},linkInfo:{externalType:1,openName:1},guidanceInfo:{},companyInfo:{},iframeIMStatus:"show",notReadNumber:0,onlineNotReadNum:0,reception:{},inputContent:"",messageList:[],styleConfig:{},msgNotifyCount:0,notification:null,employeeInfo:{},goodsListShow:!1,orderListShow:!1,ecQuickMenu:{goodsTab:[],orderTab:[]},isShowLangIcon:!1,isSendBizCardInstant:!1,canRobotAutoComplete:!1,readStatusSwitch:!1}},computed:{showQQ:function(){return!this.isPrivate&&this.aioReady&&this.isNormalReception&&this.guidanceInfo.guidanceQQ},unReadSum:function(){return this.notReadNumber+this.onlineNotReadNum},inIframe:function(){return p["a"].inIframe()},isMobile:function(){return!this.$platform.pc},isNormalReception:function(){return!(!this.reception.extuin&&!this.reception.robotId)},currExtuin:function(){var t=this.reception.extuin;return t||0},toolButtonsCommon:function(){var t=this.weappBtnConf,e=null,n=null;t&&t.path&&(e=Object(o["a"])(Object(o["a"])({},t),{},{path:"".concat(t.path,"&mediaType=2")}),n=Object(o["a"])(Object(o["a"])({},t),{},{path:"".concat(t.path,"&mediaType=1")}));var i=[{actionType:"sendFace",isShow:!!this.showInfo.isShowFace,enable:!0},{actionType:"sendImageMessage",isShow:!!this.showInfo.isAllowSendImage,enable:!0,authorizeTip:this.showInfo.isContentAuthorize?this.guidanceInfo.authorizeTip:null},{actionType:"sendFileMessage",isShow:!!this.showInfo.isAllowSendFile,enable:!0,authorizeTip:this.showInfo.isContentAuthorize?this.guidanceInfo.authorizeTip:null},{type:"audio",icon:this.isMobile?a("7988"):a("f4e7"),name:this.$t("common_audio_text"),isShow:!!this.showInfo.isShowVoiceCall&&this.currExtuin,enable:this.employeeInfo.webimAv&&this.currExtuin,weappBtnConf:e},{type:"video",icon:this.isMobile?a("9fa6"):a("2148"),name:this.$t("common_video_text"),isShow:!!this.showInfo.isShowVideoCall&&this.currExtuin,enable:this.employeeInfo.webimAv&&this.currExtuin,weappBtnConf:n},{actionType:"activeFeedback",isShow:!!this.showInfo.isSurvey,enable:this.isNormalReception},{actionType:"robotTransfer",isShow:!!this.showInfo.isShowAudo,enable:!!this.reception.robotId},{actionType:"closeSession",isShow:!!this.showInfo.isManualClose&&this.isNormalReception,enable:this.isNormalReception},{actionType:"exitQueue",isShow:!!this.showInfo.isAllowExitQueue&&this.reception.inWaitPool,enable:this.reception.inWaitPool},{actionType:"sendBusinessCard",type:"sendBusinessCard",icon:a("b9a8"),name:this.$t("send_business_card_btn"),isShow:!!this.showInfo.isShowBusinessCard,enable:!0},{type:"goodsListBtn",icon:a("6c5c"),name:this.$t("ec_goods_text"),isShow:!!this.showInfo.isShowGoods,enable:this.isNormalReception},{type:"orderListBtn",icon:a("aafd"),name:this.$t("ec_order_text"),isShow:!!this.showInfo.isShowOrder,enable:this.isNormalReception},{type:"capture",icon:a("00ad"),name:this.$t("common_screenshot_text"),isShow:!!this.showInfo.isAllowCapture,enable:!0}];return i},toolButtonsForPC:function(){var t=this.toolButtonsCommon;return t},toolButtonsForH5:function(){var t=this.toolButtonsCommon;return t.unshift({actionType:"sendVoice",isShow:!!this.showInfo.isAllowSendShortVoice,enable:!0}),t},configToAutoMsg:function(){var t=this.wpaDetail.kfuin;return{kfuin:t,enable:!!this.reception.robotId&&this.canRobotAutoComplete,robotId:this.reception.robotId}}},watch:{currExtuin:function(t){t&&this.fetchEmployeeInfo(t)},reception:function(t){t&&t.isRobot&&t.robotId&&this.fetchRobotConfig(t)}},mounted:function(){this.init(),this.requireNotifyPermission(),this.twinkleHanlder=this.twinkleDocTitle(),location.href.indexOf("debug=1")>-1&&(window.uiDebuger=this)},methods:{init:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a,n,s;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!p["a"].inIframe()){e.next=10;break}console.log("[start-inIframe]"),t.iframeIMStatus="close",p["a"].bindListener(t),a=document.querySelector(".drag-title-inIframe"),n=document.querySelector("drag-title-inIframe-mini"),a&&p["a"].bindDragEvent(a),n&&p["a"].bindDragEvent(n),e.next=19;break;case 10:if(t.getWpaConfigFromUrl(),"commonAuth"!==(null===(s=t.authConf)||void 0===s?void 0:s.authType)){e.next=17;break}return e.next=14,t.checkIfWebimV3(1);case 14:t.authConf.authRedirectUrl=e.sent,e.next=18;break;case 17:t.checkIfWebimV3();case 18:t.startIM();case 19:case"end":return e.stop()}}),e)})))()},handleLunchQQ:function(){var t,e={kfuin:this.wpaDetail.kfuin,visitorId:null===(t=this.$refs.aio)||void 0===t||null===(t=t.to)||void 0===t?void 0:t.user_id,fid:this.wpaDetail.fid||this.wpaDetail.wpaKey,ftype:this.isMobile?1:0,roleValue:this.wpaDetail.roleValue,roleData:this.wpaDetail.roleData||"",isInIframe:this.inIframe,isMobile:this.isMobile,isCorpUin:2===this.guidanceInfo.guidanceQQType?0:1};Ut(e)},handleAddQQ:function(t){var e,a={kfext:this.wpaDetail.roleData,kfaccount:t.msgBody.qq,kfuin:this.wpaDetail.kfuin,visitorId:null===(e=this.$refs.aio)||void 0===e||null===(e=e.to)||void 0===e?void 0:e.user_id,isMobile:this.isMobile,ftype:this.isMobile?1:0};zt(a)},setLang:function(){this.wpaDetail.qidian_lang?this.$setLocale(Ht["a"][this.wpaDetail.qidian_lang]):this.$setLocale("zh")},getWpaConfigFromUrl:function(){var t=r.a.parse(window.location.search,{ignoreQueryPrefix:!0});t.kfuin&&(t.wpaId||t.fid)?(t.wpaId||(t.wpaId=t.fid),G["a"].translate={translateSwitch:+t.translateSwitch||0,translateAuto:!0},+t.translateSwitch&&(this.isShowLangIcon=!0),+t.isSendBizCardInstant&&(this.isSendBizCardInstant=!0),t.auth&&(this.authConf.authType=t.auth,this.authConf.authData=location.search.replace(/^\?/,""),this.removeAuthDataFromUrl()),this.wpaDetail=Object.assign({},this.wpaDetail,t)):this.$Alert("缺少必要的接入参数：[kfuin, wpaId/fid]")},removeAuthDataFromUrl:function(){var t,e=window.location.href;e=M(e,"code"),e=M(e,"response_type"),e=M(e,"session_state"),e=M(e,"scope"),e=M(e,"nonce"),this.storeGJHMsgInfo(),e=M(e,"msgInfo"),e=M(e,"isSendBizCardInstant"),null===(t=window.history)||void 0===t||t.replaceState({},"",e),console.log("[auth]","Auth data has been removed from url")},storeGJHMsgInfo:function(t){if(t){var e=C["a"].getItem("QIDIAN_MESSAGE_INFO");return C["a"].removeItem("QIDIAN_MESSAGE_INFO"),e}var a=r.a.parse(window.location.search,{ignoreQueryPrefix:!0}),n=a.msginfo;n&&C["a"].setItem("QIDIAN_MESSAGE_INFO",n)},getCustomStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=h(this.wpaDetail,t),a=e.customStyle,n=e.setting;this.customStyle=a,this.pcBgImage=n.pcBgImage,this.h5BgImage=n.h5BgImage,v(n.bgColor)},startIM:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.setLang(),a=navigator.userAgent,"wx_qy"!==t.authConf.authType||-1!==a.indexOf("wxwork")||t.$platform.Weixin){e.next=5;break}return t.$Alert("请使用企微内置浏览器进行网页咨询").then((function(){window.opener=null,window.open("","_self",""),window.close()})),e.abrupt("return");case 5:t.getCustomStyle(),t.fetchConfig(),p["a"].inIframe()&&t.wpaDetail.auth&&(t.authConf.authType=t.wpaDetail.auth,t.authConf.authData="auth=".concat(t.wpaDetail.auth)),t.checkAccountAndLongin();case 9:case"end":return e.stop()}}),e)})))()},checkAccountAndLongin:function(t){var e=this;return Object(s["a"])(Object(i["a"])().mark((function a(){var n,s;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t&&console.error("[checkAccountAndLongin][isRetry]"),null===e||void 0===e||null===(n=e.$refs)||void 0===n||null===(n=n.aio)||void 0===n||n.createIncomingTip(),a.next=4,e.createLoginConfig();case 4:s=a.sent,s&&(e.$set(e.wpaDetail,"visitorid",s.aid),e.$set(e.wpaDetail,"token",s.d2),G["a"].auth=s,G["a"].wpaDetail=e.wpaDetail,e.$refs.aio.startIM(s));case 6:case"end":return a.stop()}}),a)})))()},watchAioData:function(t,e){var a=this;e||(e=t),this.$watch((function(){var e;return(null===a||void 0===a||null===(e=a.$refs)||void 0===e?void 0:e.aio[t])||0}),(function(t){a[e]=t}))},clickToolBtn:function(t){console.log("a",t);var e=t.type;switch(e){case"goodsListBtn":this.onGoodList();break;case"orderListBtn":this.onOrderList();break;case"capture":this.showCapture();break;case"audio":this.audioCall();break;case"video":this.videoCall();break;case"sendBusinessCard":this.sendBusinessCard();break;default:break}},showCapture:function(){this.$Alert({text:'<div class="scissorsPrompt">\n        <div class="con" style="\n          text-align: left;\n          font-size: 12px;\n        ">\n            <div>'.concat(this.$t("common_screenshot_tip_QQ"),"</div>\n            <div>").concat(this.$t("common_screenshot_tip_mac"),"</div>\n            <div>").concat(this.$t("common_screenshot_tip_win"),"</div>\n        </div>\n    </div>")})},onMsgAutoCompleteSelected:function(t){var e;null===(e=this.$refs.aio)||void 0===e||e.sendTextMessage(t.question),this.inputContent=""},onReceiveMsg:function(t){this.showBrowserNotification(t)},handleTransferRobotMsg:function(t){this.$refs.cartoon&&this.$refs.cartoon.handleTransferRobotMsg(t)},handleVoiceRecodeStatus:function(t){this.$refs.cartoon&&this.$refs.cartoon.handleVoiceRecodeStatus(t),this.$refs.aiSpeaker&&this.$refs.aiSpeaker.handleVoiceRecodeStatus(t)},handleKickedOut:function(){this.$refs.cartoon&&this.$refs.cartoon.handleKickedOut(),this.$refs.aiSpeaker&&this.$refs.aiSpeaker.handleKickedOut()},showBrowserNotification:function(t){var e=this;if(document.hidden){var a=this.$refs.aio.getSDKIntance(),n=a.IMSDK,i=a.MsgType;if(t.type&&!([i.MSG_DATETIME,i.MSG_TYPING].indexOf(t.type)>-1)){var s="";if(t.type===n.TYPES.MSG_TEXT){if(s=t.content,s=s.replace(/<[^>]+?>/g,""),!s)return}else s=t.type===n.TYPES.MSG_IMAGE?"收到一张图片":"收到一条新消息";this.msgNotifyCount+=1,this.msgNotifyCount>1&&(s="您有".concat(this.msgNotifyCount,"条新消息")),this.twinkleHanlder.start(),console.log("[Notification]",s,new Date),Notification.requestPermission((function(){var t,a="./favicon.ico",n={tag:"qd-webim-sdk-notification",requireInteraction:!0,renotify:!0,icon:a,badge:a};try{t=new Notification(s,n)}catch(i){}t&&(e.notification=t,t.onclick=function(){try{top.focus(),window.focus()}catch(i){}e.clearNotification()})}))}}},clearNotification:function(){this.notification&&this.notification.close(),this.msgNotifyCount=0,this.twinkleHanlder.stop()},requireNotifyPermission:function(){var t=this,e=function t(){window.Notification&&Notification.requestPermission(),document.body.removeEventListener("click",t)};window.parent===window&&document.body.addEventListener("click",e),window.addEventListener("unload",(function(){t.clearNotification()})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&t.clearNotification()}))},twinkleDocTitle:function(){var t=1e3,e=this.$t("common_new_message_text");return{start:function(){if(!this.twinkleDocTitTimer){var a=document.title;this.oldTitle=a,this.twinkleDocTitTimer=setInterval((function(){document.title=a===document.title?e:a}),t)}},stop:function(){this.twinkleDocTitTimer&&(clearInterval(this.twinkleDocTitTimer),this.twinkleDocTitTimer=null,document.title=this.oldTitle)}}},operateIframe:function(t,e){var a;console.log("operateIframe",t,e),null===this||void 0===this||null===(a=this.$refs)||void 0===a||null===(a=a.aio)||void 0===a||a.customReport({method:"operateIframe",action:t,msgData:e,referrer:document.referrer}),e.key||(e.key=e.wpaKey||this.wpaDetail.wpaKey),e.wpaId&&(e.fid=e.wpaId),this.wpaDetail=Object.assign({},this.wpaDetail,e),"INIT"===t?(C["a"].setItem("tencentSig",this.wpaDetail.tencentSig),this.iframeIMStatus="close"):"OPEN"===t?(this.iframeIMStatus="show",this.hasIframeStartIM||(this.hasIframeStartIM=!0,this.startIM()),this.notReadNumber=0,this.onlineNotReadNum=0):"UPDATE_UNREAD"===t&&"close"===this.iframeIMStatus&&(this.onlineNotReadNum=e.number,this.unReadSum>0&&p["a"].sendMsg({act:"SHOW"}))},handleWpaDetail:function(t){t.key||(t.key=t.wpaKey||this.wpaDetail),Object.assign(this.wpaDetail,t)},closeIframeIM:function(){p["a"].inIframe()&&!p["a"].isHasDragged()&&(this.iframeIMStatus="close",p["a"].sendMsg({act:"CLOSE",kfuin:this.wpaDetail.kfuin}))},openIframeIM:function(){p["a"].inIframe()&&!p["a"].isHasDragged()&&(this.iframeIMStatus="show",p["a"].sendMsg({act:"OPEN",kfuin:this.wpaDetail.kfuin}))},fetchConfig:function(){var t=this,e=this.wpaDetail,a=e.kfuin,n=e.wpaId,i=e.key,s={kfuin:a,wpaId:n,key:i,fields:["webimStyleConfig","tools","guidanceInfo"]};G["a"].kfuin=a,Object(_["a"])(s,(function(e){var a=e.webimStyleConfig,n=void 0===a?{}:a,i=e.tools,s=void 0===i?{}:i,c=e.guidanceInfo,r=void 0===c?{}:c,l=n.code,d=n.data,u=s.code,f=s.data,m=r.code,h=r.data;if(0===l){t.styleConfig=d;var g=d.openName,p=d.externalType,b=d.messageStyleConfig;Object.assign(t.linkInfo,Object(o["a"])(Object(o["a"])({},t.linkInfo),{},{openName:g,externalType:p})),t.readStatusSwitch=!(null===b||void 0===b||!b.readStatusSwitch),t.getCustomStyle(d)}0===u&&Object.assign(t.showInfo,Object(o["a"])(Object(o["a"])({},t.showInfo),f)),0===m&&(console.log(3242424234324,h),Object.assign(t.guidanceInfo,h)),console.log("🥳 ~ fetchCommonInfo",t.styleConfig,t.showInfo,t.guidanceInfo)}));var c={kfuin:a,wpaId:n,key:i,fields:["companyInfo"]};Object(w["a"])(c,(function(e){var a=e.companyInfo,n=void 0===a?{}:a,i=n.code,s=n.data;if(0===i){var o=s.companyName,c=s.companyLogo;t.companyInfo=s,o&&Object(g["b"])({name:o}),c&&Object(g["b"])({avatar:c})}}))},fetchEcQuickMenuConfig:function(){var t=this,e=this.wpaDetail,a=e.kfuin,n=e.wpaId,i=e.key,s={kfuin:a,wpaId:n,key:i,visitorId:this.wpaDetail.visitorid,fields:["ecQuickMenu"]};Object(_["a"])(s,(function(e){var a=e.ecQuickMenu,n=void 0===a?{}:a,i=n.code,s=n.data;0===i&&(t.showInfo.isShowGoods=s.goodsShow,t.showInfo.isShowOrder=s.orderShow,Object.assign(t.ecQuickMenu,s)),console.log("🥳 ~ fetchEcQuickMenuConfig",t.ecQuickMenu)}))},fetchEmployeeInfo:function(t){var e=this,a=this.wpaDetail.kfuin,n={kfext:t,kfuin:a,fields:["employeeInfo"]};Object(w["a"])(n,(function(t){var a=t.employeeInfo,n=void 0===a?{}:a,i=n.code,s=n.data;0===i&&(e.employeeInfo=s)}))},checkIfWebimV3:function(){var t=arguments,e=this;return Object(s["a"])(Object(i["a"])().mark((function a(){var n,s,o,c,r,l,d,u,f,m;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:0,s=e.wpaDetail,o=s.kfuin,c=s.wpaId,!e.inIframe&&o&&c){a.next=4;break}return a.abrupt("return");case 4:return r="".concat(tt["a"],"?kfuin=").concat(o,"&channelType=4&wpaId=").concat(c,"&anonymous=").concat(n),a.prev=5,a.next=8,e.$ajax.get(r,"",{timeout:6e3});case 8:if(l=a.sent,d=l.data,0!==d.code){a.next=14;break}return u=d.data,f=u.uint32_channel_version,m=u.string_auth_url,0===f&&setTimeout((function(){var t=location.href.replace(/\/qidian\/chatv3(-\w+)?\/(pc|h5)\.html/i,"/2/chat$1/$2/index.html");-1!==t.indexOf("/2/chat")&&(t+="&im_jump_from=v3",location.replace(t))}),0),a.abrupt("return",m);case 14:a.next=18;break;case 16:a.prev=16,a.t0=a["catch"](5);case 18:return a.abrupt("return","");case 19:case"end":return a.stop()}}),a,null,[[5,16]])})))()},handleAioError:function(t){"d2Expire"!==t.type&&"d2Error"!==t.type||this.hanldErrorForD2(t)},handleNotifyRtc:function(t){console.log(t)},onGoodList:function(){this.goodsListShow=!this.goodsListShow},onOrderList:function(){this.orderListShow=!this.orderListShow},handleSessionStart:function(){this.sessionStart=!0,"commonAuth"===this.authConf.authType&&this.fetchEcQuickMenuConfig(),this.handleGJHEntry()},handleGJHEntry:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a,s,o,c;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isSendBizCardInstant&&setTimeout((function(){t.sendBusinessCard()}),300),a=t.storeGJHMsgInfo(!0),!a){e.next=10;break}return"object"!==Object(n["a"])(a)&&(a=JSON.parse(a)),o=null===t||void 0===t||null===(s=t.authConf)||void 0===s?void 0:s.authType,e.next=8,Jt(a,o);case 8:c=e.sent,G["a"].sendQDXMLMessage({qdxml:{content:c}});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.error("JSON解析失败",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},sendBusinessCard:function(){var t,e,a,n,i=this,s=this.wpaDetail.kfuin,o=null===this||void 0===this||null===(t=this.authConf)||void 0===t?void 0:t.authType,c=null===this||void 0===this||null===(e=this.reception)||void 0===e?void 0:e.extuin;if(c){var r=k[o],l=r.apiDomain,d=void 0===l?"it-blinkapi.cantonfair.org.cn":l,u={kfuin:s,cAid:Number(null===(a=this.$refs.aio)||void 0===a||null===(a=a.to)||void 0===a?void 0:a.user_id),kfext:null===this||void 0===this||null===(n=this.reception)||void 0===n?void 0:n.extuin,apiDomain:d,lang:this.$i18n.locale},f=G["a"].auth,m=f.appid,h=f.aid,g=f.d2,p={"X-Appid":m,"X-Aid":h,"X-D2":g,"X-Tenant-Id":G["a"].kfuin};this.$ajax.post("".concat(tt["v"]),u,{headers:p}).then((function(t){var e=t.data,a=e.r,n=e.cardInfo;0===+a&&G["a"].sendQDXMLMessage({qdxml:{content:n}})})).catch((function(t){console.log("获取名片信息失败",t),i.$Toast("失败")}))}else this.$Toast("客服不在线，无法发送名片")},fetchRobotConfig:function(){var t,e=this,a=this.wpaDetail,n=a.kfuin,i=a.wpaId,s=a.key,o={kfuin:n,wpaId:i,key:s,fields:["robotConfig"],robotId:null===this||void 0===this||null===(t=this.reception)||void 0===t?void 0:t.robotId};Object(_["a"])(o,(function(t){var a=t.robotConfig,n=void 0===a?{}:a,i=n.code,s=n.data,o=void 0===s?{}:s;0===+i&&(e.canRobotAutoComplete=!!o.canAutocomplete)}))}}}},"2cbe":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return o}));var n={iniCall:101,iniCancel:102,iniHangup:103,recRefuse:201,recAccept:202,recAcceptFail:203,recHangup:204,recBusy:205,notSurport:206,errorTRTC:301,die:401,thirdHangup:601},i={idle:1,dialling:2,ring:3,speaking:4,end:5},s=1064,o={CMD_INNER_CREATE_RTC_ROOM_INFO_REQ:312201,CMD_INNER_CREATE_RTC_ROOM_INFO_RSP:312201,CMD_INNER_CREATE_RTC_SESSION_REQ:312251,CMD_INNER_CREATE_RTC_SESSION_RSP:312251,CMD_INNER_GET_RTC_ROOMINFO_REQ:312202,CMD_INNER_GET_RTC_ROOMINFO_RSP:312202,CMD_INNER_RTC_ACTION_REPORT_REQ:312203,CMD_INNER_RTC_ACTION_REPORT_RSP:312203,CMD_INNER_RTC_HEART_BEAT_REQ:312204,CMD_INNER_RTC_HEART_BEAT_RSP:312204,CMD_INNER_RTC_STATUS_REPORT_REQ:312205,CMD_INNER_RTC_STATUS_REPORT_RSP:312205,CMD_INNER_GET_RTC_CONFIG_REQ:312210,CMD_INNER_GET_RTC_CONFIG_RSP:312210,CMD_INNER_SCREEN_SHARE_REQ:312211,CMD_WEB_WAIT_POOL_DEL_REQ:214001,CMD_WEB_WAIT_POOL_DEL_RSP:214001,CMD_INNER_WAIT_POOL_GET_COUNT_REQ:214004,CMD_INNER_WAIT_POOL_GET_COUNT_RSP:214004}},"2ccf":function(t,e,a){"use strict";a("b64b"),a("14d9"),a("e9c4"),a("d3b7"),a("159b");var n=a("27a3"),i="CACHE_REPORT_DATA";e["a"]={add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;console.log("[setCacheReportData]",t,e);var a=Date.now();try{var s=JSON.parse(n["a"].getItem(i)||"[]");s.push({data:t,time:a,expire:a+e}),n["a"].setItem(i,JSON.stringify(s))}catch(o){console.error("[setCacheReportData]",o)}},get:function(t){var e=Date.now(),a=[];try{var s=JSON.parse(n["a"].getItem(i)||"[]");s.forEach((function(t){t&&t.expire&&t.expire>=e&&a.push(t.data)}))}catch(o){console.error("[getCacheReportData]",o)}return t&&n["a"].removeItem(i),a},report:function(t){var e=this.get(!0);e.forEach((function(e){t(e)}))}}},"2d07":function(t,e,a){},"2d3f":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return o}));a("ac1f"),a("00b4");var n=navigator.userAgent,i=/wxwork/i.test(n),s=!i&&/micromessenger/i.test(n),o=/\sQQ(?!Browser)/i.test(n);/MQQBrowser/i.test(n)},"2ee4":function(t,e,a){"use strict";a.r(e);a("d81d"),a("4de4"),a("d3b7");var n=function(){var t=this,e=t._self._c;return e("popup",{ref:"popup",attrs:{show:t.openPop,title:"请填写以下信息",showClose:!1},on:{"update:show":function(e){t.openPop=e}}},[e("div",[e("form",{staticClass:"robot-form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t._l(t.formData,(function(a,n){return e("div",{key:n,staticClass:"item-line"},[e("div",{staticClass:"item-header"},[e("label",[e("div",{staticClass:"label-title"},[t._v(t._s(a.fieldName))]),a.required?e("div",{staticClass:"label-icon"},[t._v("*")]):t._e(),e("div",{staticClass:"label-desc"})]),e("span",{staticClass:"error-txt"},[t._v(t._s(a.error||""))])]),"enum_single"===t.TYPE_MAPPER[a.fieldType]?e("div",{class:[a.value?"":"select-placeholder"]},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],attrs:{placeholder:"请选择"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"value",e.target.multiple?n:n[0])}}},t._l(a.options,(function(a){return e("option",{key:a.value,domProps:{value:a.value}},[t._v(" "+t._s(a.text)+" ")])})),0)]):e("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],attrs:{type:"text",placeholder:"请输入",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},domProps:{value:a.value},on:{blur:function(e){return t.checkItem(a)},input:function(e){e.target.composing||t.$set(a,"value",e.target.value)}}})])})),e("div",{staticClass:"btn-box"},[e("button",{staticClass:"primary",attrs:{type:"submit"}},[t._v(" "+t._s(t.vm.$t("chat_feedback_submit_text"))+" ")]),e("button",{attrs:{type:"button"},on:{click:t.closePop}},[t._v(" "+t._s(t.vm.$t("common_cancel_text"))+" ")])])],2)])])},i=[],s=(a("b64b"),a("b0c0"),a("ac1f"),a("00b4"),a("99af"),a("159b"),a("e9c4"),a("7dc1")),o=a("f5db"),c={1:"enum_single",2:"string",3:"int"},r={components:{Popup:s["a"]},props:{data:{default:Object},vm:{type:Object}},data:function(){var t=this,e=this.data.content.content;try{e=JSON.parse(e)}catch(n){}console.log("[RobotForm]",e);var a=e.map((function(e){var a=e.options.instances;return e.options=a.map((function(t){return{text:t.name,value:t.name}})),t.$set(e,"value",""),e}));return{openPop:!1,TYPE_MAPPER:c,formData:a}},mounted:function(){var t=this;setTimeout((function(){t.openPop=!0}),400)},methods:{closePop:function(){this.$refs.popup.close()},checkItem:function(t){var e=3===t.fieldType?20:200;return t.required&&0===t.value.length?(this.$set(t,"error","".concat(t.fieldName,"不能为空")),!1):3===t.fieldType&&(t.value.length>e||!/^\d+$/.test(t.value))?t.required||t.value?(this.$set(t,"error","请您填写数字，最大长度为".concat(e)),!1):(this.$set(t,"error",""),!0):t.value.length>e?(this.$set(t,"error","".concat(t.fieldName,"最长长度不能超过").concat(e)),!1):(this.$set(t,"error",""),!0)},onSubmit:function(){var t=this,e=this.formData.some((function(e){return!1===t.checkItem(e)}));if(e)return!1;var a={slot:{},field:{}};this.formData.forEach((function(t){var e=t.value;a.slot[t.slotName]=e,a.field[t.fieldName]=e})),console.log("[robot-form]",a),this.closePop();var n=this.data.crm.msg_webim_extra_data,i=n.uint64_robotid,s=void 0===i?"":i,c=n.bytes_wpaid,r=void 0===c?"":c,l="mqqwpa://im/qdmenu?svrId=1000003&ext=".concat(JSON.stringify(a),"&robotId=").concat(s,"&extType=3&wpaId=").concat(r);Object(o["b"])(l)}}},l=r,d=(a("47ff"),a("2877")),u=Object(d["a"])(l,n,i,!1,null,"3ba945eb",null);e["default"]=u.exports},"31c0":function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add-qq-card",on:{click:function(e){return t.$emit("onAddQQ",t.data)}}},[e("div",{staticClass:"content"},[t._m(0),e("p",{staticClass:"thumb"},[e("a",{staticClass:"action",attrs:{href:"javascript:;"}},[e("img",{directives:[{name:"defaultAvatar",rawName:"v-defaultAvatar"}],attrs:{src:t.message.avatar}})])]),e("dl",{staticClass:"detail"},[e("dt",[e("a",{staticClass:"action",attrs:{href:"javascript:;"}},[t._v(t._s(t.message.name))])]),e("dd",[e("a",{staticClass:"action",attrs:{href:"javascript:;"}},[t._v(t._s(t.message.qq))])])])])])},i=[function(){var t=this,e=t._self._c;return e("h2",{staticClass:"title"},[e("i",{staticClass:"icon-qq"}),t._v("添加QQ联系人")])}],s=a("7ea6"),o={props:{data:{type:Object,default:function(){return{}}}},directives:{defaultAvatar:{bind:function(t){t.addEventListener("error",(function(t){return t.target.src=s}),{once:!0})}}},computed:{message:function(){var t;return null!==(t=this.data.msgBody)&&void 0!==t?t:{}}},methods:{},mounted:function(){console.log("[sc]",this.data)}},c=o,r=(a("fb17"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"050a32b6",null);e["default"]=l.exports},"32fe":function(t,e){t.exports="data:image/png;base64,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"},"334c":function(t,e,a){"use strict";a("6874")},"33ae":function(t,e,a){"use strict";a("d3b7");var n=a("2b0e"),i=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.visible?e("div",{staticClass:"mod-black-tip",style:{maxWidth:"".concat(t.maxWidth,"px")}},[e("div",{staticClass:"text"},[t._v(t._s(t.msgText))])]):t._e()},s=[],o=a("bee2"),c=a("d4ec"),r=a("257e"),l=a("262e"),d=a("2caf"),u=a("ade3"),f=(a("99af"),a("9ab4")),m=a("1b40"),h=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(c["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(u["a"])(Object(r["a"])(t),"visible",!1),Object(u["a"])(Object(r["a"])(t),"msgText",""),Object(u["a"])(Object(r["a"])(t),"maxWidth",240),t}return Object(o["a"])(a)}(m["d"]);h=Object(f["a"])([Object(m["a"])({name:"BlackTip"})],h);var g=h,p=g,b=(a("29ee"),a("2877")),v=Object(b["a"])(p,i,s,!1,null,"eceb40b8",null),_=v.exports,w=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.visible?e("div",{staticClass:"confirm",class:t.isMobile?"mobile":"pc"},[e("div",{staticClass:"center-container"},[t.isMobile?t._e():e("div",{staticClass:"close-btn",on:{click:t.cancel}},[e("img",{staticClass:"close-btn-img",attrs:{src:a("e90f")}})]),e("div",{staticClass:"text-container"},[t.title?e("div",{staticClass:"title",class:t.text?"has-text":"",domProps:{innerHTML:t._s(t.title)}}):t._e(),t.text?e("div",{staticClass:"text",domProps:{innerHTML:t._s(t.text)}}):t._e()]),t.isMobile?e("div",{staticClass:"btn-wrap"},[e("span",{on:{click:t.cancel}},[t._v(t._s(t.cancelText||t.$t("common_cancel_text")))]),e("span",{on:{click:t.confirm}},[t._v(t._s(t.confirmText||t.$t("common_confirm_text")))])]):e("div",{staticClass:"btn-wrap"},[e("span",{staticClass:"confirm-btn bg-primay",on:{click:t.confirm}},[t._v(t._s(t.confirmText||t.$t("common_confirm_text")))]),e("span",{staticClass:"concel-btn",on:{click:t.cancel}},[t._v(t._s(t.cancelText||t.$t("common_cancel_text")))])])])]):t._e()},y=[],x=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(c["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(u["a"])(Object(r["a"])(t),"visible",!1),Object(u["a"])(Object(r["a"])(t),"title",""),Object(u["a"])(Object(r["a"])(t),"text",""),Object(u["a"])(Object(r["a"])(t),"cancelText",""),Object(u["a"])(Object(r["a"])(t),"confirmText",""),Object(u["a"])(Object(r["a"])(t),"confirm",void 0),Object(u["a"])(Object(r["a"])(t),"cancel",void 0),t}return Object(o["a"])(a,[{key:"isMobile",get:function(){return!this.$platform.pc}}]),a}(m["d"]);Object(f["a"])([Object(m["c"])({default:function(){}})],x.prototype,"confirm",void 0),Object(f["a"])([Object(m["c"])({default:function(){}})],x.prototype,"cancel",void 0),x=Object(f["a"])([Object(m["a"])({name:"Confrim"})],x);var A=x,C=A,T=(a("5417"),Object(b["a"])(C,w,y,!1,null,"928e9966",null)),q=T.exports,k=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.visible?e("div",{staticClass:"alert",class:t.isMobile?"mobile":"pc"},[e("div",{staticClass:"center-container"},[t.isMobile?t._e():e("div",{staticClass:"close-btn",on:{click:t.cancel}},[e("img",{staticClass:"close-btn-img",attrs:{src:a("e90f")}})]),e("div",{staticClass:"text-container"},[t.title?e("div",{staticClass:"title",class:t.text?"has-text":"",domProps:{innerHTML:t._s(t.title)}}):t._e(),t.text?e("div",{staticClass:"text",domProps:{innerHTML:t._s(t.text)}}):t._e()]),e("div",{class:t.isMobile?"alert-btn":"alert-btn bg-primay",on:{click:t.confirm}},[t._v(" "+t._s(t.alertText||t.$t("common_confirm_text"))+" ")])])]):t._e()},I=[],M=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(c["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(u["a"])(Object(r["a"])(t),"visible",!1),Object(u["a"])(Object(r["a"])(t),"title",""),Object(u["a"])(Object(r["a"])(t),"text",""),Object(u["a"])(Object(r["a"])(t),"alertText",""),Object(u["a"])(Object(r["a"])(t),"confirm",void 0),Object(u["a"])(Object(r["a"])(t),"cancel",void 0),t}return Object(o["a"])(a,[{key:"isMobile",get:function(){return!this.$platform.pc}}]),a}(m["d"]);Object(f["a"])([Object(m["c"])({default:function(){}})],M.prototype,"confirm",void 0),Object(f["a"])([Object(m["c"])({default:function(){}})],M.prototype,"cancel",void 0),M=Object(f["a"])([Object(m["a"])({name:"Alert"})],M);var O=M,S=O,D=(a("71f1"),Object(b["a"])(S,k,I,!1,null,"5bd033c2",null)),j=D.exports,P=a("55b6"),E=n["a"].extend(_),F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,a=arguments.length>2?arguments[2]:void 0,i=(new E).$mount();if("string"===typeof t)i.msgText=t;else{var s=t.text,o=t.maxWidth;i.msgText=s,i.maxWidth=o||240}if(i.visible=!0,a)a.appendChild(i.$el);else{var c=document.body;n["a"].prototype.$platform.pc&&(c=document.querySelector(".im-main-container>.im-msg-container")||document.body),c.appendChild(i.$el)}setTimeout((function(){i.visible=!1,setTimeout((function(){i.$destroy()}))}),e)},L=n["a"].extend(q),R=function(t,e){var a=new L({i18n:P["b"]}).$mount();if("string"===typeof t)a.title=t;else{var n=t.text,i=t.cancelText,s=t.confirmText,o=t.title;a.text=n,a.title=o,a.cancelText=i,a.confirmText=s}return a.visible=!0,e?e.appendChild(a.$el):document.body.appendChild(a.$el),new Promise((function(t,e){a.confirm=function(){a.visible=!1,t(!0),setTimeout((function(){a.$destroy()}))},a.cancel=function(){a.visible=!1,e(!1),setTimeout((function(){a.$destroy()}))}}))},N=n["a"].extend(j),B=function(t,e){var a=new N({i18n:P["b"]}).$mount();if("string"===typeof t)a.title=t;else{var n=t.text,i=t.alertText,s=t.title;a.text=n,a.alertText=i,a.title=s}return a.visible=!0,e?e.appendChild(a.$el):document.body.appendChild(a.$el),new Promise((function(t,e){a.confirm=function(){a.visible=!1,t(!0),setTimeout((function(){a.$destroy()}))},a.cancel=function(){a.visible=!1,e(!1),setTimeout((function(){a.$destroy()}))}}))};e["a"]={install:function(){n["a"].prototype.$Toast||(n["a"].prototype.$Toast=F,n["a"].prototype.$Confirm=R,n["a"].prototype.$Alert=B)}}},"342f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return t.translateContent||t.translateType?e("div",{staticClass:"translate-wrapper"},[t.processedText?e("div",{ref:"msgTxt",domProps:{innerHTML:t._s(t.processedText)}}):t._e(),e("div",{staticClass:"translate-bottom"},[t._v(t._s(t.translateType)),e("div",{staticClass:"translate-icon",on:{click:t.showSetLangPanel}})])]):t._e()},i=[],s=a("c7eb"),o=a("1da1"),c=a("d90f"),r=(a("d3b7"),a("ac1f"),a("5319"),a("14d9"),a("1276"),a("a15b"),a("99af"),a("e9c4"),a("ae03")),l=a("4886"),d=a("5ac5"),u=l["a"].getSDKDomain(),f="[face_split_sign]",m="/ts/translate/textTranslate",h=["en","zh","zh-TW"];function g(t,e){return new Promise((function(a,n){try{var i="".concat(e||e.originMsgContent||e.originData||e.data),s=[],o=[];i=i.replace(/\[(.*?)\]/g,(function(t){return s.push(t),f})),o=i.split(f),o.join("").length||n(null);var c={source_lang:"auto",source_text_list:o,target_lang:t.translateLang,terminal_type:4};r["a"].post("".concat(u.consolecgi).concat(m,"?kfuin=").concat(d["a"].wpaDetail.kfuin),JSON.stringify(c),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){var i=e.data;if(0===+i.code){var o=i.data||{};if(o.source_lang===t.translateLang&&n(null),o.source_lang!==t.translateLang&&-1!==h.indexOf(o.source_lang)){for(var c="",r=o.target_text_list||[],l=0;l<r.length;l++)c=c+r[l]+(s[l]||"");return console.error("targetText",c),void a({targetText:c,type:"success"})}a({type:"fail"})}-510===+i.code&&a({type:"only"}),a({type:"fail"})})).catch((function(){return a({type:"fail"})}))}catch(l){console.error("catch",l)}}))}var p={props:{data:""},data:function(){return{translateContent:"",translateType:""}},computed:{processedText:function(){var t=c["a"].filterHTML(this.translateContent);return t=c["a"].emojiEscape(t),t}},watch:{data:{immediate:!0,handler:function(){this.translate()}}},methods:{showSetLangPanel:function(){d["a"].switchSetLangPanel(!0)},translate:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={translateLang:t.$i18n.locale,kfuin:d["a"].kfuin},e.next=3,g(a,t.data).catch((function(){t.translateContent="",t.translateType=""}));case 3:if(n=e.sent,n){e.next=8;break}return t.translateContent="",t.translateType="",e.abrupt("return");case 8:e.t0=n.type,e.next="success"===e.t0?11:"fail"===e.t0?14:"only"===e.t0?17:20;break;case 11:return t.translateType=t.$t("common_tencent_translator"),e.abrupt("break",21);case 14:return t.translateType=t.$t("common_tencent_translator_fail"),e.abrupt("break",21);case 17:return t.translateType=t.$t("common_tencent_translator_only"),e.abrupt("break",21);case 20:t.translateType="";case 21:t.translateContent=n.targetText;case 23:case"end":return e.stop()}}),e)})))()}}},b=p,v=(a("e8de"),a("2877")),_=Object(v["a"])(b,n,i,!1,null,"3b0b4433",null);e["default"]=_.exports},"34d8":function(t,e,a){},"352e":function(t,e,a){t.exports=a.p+"img/arrow_down_small.f8f2d131.svg"},3579:function(t,e,a){},"35eb":function(t,e,a){},"35f4":function(t,e,a){},"35f7":function(t,e,a){"use strict";var n=a("53ca"),i=a("5530"),s=function(t){var e=[],a=+new Date,n="log_".concat(a),i=e[n]=new Image;return i.onload=i.onerror=function(){e[n]=null},t+=(t.indexOf("?")>-1?"&":"?")+a,i.src=t,arguments},o=a("5c0b"),c=a("5ac5"),r="webim";function l(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a="https://fereport.qidian.qq.com/report/imfe?",l="https://fereport.qidian.qq.com/report/monitor?",d=c["a"].wpaDetail,u=Object(i["a"])(Object(i["a"])({},t),{},{visitorid:d.visitorid,kfuin:d.kfuin,tid:"imfe",type:r,isNewVersion:"true",env:o["d"]?"oa":"ol"});if(("undefined"===typeof roomId||Object(n["a"])(roomId))&&(u.roomId=window.roomId),s("".concat(Object(o["a"])(a,u))),t.message&&e){if(!window.__monitor)return;var f=t.message,m=f.indexOf(","),h=m>0,g=h?f.substring(0,m):f,p=h?f.substring(m+1):"";window.__monitor.customerReport(h?{name:g,ext1:p}:{name:g});var b=Object(i["a"])(Object(i["a"])({result:0},u),{},{event:g});s("".concat(Object(o["a"])(l,b)))}}e["a"]=l},"368b":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-uploader"},[e("input",{ref:"fileInput",attrs:{type:"file",name:"file",accept:"image/*",multiple:""},on:{change:t.onHandleFiles}})])},i=[],s=a("c7eb"),o=a("1da1"),c=(a("d3b7"),a("159b"),a("a630"),a("3ca3"),a("9de0")),r=5,l={data:function(){return{}},methods:{click:function(){this.$refs.fileInput.click()},onHandleFiles:function(t){var e=this,a=t.target.files;a.length>r?this.$emit("upload",{code:-1,id:"",message:"一次最多支持选择".concat(r,"张图片")}):(Array.from(a).forEach(function(){var t=Object(o["a"])(Object(s["a"])().mark((function t(a){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.uploadFile(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.target.value="")},uploadFile:function(t){var e=arguments,a=this;return Object(o["a"])(Object(s["a"])().mark((function n(){var i,o;return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>1&&void 0!==e[1]?e[1]:null,console.log("[uploadFile]",t,i),n.next=4,c["c"].uploadImage(t,i,{onPreview:function(t){a.$emit("preview",t)}});case 4:o=n.sent,a.$emit("upload",o);case 6:case"end":return n.stop()}}),n)})))()}}},d=l,u=(a("37e2"),a("2877")),f=Object(u["a"])(d,n,i,!1,null,"133cc383",null);e["a"]=f.exports},"36a8":function(t,e,a){"use strict";a("0b75")},3714:function(t,e,a){},3731:function(t,e,a){},"37e2":function(t,e,a){"use strict";a("8735")},"38b5":function(t,e,a){},"398b":function(t,e,a){},"39d4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAAXNSR0IArs4c6QAABT1JREFUeAHtnetPG0cQwOfONtjBNDwKGAiJgKRN+EIrJX2pUfNHNF8rVWr/qn7IHxCpbRK1ClU+oAaS9KFWbVNangmUZwmmfoAPO3fXHQcf58OChbtd9syMZLw7Nzu7+7vx3J4frAa7Ytt2JJczPrU166YG2hBTt7NHnOm1ig097yegaZrNtAZ7bNhgT2i2fru5OX6L6U20LsPL5+2UZRduM5gfopLEHwEGd0zXEjeTSW1VK0duvjBKcP1B9bZGyM3JxA0tmy18ZoP1hdeA6v4JaKB/rmPO9e+KPNQigGz13QtareOk80kA2erMB64WSMQQaEfAcTG+ySuy1WmdKy4QkC1GMIlAAgRYIFx0TYAJsGACgt1TBBNgwQQEu6cIJsCCCQh2TxFMgAUTEOyeIpgACyYg2D1FsGDAUcH+y+7nF1/An1NLUCy9FN6dYRgwPHQerlzqE94XTwdSIlgWXJxw6aUJd0eewF/TizzzF24jBbCMyHWTsiwL7o08hr8VgCwFsHvyssomg3wXIc8syeqyZj91Cxhni5DvjDyCydnlmpOXoaxrwAjQMhnk+49ganZFBs99fdQ9YJyxaZrw9f1xmH4mH/KpAFyB/NW3CFluujg1gN2QZ57Li+RTBfgVZAu+/GYM5uZXsSpcpNzJCZ+Fq4N4vBG6uzpcmtrFH36dhYELqdoHA9QqDzh5phHevNgD3Z0tkDwTBz2iQS5vQDa3DTPP12BpdbMKRywahZaWs1W6k6woDfjyYA9cHe4HXa/OZK1nmwAfF851wOJKGsZ/moSdovj3OY5zoqpHfhwPgtpc6k/BO28PVsE1dkqQ2zKAfSXJ6fVcdxt8cPUNp65aQckIjjfG4NpbAw6r9Y0sPPxxEvIMLkpjQxSuDQ+wHNpVrvf1tEP/+U54tvBvua7SHyUj+CKL3mgkUuZUMIrw3fd/OHBRielg/Ocp2MxsOSwxR6soSgJOdexdpGbn19idmLWPHWaJpdW0o29raXLKKhWUBNzEVg4VyWQLleK+56LrwhaJKDkVUDIHP/llBiLsxw0o6f/20oCXcJcr0nHppqIoCXhtPXMoK1w99KbaHDt3unCUChTUfF0dAgYvaNffvexY4epiek7Ora/TKWdByQg+aOy9qVa48f4QVHLudqEID8aeguVaGx/UXvaxUAHufP21KrgZdrv84OFT2Nrekc2Nu7/QAI7FIvDRe1ecyMW0MDL6O+DdncoSmhw8yO7aEvGGMktcF48+nlAeLg42NIB7u1qdQF1YfnHg8s0xVKAQGsCJxKvoRWbpzbwC6PiGEJoc/NvEAjSwPIyyns7xzU4Bq9AA/md5QwFcRx9CaFLE0aemRovQRPAnH193iE3NrQC+XxEGoQgWfJYIsGDAoUkRmBYqwvNuW8X2pJ9DAzgsOdd7QilFeIkEXCfAAQP1uiPAXiIB1wlwwEC97giwl0jAdQIcMFCvOymAK5+feTs/ybqsMUkBPNDXeZIsa/Yta0xaJru191XFmkMJRlkwSlAqqfH5WSwWYx8/xYKZ2CFepAE+ZBx1e1hKiqhbehwTI8AckPyYEGA/9DjaEmAOSH5MCLAfehxtCTAHJD8mBNgPPY62BJgDkh8TAuyHHkdbAswByY8JAfZDj6MtAeaA5MeEAPuhx9FW390PjcOUTI5KANliBKv5C76jzkZNewMBh/OLt2oC9Y5qQ8dtEr1aqgdDANnquAdlMO7Ii5cAsqUtJ71UAqpXtpzEVYSJG3yiIiDfp94Nstxlajpb+rL/g0Pb/h4jNBjMA7f9/R/0IYNL5pIUiAAAAABJRU5ErkJggg=="},"3b95":function(t,e,a){"use strict";a("e05b")},"3b97":function(t,e,a){"use strict";var n=a("c7eb"),i=a("ade3"),s=a("1da1"),o=(a("a9e3"),a("caad"),a("2532"),a("b0c0"),a("99af"),a("e9c4"),a("9de0")),c=a("d90f"),r=a("5ac5"),l=a("f5db"),d=a("60ce"),u=a("e490"),f=o["b"].create();e["a"]={inject:["to","IMSDKType","globalData","wpaDetail"],methods:{qidianDAReport:function(t){var e,a=Object.assign({robot_nav_conv_type:4,robot_nav_cid:this.to.user_id,robot_nav_msg_dir:2,robot_nav_event_type:2,robot_nav_robot_id:Number(this.globalData.reception.robotId||0),wpa_id:null!==this&&void 0!==this&&null!==(e=this.wpaDetail)&&void 0!==e&&e.wpaId?Number(this.wpaDetail.wpaId):""},t);console.log("reportMsg-full",a),window.qidianDA("track","robot_nav_click",a)},handleAction:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";console.log("上报",t,e);var n=t.action||6,i=t.meta&&t.meta.url||"",s=![d["c"].ACTIVE_FEEDBACK,d["c"].CLOSE_SESSION].includes(n);if(e&&s){var o=Object.assign({robot_nav_first_menu_id:t.id,robot_nav_first_menu_name:t.name,robot_nav_action_type:n},e);console.log("reportMsg",o),this.qidianDAReport(o)}var c=u["a"]?2000001:1000003,f="mqqwpa://im/qdmenu?svrId=".concat(c,"&robotId=").concat(a,"&ext=").concat(JSON.stringify(t)),m="mqqwpa://im/qdmenu?svrId=".concat(c,"&ext=").concat(JSON.stringify(t)),h=u["a"]?m:f;switch(n){case d["c"].IMGTXT:Object(l["b"])(h);break;case d["c"].WEB:Object(l["b"])(i);break;case d["c"].KNOWLEDGE:r["a"].sendOnlyInvisibleMessage({type:"text",content:t.name||t.question||""}),Object(l["b"])(h);break;case d["c"].HUMAN:Object(l["b"])(h);break;case d["c"].ACTIVE_FEEDBACK:this.$parent.activeFeedback();break;case d["c"].CLOSE_SESSION:this.$parent.closeSession();break}},getImgTextDetail:function(){var t=this;return Object(s["a"])(Object(n["a"])().mark((function e(){var a,s,r,l;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a='<?xml version="1.0" encoding="utf-8"?> <msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF" action="web" actionData="https://qq.com">     <linear background="#FFFFFFFF" width="-2" height="-2" orientation="vertical">         <linear width="-2" height="-2" margin="20,16,20,12" margin.pc="10,8,10,6" orientation="vertical">             <linear width="-2" height="-2" margin="0,8,0,8" margin.pc="0,4,0,4" gravity="left|centerVertical">                 <text height="-2" width="420" size="28" color="#FF1E2330" width.pc="210" size.pc="10" color.pc="0xFF1E2330" maxLine="1" text="小鹿" gravity="left|centerVertical"></text>             </linear>             <linear width="-2" height="-2">                 <image width="420" height="328" width.pc="210" height.pc="164" cornerRadius="0" src="http://eamaterial-30012.picsz.qpic.cn/material/image/2852199661_4ecf237221a7728bda4013a801edfdb6"></image>             </linear>             <linear width="0" height="0" >                 <text size="28" color="#FF1E2330" maxLine="1" text="wxc0f12af109cd1049"></text>                 <text size="28" color="#FF1E2330" maxLine="1" text="pages/realname/realname"></text>             </linear>             <linear background="#FFE1E6F0" width="420" height="2" margin="0,18,0,6" width.pc="210" height.pc="1" margin.pc="0,9,0,3">             </linear>             <linear width="-2" height="-2" gravity="left|centerVertical">                 <image width="24" height="24" width.pc="12" height.pc="12" cornerRadius="0" src="https://oa.gtimg.com/demo/sdk/flex_pic/basic/pic4@3x.png"></image>                 <text height="-2" width="380" margin="6,0,0,0" size="24" color="#FFA1ABC2" width.pc="190" margin.pc="3,0,0,0" size.pc="8" color.pc="0xA1ABC2" text="上限啊啊啊啊啊啊啊啊啊啊啊啊啊" maxLine="1"></text>             </linear>         </linear>     </linear> </msg>',s=t.to.id,r={seq:c["a"].generateUUID(),type:t.IMSDKType.MSG_QDXML,time:Date.now(),status:0,from:s},Object.assign(r,{content:{content:a}}),l=Object(i["a"])({},s,[r]),console.log("mock",l),f.emit(o["b"].EVENT.MESSAGE_RECEIVED,l);case 7:case"end":return e.stop()}}),e)})))()}}}},"3bd9":function(t,e,a){"use strict";a("d81d"),a("4de4"),a("d3b7");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lang-select__container",class:t.isMobile?"h5":"pc"},[e("div",{staticClass:"lang-select__mask",on:{click:t.hidePanel}}),e("div",{staticClass:"lang-select__panel"},[t._m(0),e("div",{staticClass:"lang-select__content"},[e("div",{staticClass:"lang-select__select"},[e("div",{staticClass:"webim-select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectdLang,expression:"selectdLang"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectdLang=e.target.multiple?a:a[0]}}},t._l(t.langList,(function(a){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.text))])})),0)])]),e("div",{staticClass:"lang-select__switch"},[e("span",{staticClass:"lang-select__switch__container",on:{click:t.switchAutoTranslate}},[e("div",{staticClass:"webim-switch"},[e("input",{staticClass:"webim-switch__input",attrs:{type:"checkbox"}}),e("div",{class:["webim-switch__slider",t.autoTranslateSwitch?"webim-switch__slider--on":""]})])]),e("span",{staticClass:"lang-select__switch__label"},[t._v("Auto translation")])]),e("div",{staticClass:"lang-select__tip"},[t._v("Show translation when receiving message")]),e("div",{staticClass:"lang-select__button",on:{click:t.submit}},[t._v("OK")])])])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"lang-select__header"},[e("div",{staticClass:"lang-select__icon"}),e("div",{staticClass:"lang-select__title"},[t._v("Choose the service language")])])}],s=a("5ac5"),o={inject:["to"],data:function(){return{isShowPanel:!0,autoTranslateSwitch:s["a"].translate&&s["a"].translate.translateAuto,langList:[{text:"English",value:"en"},{text:"繁体中文",value:"zh-TW"},{text:"简体中文",value:"zh"}],selectdLang:"",defaultLang:""}},computed:{isMobile:function(){return!this.$platform.pc}},mounted:function(){this.defaultLang=this.$i18n.locale||this.langList[2].value,this.selectdLang=this.defaultLang},methods:{switchAutoTranslate:function(){this.autoTranslateSwitch=!this.autoTranslateSwitch},submit:function(){var t=this;s["a"].translate&&(s["a"].translate.translateAuto=this.autoTranslateSwitch),this.selectdLang!==this.defaultLang?s["a"].setLangRequest(this.selectdLang).then((function(){s["a"].switchSetLangPanel(!1),s["a"].sendLangTip(!0)})).catch((function(){t.$Toast("切换语言失败")})):s["a"].switchSetLangPanel(!1)},hidePanel:function(){s["a"].switchSetLangPanel(!1)}}},c=o,r=(a("3b95"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"4570852e",null);e["a"]=l.exports},"3e8a":function(t,e,a){},"3f10":function(t,e,a){},4022:function(t,e,a){"use strict";var n=a("5530"),i=(a("13d5"),a("d3b7"),a("ddb0"),a("ac1f"),a("5319"),a("b5c7")),s=i.keys().reduce((function(t,e){var a=Object(n["a"])({},t),s=i(e).default,o=e.replace("./","").replace("/index.vue","");return a[o]=s,a}),{});e["a"]=s},"454e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-revoke",class:{mine:t.data.mine}},[e("span",{attrs:{title:t.formatTime},domProps:{innerHTML:t._s(t.processedText)},on:{click:t.onClick}})])},i=[],s=a("c7eb"),o=a("1da1"),c=(a("b0c0"),a("caad"),a("2532"),a("13d5"),a("d3b7"),a("5ac5")),r=a("bc3a"),l=a.n(r),d=a("9de0"),u={inject:["IMSDKType"],props:{data:Object},computed:{processedText:function(){var t,e=(null===(t=this.data)||void 0===t||null===(t=t.extuinInfo)||void 0===t?void 0:t.name)||"对方",a="".concat(e,"撤回了一条消息");return this.data.mine&&(a="你撤回了一条消息"),this.canReedit&&(a+=' <a href="javascript:void(0)">重新编辑</a>'),a},formatTime:function(){var t=new Date;return t.toLocaleDateString()+t.toLocaleTimeString()},canReedit:function(){var t=this.IMSDKType,e=t.MSG_TEXT,a=t.MSG_LONG_MSG,n=t.MSG_MIX,i=[e,a,n];return i.includes(this.data.origin_type)&&this.data.revoke_mine}},methods:{onClick:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.canReedit){e.next=5;break}return e.next=3,t.getReeditContent();case 3:a=e.sent,c["a"].addSendContent(a);case 5:case"end":return e.stop()}}),e)})))()},getReeditContent:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.data.origin_type,e.t0=a,e.next=e.t0===t.IMSDKType.MSG_TEXT?4:e.t0===t.IMSDKType.MSG_MIX?5:e.t0===t.IMSDKType.MSG_LONG_MSG?6:16;break;case 4:return e.abrupt("return",t.data.content);case 5:return e.abrupt("return",t.data.content.reduce((function(t,e){return t+e.content}),""));case 6:return e.prev=6,e.next=9,t.getLongMesText().catch((function(){}));case 9:return n=e.sent,e.abrupt("return",n);case 13:return e.prev=13,e.t1=e["catch"](6),e.abrupt("return","");case 16:return e.abrupt("return","");case 17:case"end":return e.stop()}}),e,null,[[6,13]])})))()},getLongMesText:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(t.data.previewContent)e(t.data.previewContent);else if(t.data.compressed)try{var a=d["c"].downloadAndParseLongText(t.data);return void e(a)}catch(n){e("")}else d["c"].getDownloadUrl(t.data,d["b"].OBJTYPES.OBJ_LONGTEXT).then((function(t){t?l.a.get(t,{responseType:"text",transformResponse:[function(t){return t}]}).then((function(t){200!==t.status||e(t.data)})).catch((function(){e("")})):e("")}))})));case 1:case"end":return e.stop()}}),e)})))()}}},f=u,m=(a("160d"),a("2877")),h=Object(m["a"])(f,n,i,!1,null,"14212888",null);e["default"]=h.exports},"45fa":function(t,e,a){"use strict";a("96b4")},4636:function(t,e,a){"use strict";a("cf0c")},4797:function(t,e,a){"use strict";a("7511")},"47ff":function(t,e,a){"use strict";a("e56f")},"487a":function(t,e){t.exports="data:image/png;base64,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"},"4b18":function(t,e,a){"use strict";a("85a9")},"4bcb":function(t,e,a){"use strict";a("1e96")},"4c4c":function(t,e,a){},"4d71":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAAXNSR0IArs4c6QAADUVJREFUeAHtnduPZFUVxlfVXOhhZHAGMaiRaLxwiRo0JJIIJhgviYKCtBrxARJR8Pbgk+FP8NVglEQfTHwwBDFqYkyUkBg1I9EXoiZ4ewAkIuIw9IwMMN3l+tZe36q1T51TdaYHqy367KRr7732+tbe+7fXOVV9pic1Ei+TyWTPU8/I7eOJrE8mcslE5PBoLGs6PBLt6KtYDX9tq4+MYEPx8bChj9IYf4nqJ5MtOaWsjo0m8rDskXsPv0zuHo1Gm4HgyZOTV49Py/fVcBWMLAGMBtYEjn4TLn0wpGNxCMlOjZlemvqjW3vlpgsPjh4fIXOPbcgvFcYUbgboYGZgtfgEw5axXag/euSQXD0+dkJu1xRvhwtQKFpHJrqNQxy32n2rW4PbdqH+qmO45cqmrFdA/P5qwHgPdXrIQvoSWLbx0jcbNLtdr+9n48lILnF+xse4NMAQlEHNqattgoaOQ9lmsT3ebtOD7VhvD4dJJsCQlNeWkbQRPvpoo/axQW/pFDzAdmwfxQgNrAhuyq1kKWF6DMAN30FPKlMmsIxkbWyVZyAyMWdhtCkn1DkZG5oca/fqNX+1kG9c8jASZuXgB8CMdeGgByQt4EIYzs8A56zLYM2uAmosSO446EFvZAooBwsLuIwregCmAAOYeXmfYFOA6s3PfQd9zc8yGGyiJIAV/HDQAN6uDoLjg7680YGHJuWY9w3Lxia4DItUkclswx9ttQ16wCglEk/ZlAzWRhh5K/A6WNJOQ4Y66Dv5TW8RTYAEmeqcpcjcOBQc3KD39C0Vr/ICGHAUWABEn8Dg721j7e3w5figb+W31+A5nMhII1mAm837PBVowhfAB73BDSaJX3mTAyNCZEY2bFXGwtczmdAHPcB5cTZgMr1F5EHCJkStA6DbOGSy3EF70BeaymJsmZmBaDuylXaHn30JPNvy7cYkg17GBAUgTMRsy6DMTicXZF8OZdtu15dflZ1MgCEpry1LaWNWoo82ah8b9JZOwQNcypscoYEVwU25lfsvYXoMfnIwyIOeVGb41W9yCjdnYbQpV5A5m2PcMxgnlm3R3sV6A0w+cckDCGGiHQ4OkBnr9hiGnZ1Bb8m4F/wi0wDHwcBmdrW5Ga51B0C1LNJvETqcPRik1LHmGK4S2MyubZdAXXdWYP74Tc4WjwX75qyPF2wUNXepHQKw2n1QmWND//hTInfeJVJBVtexxvnSJ0SuvNR1Hfqznf93D4t87Xs7N3+5B2NzLA7QuoDaUgy42iPzsk9Df/zE7ObgDuCPPpGF3m7oWzzKgetAn/kf+cfOzr+858FtpGDDaSlse/N0nwCXYcMPBYfONvp99fBtK331nPMM5y8ZrOLYFAKgeM247MfmdDyg9NGXqNXrGem5Li5oReaf3iKaG+BGUh1AgClDRX+RHj6NEocK+yK9zreK8xfA2FzeAPrccNq8sXZ7tdlFesSYVxbpfc5VnD8+RQBYZJTtpGSM2byfbw/hm+CELenncbWxBfpVn39pz4M7QfthxOHAkRnLg4XJbRYHdvZ76k3X9tJTv9357RcNWyw34xlla2Fb6wDgNg5VfujkAbT7lKYmreXv/xL56ndETtsf5E+D7d0j8pVbRF5zodrm6KeKOa15eqxFx7e7/6U+D27bomVGAprfC54/LXLXPSL6F/iy8Z/6BzaMPfe8Ru3Qh71tYrfNm7+pz74Enm08aLMhvq5rOc+DuzaYM0N9kEgoXPx3fyry2D+Lre310Scmcvd9+puMl6ae9s56wfyh8wO0dXESDPbQL+V5cCy02cDCsWBfNMGi/5vfizzw26ag7m9sPCM/+/UL8uAfij3rzeJxa1XqzZk/6y0jGcth25p76JfyPDhtqWrG5cVF6yhsTz4t8u0fV64znVPPPivPPXdK1g6sybd+pJpjxSViItaMqjaEb2N+3hqot4MjTIbQfh/99HMwhBoxZ0G0m0F95hjnShbpGcfrNj2eUXz9XpFnTzWcU/e0vuOdOLGhax3JOfvXzBeaTX0jzDGjnbS5GeN910+o7t9Hb4AZ306OHQbDimjTpgXFaaK4PYZhZyfrzbnlpUV/z89F/vpYi6+bkDUbzxzXaSayf/85MsJjOS3Q3HO/Ns5y/lY9Y2r4M92/Aa5OIoExuwZP8etO2VuVNTgku3S4mEqsxlwa+of+LPKTX2WH2faJkxv6ke0FG1hbO1A5QPvQX7Y/v220Zf3VFnKnsf42/VL+PriikDp2EL7gp/Vj1zfvS4MtzXdcclqfH2/ZyEj/OH//vv0zXoiBR6RRHEL0UyPPb2b46noi4WBUGxONPkygPvpyDzalv2hABqhTd+rENVcL4XAPfbh6IMz3DQWDz7pd5cihiXz2hj3y5U8dklce2SNra/rfqLmQJEIMxJrZfPJhc7vr57R99P8Xz4N/+AuRP/6N256tx5oGn1vfkoPnjuTggZHc+enz5cC55846ugWxEDPfrjqdQUsPOJIKsiCY7LThimMbQRfoSwarUwRFABSvIxbtNGg/FtVHX6JWr9D/6RGRHzxQmWc6N7z7Bbn0Yv3dGEXnuuz1++TmD3i/WGdeEROxudwZBzWc0fp1rVYYUPt99AUwlM0ADJTqCAh/tceh9NHDp1FO6kcxfLxq/ntddrv8dZty47X7bL48/3VXi7z1jdmzbvPj3ok5H/fOaP263zx/3/0XwICbA6BP4Fi3t421t6vJYJunR4yWcv+DIv8+3jLgpkN6F7hjXZfYMf/tHxU5/2C3HrExx8KyaP0d80fcOfryKcLhxImCZAaGPorbseHwTcHD1tQX9czrZvlAMGOn4TM3npbD52mwjvkB946b6N1eL5rDDk/jI2E6198xv824YP87/zy4nYtcf43IFW8uT1PhUl0x2DA2puUtbxDzLb1tvDq8gIsQHjvbuubn4WffrJ/eIrg2PxHr+kQQRAC3cajyQwcDPPHKyTx7vbzptSLr7/FYUGicefOvXysCzbZLXmfb+hfMT6A2f0O/48+Dm1AO6i9nn1/X56g4eh6UO1kWNTIOtrF+oPjCx0Q/wjWjLe7nmEyOyNae88c6HW7W7+zz4Jb93/YRkVe8vDGQoWITLNpmZl9wvshtH+ZAzzrpoWBoxowoPebv0u/s8+DYQWm89536p1SXaZs79doygjZmFfpoo/axKy8XQYzepaEPsJzL677zt+l39HlwBnHxRSI3v19ZYVMOkfu0hRMGRdoPX/fH0CffJ4JYfUqbPmwaYDvzN/X1m5xGzKcQba6Wm/KZY5wrWaRnnEZ9jj6z+eLHRfbpvTTHjDb9e8y/X38nQSzEXFQift/195g/x0TbADN+XHJYGYOhHQ4OQMesuD2GYWcn6929q7rlgyKvukBHu/SMCRf44AelY37EuuVDxWXua4feNHn9Zzh/1hvgTD2DNbsGT/Hrjm90kX7eJt/1NpFr3u4emCht7Gzmv+YKEcSeW3qu/2z2v6PPgy86InLrdQkBNqy7iQPDkNoI2jzTAdj9Lu++ob/1ehHM0VUW6TnfdueHvtyD8wrSBurUnTphHygViGIyILZw9B0W/kik+bPm913UVXkR51/T+zE+H2OO5vzo22ftanLtvIjz2/6fOq44FAQSoQ0YYFV2c2ysatB38isZrKcWEAEQxWtmK/s4YSuASt9B38lveotIsAwgQaY6gMIhQ0V/0IOCccl1AQw4CiwAok9g8Pa2sfZ2+HJ80Lfy+5//fbDdeuxk9CRY6yFVtyQ/nLC5Hw5x1fVLex5cZTwA+pVA6AGXVwTOgwcCd/pjfIX001sEFo6CjXBj3JTWsVm3cSg01hj0TX5LfR5sWeiHxwPLNi4uspUH7YeXfVdFv5znwRlqTv18ZXjygyXhOde4osy+YvqlPA+2zCMYZiX6aKP2sQBLX69XWb+U58EGjjCZltqPS57QwRpQvU/Oq6yv3+R0RzmLot2E4juPcZIY9DP8DDD5xCULoMwwtMPBD4AZ5/YYhp2dQW9XowGuMjGBMbsCIzOwrjoOetAbmcKmwW8pz4N5ULaMtIDqzQuDODA9zTgwt62yvtyDsRGWBKDKVo5rDQ4oFYhiskEDh36V+nTYXfryKQK3gQQjwGXYpAo/tsEM7UHfya9ksEIKqATtdbCknYYMddB38pveIpoACTLVOcuRuXEoyORBDwrTq9u5AbD9kxGABUDAIjCIvG0ab4cvxwd9G78JvmrnFOFGRoJkBmZkiw12AA9fAHffsMHHbdqydtS7SL+lbPFVO/afUAMOSDBjAcNLlbEOyYbcZ9CTlNbOT//V+tjYvibRDebiGRltNNQWAN03SxgwNDwYOu1SPdiOt0Zyr132DrL10jZyyhnAGhmbbQZaxyPbCXq36vX7PauvnASYyFSHMlMlyARKn0E/5accjx4+T79yEt+eurlHboIh4AIiiteWkbQxKwkatY8NeqOGi/xoYTraJC69rPXLU/X7PfEVlPgmP4V6WN3XFFr49MnYnMW5bVPzUMo67FYSh9JiWxG9otOv/R2Vr/3FLfeCQ9Ov/f0vZfkCYB/YAOkAAAAASUVORK5CYII="},"4e84":function(t,e,a){"use strict";a("34d8")},"4f77":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAzxJREFUWAnNmc9PE0EUx+cNDdsqZwlcMZ6MF/8Qo1KbgIQbB+KPGHsW8ExijMSTF0LA1Poj/iGc9Mq1Bi96wNhtKOP3O3Q2u7SLnd2ydJPNzM7Oe+/TNzM7815FZbzateU5ddK5Y5TcFmVmlahZZXDzEtVCvYV3LbzbV3rya7mxfZDFlPgImaWla+2w+whG7xqjbvrIiqjvAP5SDia2ZGfn57CyQwEC7Gon7NaNMXWj1NSwygf1g8EjEdmcDCY2AfpnUJ94238Bw9rCvRNj3mLIpuOCueuiDrXIatDY+3yeLp32Et6S8MHCmjkxH0cOR6P4wdRtbcBWGsfAF6b6rBLK4TYgq2mCo2zHkDcDM70szVd/z+rt86D1XIFwBKIjeg7pc1gfYKe2+KIoz8W9RZu0HW9jPUHMBcF5gZWaaD8rdFHPMGpEy3x84UQg/JS0w+ODC1kQPr8Iq7sclObcJygaYn7n8sBhor+rNN8Lb9Z9mBJ9sbotS6/RAnKHwByoJzp6P5jYCozXvRVx0dTJREkLyO0r7w7hj5EuQRYyRYDcW9O7X84bx6R5KvHd+ItAJhPZNI9MRRjMZANsmue5TMIFCJFNY6xPD5kFGPQ1QTZtT8K+kkX1xyld4+M8th4kW7STFOUUPztiOMQtP6ECe4v5UYIbCXgjt1mjZtrVh9etHtOdya2PCsBWYmjIWt4LGuaV6uIe3UU2fmb2R6dytJrIphlUj0qtKPnGe1T6yKYZ8TOozqsUYI/Lzb1bvEXrJ7n1gYlsp+dBRPx5FOKA+gtgW05HubH7hm3uOUuJ+WeZLKBNRyDiz6KoJ1MxKytXnHyvXnHPviXikCMyUS6KSRhAI4Ow7qvM9YfHPgWm9JTPoRy/xqn4vnvnWyLjsB582NugXAQ49kEToyjmSkCc/6Po67Jef9q2DLGkUmIvZjyKobKuzWgjlxhtx2NiKouG2GnG3JGwtthAWUhextkFXDNo7NZQJkYw4UFLjA42kQMBJ3zRpYVj8ugMnOVJM05P9vI0a/hJfZ5Ok/Np55wD1MZkY/flILhzAZ2hy05gDuUZU12d6sjv5/Dq+KWAnSdZMh0xlkn0OKSrF/U3xD8ZBXOiF6cnXwAAAABJRU5ErkJggg=="},"4fad":function(t,e,a){"use strict";a("d276")},"4fc2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASiSURBVHgB3ZrdbxtFEMDn9s53F8eOkjqBOnGbpBLB0CQIhUjAAxQq9SHKMxJv/A/8Hf03QPS1VR8qgeCpCIgE+UCuS/PRWjGoOUpjn+97lx1Hjuz4o967c+r2J8WOd/fOM7Mzu3OzliAG7t59qC0vj8/atjlJSCKlKHKGEKYGAdMaYySJVHzfr1LqG7quHFWrWjmfn6pARCQICQp99eroIr9FFoBNQwgYA0NR6FYUZYQVaAguy9Jis4WjQmlQdBx9Q1QRIQUODg5X4ha8Axuzs9Mb/Q7uS4FC4Wla1+0bkiRn4ByQJFap1dQ7/czGCxUoFHbfTqVGPhyw1duglLoA8o/z89n9XuN6KoAuw99W4OXS06W6KjAkwjfoqgTp1Li3tzcHwyM8svLoUWmhU0ebAhiwiYT+KQwZhMDHKFtb+9mGZNJdP++A7QdCiKrr3o2z7S0xEKff7+6XFp4fmznfD5KZC2PFK3O5IsRDSzycKoDTMzLifQkRMYxnmc2dv76ybKfFZ2VFNj54L38zk5kwIAK4vJrmzDeLi5KLn09dSNPsyJZH4X/7o/A1Cq/r2oPsxanv8C+hKqXAD+p9pmkmIQLoSul0eanxWcEXtD4h3gJEpPBwfx0FnZgY+/6j1eVbTV0/3P9l84tn/x1f/7N48Pnq++/egQjwWVja3mZbOAt1FyqVSgtBQK6J3AStXdx9ct22nEuNNsf1cvzmSU1NPOGWsprHBzRIuq6f4+013l9qtCdU2XjnrfnbIVyrHgv1GWCMLAleDOgOaO1OfVyRS92uQwWb48OyAXjMZD77ZPUmCBAEFFP4DYLuQykIJWmmaSW7CR8GVMgwngvdT5ZJlruRSlIpJwuC/PPUyEHM1GxHOLjHx4/m+CqUOJcU+UV4njsCgvg+zRDX9SZBEH5NpKWwE2bNFjak5zljRFGUFAjCd1dhaw0CTVMvEMZoWvRCy3ZjdzvP84VnNQh8jcCQwJdF4VnFXTmUAry+E3sMOLYrHIsIV0ByQBAawlqDgkjSSVYnguuGs1YvAipuFKz2Eb6iREpv4yJgNMQ+4FeJqirCJT2f0dhjwPPE9yNehz3iMUCEZ4BR0GEICALPIDMzk/sgCJ+62GOAUSbsQp5XLdeDmK/BZXjJYJotMh4r2/l8vlLfB3hqegivGNzoW/heV+Dy5eyWyH6AT1UQM/jQLzIe3acuC76c7AVsu9+Lc9Nv3IIYQYPMXJy63e94PEtA98H/T8sqjDH18eO/eVmlv6IWPpXF9WDz5lSmNDo60vesWtbxt20KIENW0O1GS2GrJZnDDoxuGFIoZZWzVeq2bNS2j++FSfAGj+Q4TqWtntSmAPoWz4/uw5BRq9k/Nfy+mVf+gOP1PWJqcHj47yx/+r/W7/IaH5JjWdbP+fyVBz1HQR8UCoV0MpleZ0wSLgCEgbHAsG3zXiefP4vwQTcM1KVw9WPbsR90N4OzoWmjK4TIkcvxTWLUBd/Z+X17bW1NaAkP/WMPVCSRSGV5JrskSWLF4aav51kwK4cR/PQOEAMNZRjzJwlRMljtay2YSc5JwhgYvCxZ1fXRo83NXw/CCt3M/w1YMfFQbTayAAAAAElFTkSuQmCC"},"4ff9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-long-msg",class:{"select-none":t.selectNone}},[e("span",{domProps:{innerHTML:t._s(t.processedText)}}),t.isTransLate()?e("msg-text-translate",{attrs:{data:t.longMessage}}):t._e()],1)},i=[],s=a("c7eb"),o=a("1da1"),c=(a("d3b7"),a("159b"),a("bc3a")),r=a.n(c),l=a("d90f"),d=a("9de0"),u=a("5ac5"),f=a("342f"),m={props:{data:Object,selectNone:{type:Boolean,default:!1}},data:function(){return{selectedText:"",longMessage:""}},components:{MsgTextTranslate:f["default"]},watch:{processedText:function(t){this.data._processedText=this.getCopyText(t)}},computed:{processedText:function(){var t=l["a"].filterHTML(this.longMessage);return t=l["a"].emojiEscape(t),-1===t.indexOf("<a ")&&(t=l["a"].urlEscape(t)),l["a"].coverEmojIndex2EmojiImg(t)}},mounted:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.data.previewContent){e.next=3;break}return t.longMessage=t.data.previewContent,e.abrupt("return");case 3:if(!t.data.compressed){e.next=16;break}return e.prev=4,e.next=7,d["c"].downloadAndParseLongText(t.data);case 7:t.longMessage=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](4),console.error(e.t0),t.longMessage="[获取消息内容异常]";case 14:e.next=20;break;case 16:return e.next=18,d["c"].getDownloadUrl(t.data,d["b"].OBJTYPES.OBJ_LONGTEXT);case 18:a=e.sent,a?r.a.get(a,{responseType:"text",transformResponse:[function(t){return t}]}).then((function(e){200===e.status?(t.longMessage=e.data,t.onLoad()):t.longMessage="[获取消息内容异常]"})).catch((function(){t.longMessage="[获取消息内容异常]"})):t.longMessage="[获取消息内容异常]";case 20:case"end":return e.stop()}}),e,null,[[4,10]])})))()},methods:{getCopyText:function(t){var e="",a=document.createElement("div");return a.innerHTML=t,a.childNodes.forEach((function(t){console.dir(t,"emojiText-image"),"IMG"===t.nodeName&&"emojiText-image"===t.className&&(e+="[表情]"),"#text"===t.nodeName&&(e+=t.nodeValue),"SPAN"===t.nodeName&&"emoji"===t.className&&(e+="[表情]")})),e},onLoad:function(){u["a"].checkIfNeedScrollToBottom(this.data.fromHisotry)},isTransLate:function(){var t=u["a"].translate||{},e=t.translateSwitch,a=t.translateAuto;return+e&&a&&!this.data.mine}}},h=m,g=(a("e892"),a("2877")),p=Object(g["a"])(h,n,i,!1,null,"411e1e12",null);e["default"]=p.exports},5168:function(t,e,a){t.exports=a.p+"img/tip.f22a5167.svg"},"534a":function(t,e,a){},5417:function(t,e,a){"use strict";a("e7bb")},"55b6":function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a("5530"),i=(a("d3b7"),a("159b"),a("d81d"),a("2b0e")),s=a("a925"),o=[{locale:"zh",name:"简体中文",source:a("60cc").default},{locale:"zh-TW",name:"繁體中文",source:a("ac26").default},{locale:"en",name:"English",source:a("d5d6f").default}],c={"zh-tw":"zh-TW","en-us":"en","zh-cn":"zh"},r=function(){var t={};return o.forEach((function(e){t[e.locale]=e.source})),t}();i["a"].use(s["a"]);var l="qdim-locale",d=new s["a"]({locale:u(r),messages:r});function u(t){try{var e=localStorage&&localStorage.getItem(l);if(e&&e in t)return e}catch(a){}return o[0].locale}function f(t){try{if(!(t in r))return void console.error("locale '".concat(t,"' is not exist!"));d.locale=t,localStorage.setItem(l,t)}catch(e){console.log(e)}}function m(){return o.map((function(t){var e=Object(n["a"])({},t);return delete e.source,e}))}i["a"].prototype.$setLocale=f,i["a"].prototype.$getAllLocales=m,e["b"]=d},5802:function(t,e,a){"use strict";a("a532")},"58e1":function(t,e,a){"use strict";a("38b5")},"5ac5":function(t,e,a){"use strict";e["a"]={}},"5afa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-mix"},[t._l(this.data.content,(function(a,n){return[a.type===t.IMSDKType.MSG_TEXT?e("span",{key:n,domProps:{innerHTML:t._s(t.processedText(a))}}):a.type===t.IMSDKType.MSG_FACE?e("span",{key:n},[a.src?e("img",{staticClass:"emojiText-image",attrs:{src:a.src}}):a.content?e("span",{domProps:{innerHTML:t._s(t.processedText(a))}}):t._e()]):a.type===t.IMSDKType.MSG_MEDIA?e("span",{key:n},[1===a.mediaType?e("img",{attrs:{src:a.mediaUrl}}):t._e()]):a.type===t.IMSDKType.MSG_IMAGE&&a._src?e("span",{key:n},[e("img",{attrs:{src:a._src}})]):t._e()]})),t.isTransLate()?e("msg-text-translate",{attrs:{data:t.translateData}}):t._e()],2)},i=[],s=a("c7eb"),o=a("1da1"),c=(a("13d5"),a("d3b7"),a("b0c0"),a("d90f")),r=a("8aeb"),l=a("9de0"),d=a("342f"),u=a("5ac5"),f={inject:["IMSDKType"],props:{data:Object},components:{MsgTextTranslate:d["default"]},data:function(){return{selectedText:""}},computed:{translateData:function(){return this.data.content.reduce((function(t,e){return t+e.content}),"")}},created:function(){this.formatFacePath(),this.formatImgPath()},methods:{formatFacePath:function(){for(var t=0;t<this.data.content.length;t++)if(this.data.content[t].type===this.IMSDKType.MSG_FACE){var e=c["a"].faceTipEscape(this.data.content[t].index),a=r["b"].indexOf(this.data.content[t].index);-1!==a&&(this.data.content[t].src="./static/qq/".concat(a,".png")),this.data.content[t].content=e||this.data.content[t].content||this.$t("custom_Face")}},formatImgPath:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a,n,i;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<t.data.content.length)){e.next=11;break}if(t.data.content[a].type!==t.IMSDKType.MSG_IMAGE){e.next=8;break}return n={path:t.data.content[a].content,name:t.data.content[a].name,size:t.data.content[a].size,resStore:t.data.content[a].resStore},e.next=6,l["c"].getDownloadUrl(n,l["b"].OBJTYPES.OBJ_IMAGE);case 6:i=e.sent,t.$set(t.data.content[a],"_src",i);case 8:a++,e.next=1;break;case 11:case"end":return e.stop()}}),e)})))()},processedText:function(t){var e=t.content,a=c["a"].filterHTML(e);return a=c["a"].emojiEscape(a),-1===a.indexOf("<a ")&&(a=c["a"].urlEscape(a)),a},isTransLate:function(){var t=u["a"].translate||{},e=t.translateSwitch,a=t.translateAuto;return+e&&a&&!this.data.mine}}},m=f,h=(a("8033"),a("2877")),g=Object(h["a"])(m,n,i,!1,null,"16761381",null);e["default"]=g.exports},"5b7a":function(t,e,a){t.exports=a.p+"img/qq.99c0f03f.svg"},"5c0b":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"d",(function(){return r})),a.d(e,"h",(function(){return c})),a.d(e,"e",(function(){return f})),a.d(e,"c",(function(){return m})),a.d(e,"f",(function(){return h})),a.d(e,"g",(function(){return s})),a.d(e,"b",(function(){return o}));a("99af"),a("b64b"),a("ac1f"),a("00b4"),a("466d");function n(t,e){var a=-1===t.indexOf("?")?"?":"&",n=Object.prototype.hasOwnProperty;if(e)for(var i in e)n.call(e,i)&&(t+="".concat(a+i,"=").concat(e[i]),a="&");return t}var i={};function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,a=function(e){var a=e.data;if(a){try{i=JSON.parse(a),console.log("[receiveMsg]",i)}catch(n){return void console.warn("PostMsg Parse Error ".concat(a),n)}"function"===typeof t&&t(i)}};e.addEventListener("message",a)}function o(){var t=document.documentElement||document.body,e=t.clientWidth,a=t.clientHeight,n=t.scrollTop;return{w:e,h:a,scrollTop:n}}var c=function(){var t=[];function e(e,n){a(n.id),t[n.id]=setTimeout(e,n.delay)}function a(e){t[e]&&clearTimeout(t[e])}return{make:e,clear:a}}(),r=/^oa.*.qq.com/.test(location.host),l=/chat.*?-gray/.test(location.href),d=navigator.userAgent.toLowerCase(),u="wxwork"==d.match(/wxwork/i),f=!u&&"micromessenger"==d.match(/micromessenger/i),m="miniprogram"===window.__wxjs_environment,h=r?"gh_80dc8192b287":"gh_97d7d14a21da",g="gh_2b6018df09ef";l&&(h=g),r||(h=g)},"5c0b5":function(t,e,a){"use strict";a("0625")},"5c72":function(t,e,a){t.exports=a.p+"img/quite.ddf858dc.svg"},"5df5":function(t,e,a){},"601a":function(t,e,a){},"60cc":function(t,e,a){"use strict";a.r(e),e["default"]={lang:"简体中文",qqface_Smile:"微笑",qqface_Grimac:"撇嘴",qqface_Drool:"色",qqface_Scowl:"发呆",qqface_Chill:"得意",qqface_Sob:"流泪",qqface_Shy:"害羞",qqface_Silent:"闭嘴",qqface_Sleep:"睡",qqface_Cry:"大哭",qqface_Awkward:"尴尬",qqface_Angry:"发怒",qqface_Tongue:"调皮",qqface_Grin:"呲牙",qqface_Surprise:"惊讶",qqface_Frown:"难过",qqface_CoolGuy:"酷",qqface_Helpless:"冷汗",qqface_Scream:"抓狂",qqface_Puke:"吐",qqface_Chuckle:"偷笑",qqface_Joyful:"可爱",qqface_Slight:"白眼",qqface_Smug:"傲慢",qqface_Hungry:"饥饿",qqface_Drowsy:"困",qqface_Panic:"惊恐",qqface_Sweat:"流汗",qqface_Laugh:"憨笑",qqface_Commando:"大兵",qqface_Determined:"奋斗",qqface_Scold:"咒骂",qqface_Confused:"疑问",qqface_Shhh:"嘘...",qqface_Dizzy:"晕",qqface_Torturing:"折磨",qqface_Toasted:"衰",qqface_Skull:"骷髅",qqface_Hammer:"敲打",qqface_Bye:"再见",qqface_Speechless:"擦汗",qqface_NosePick:"抠鼻",qqface_Clap:"鼓掌",qqface_Embarrased:"糗大了",qqface_Trick:"坏笑","qqface_Hum!L":"左哼哼","qqface_Hum!R":"右哼哼",qqface_Yawn:"哈欠","qqface_Pooh-pooh":"鄙视",qqface_Shrunken:"委屈",qqface_TearingUp:"快哭了",qqface_Sly:"阴险",qqface_Kiss:"亲亲","qqface_What!":"吓",qqface_Whimper:"可怜",qqface_Cleaver:"菜刀",qqface_Watermelon:"西瓜",qqface_Beer:"啤酒",qqface_Basketball:"篮球",qqface_Pingpong:"乒乓",qqface_Coffee:"咖啡",qqface_Rice:"饭",qqface_Pig:"猪头",qqface_Rose:"玫瑰",qqface_Wilt:"凋谢",qqface_Lips:"示爱",qqface_Heart:"爱心",qqface_BrokenHeart:"心碎",qqface_Cake:"蛋糕",qqface_Lightning:"闪电",qqface_Bomb:"炸弹",qqface_Knife:"刀",qqface_Football:"足球",qqface_Beetle:"瓢虫",qqface_Poop:"便便",qqface_Moon:"月亮",qqface_Sun:"太阳",qqface_Gift:"礼物",qqface_Hug:"拥抱",qqface_Thumbsup:"强",qqface_Thumbsdown:"弱",qqface_Shake:"握手",qqface_Victory:"胜利",qqface_Salute:"抱拳",qqface_Beckon:"勾引",qqface_Fist:"拳头",qqface_Bad:"差劲",qqface_LoveYou:"爱你",qqface_NO:"NO",qqface_OK:"OK",qqface_Love:"爱情",qqface_Blow_a_kiss:"飞吻",qqface_Waddle:"跳跳",qqface_Tremble:"发抖","qqface_Aaagh!":"怄火",qqface_Twirl:"转圈",qqface_Kowtow:"磕头",qqface_Turn_round:"回头",qqface_Rope_Skipping:"跳绳",qqface_Wave_hand:"挥手",qqface_Excited:"激动",qqface_Street_Dance:"街舞",qqface_Give_a_kiss:"献吻",qqface_Tai_Chi_L:"左太极",qqface_Tai_Chi_R:"右太极",qqface_Bliss:"双喜",qqface_Firecracker:"鞭炮",qqface_Lantern:"灯笼",qqface_Fortune:"发财",qqface_Karaoke:"K歌",qqface_Shopping:"购物",qqface_Email:"邮件",qqface_Handsome:"帅",qqface_Hurray:"喝彩",qqface_Pray:"祈祷",qqface_Furious:"爆筋",qqface_Lollipop:"棒棒糖",qqface_Drink_milk:"喝奶",qqface_Noodles:"下面",qqface_Banana:"香蕉",qqface_Plane:"飞机",qqface_Driving:"开车",qqface_Highspeed_Rail_L:"高铁左车头",qqface_Carriage:"车厢",qqface_Highspeed_Rail_R:"高铁右车头",qqface_Cloudy:"多云",qqface_Rainy:"下雨",qqface_Cash:"钞票",qqface_Panda:"熊猫",qqface_Light_bulb:"灯泡",qqface_Windmill:"风车",qqface_Alarm_Clock:"闹钟",qqface_Umbrella:"大伞",qqface_Balloon:"彩球",qqface_Ring:"钻戒",qqface_Sofa:"沙发",qqface_Toilet_Paper:"纸巾",qqface_Medicine:"药",qqface_Pistol:"手枪",qqface_Frog:"青蛙",custom_Face:"自定义表情",common_page_title:"在线咨询",common_sendbtn_text:"发送",common_voicebtn_hold_text:"按住 说话",common_voicebtn_release_text:"松开 发送",common_voicebtn_cancel_text:"松开 取消",common_insert_photo_text:"上传图片",common_insert_emoji_text:"输入表情",common_manual_close_text:"结束会话",common_insert_file_text:"发送文件",common_feed_back_text:"满意度",common_screenshot_text:"截图",common_screenshot_tip_QQ:"推荐使用QQ/微信截图",common_screenshot_tip_mac:"Mac：快捷键Shift+Command+4截图",common_screenshot_tip_win:'Windows：使用自带"截图工具"',short_insert_photo_text:"照片",short_insert_file_text:"文件",common_insert_call_text:"音视频通话",common_insert_audo_text:"转人工",common_insert_businessCard_text:"发送名片",common_insert_businessCard_balloon_text:"一键发送名片",common_postarea_pc_placeholder:"请输入，按Enter直接发送消息，Ctrl+Enter换行",common_postarea_Macpc_placeholder:"请输入，按Enter直接发送消息，Command+Enter换行",common_postarea_mobile_placeholder:"请点击输入",common_chatting_text:"交谈中",common_leave_message_text:"留言了",common_chatting_with_text:"与$1交谈中",common_qq_chat_text:"去QQ交谈",common_start_qq_chat_text:"发起QQ会话",common_new_message_text:"你有【新消息】",common_add_qq_friend_text:"添加QQ联系人",common_confirm_text:"确定",common_cancel_text:"取消",common_tencent_certification:"",common_lang_en:"英语",common_lang_zh:"简体中文","common_lang_zh-TW":"繁体中文",common_tencent_translator:"腾讯翻译君实时翻译",common_tencent_translator_fail:"翻译失败-腾讯翻译君",common_tencent_translator_only:"仅支持中英互译-腾讯翻译君",common_allow_text:"允许",common_not_allow_text:"不允许",common_read_all:"阅读全文",common_typing:"正在输入...",common_view_all:"点击查看全部",common_audio_text:"音频通话",common_video_text:"视频通话",common_video_confirm:"我知道了",common_video_text_call:"前往通话",chat_max_post_limit_text:"发送消息过长，请分条发送。",chat_history_msg_get_text:"点击加载更多历史消息",chat_history_msg_get_error:"加载历史消息失败",chat_history_msg_loading_text:"正在加载历史消息",chat_offline_msg_loading_text:"正在加载新消息",chat_offline_msg_fail_text:"新消息加载失败，点击重试",chat_offline_msg_over_text:"以下为未读消息",chat_menu_msg_loading_text:"正在加载菜单导航",chat_menu_msg_fail_text:"菜单导航加载失败，点击重试",chat_menu_msg_history_expired_text:"历史数据已失效",chat_graphic_msg_readmore_text:"阅读原文",chat_graphic_msg_viewdmore_text:"查看更多",chat_feedback_title_text:"请为本次服务打分",chat_feedback_submit_text:"提交",chat_feedback_postarea_placeholder:"感谢您的评分，可留下其他意见或建议",chat_feedback_submitting_text:"正在提交评价",chat_feedback_success_msg:"提交成功",chat_feedback_fail_msg:"提交失败",chat_feedback_error_msg:"网络错误，请重试",chat_feedback_very_dissatisfied_text:"很不满意",chat_feedback_dissatisfied_text:"不满意",chat_feedback_neutral_text:"一般",chat_feedback_satisfied_text:"满意",chat_feedback_very_satisfied_text:"很满意",chat_add_friend_fetching_protocol_msg:"正在获取添加协议",chat_add_friend_copy_success_msg:"复制成功",chat_add_friend_fail_text:"失败",chat_add_friend_fail_get_number_fail_text:"获取号码数据失败",chat_add_friend_fail_no_text_selected_text:"没有选中文字，请手工复制",chat_add_friend_fail_browser_not_support_text:"浏览器不支持，请手工复制",chat_change_queue_immediately:"立即切换",chat_close_session_confirm:"结束会话后，重新咨询可能需要排队，确认结束会话吗？",chat_close_session_succ:"会话已结束，如需继续服务请直接发送消息",chat_incoming:"正在接入，请稍候",chat_incoming_success:"接入成功",chat_incoming_timeout:'接入失败，请<a class="btn-refresh" href="javascript:;" onclick="location.reload();">刷新页面</a>重试',chat_incoming_timeout_inframe:"接入失败，请刷新页面重试",sysmsg_load_corpinfo_msg:"正在加载企业信息",sysmsg_load_corpinfo_fail_msg:"企业信息拉取失败",sysmsg_load_staff_msg:"正在加载员工信息",sysmsg_load_staff_fail_msg:"员工信息拉取失败",exit_queque_btn:"退出排队",exit_queue_confirm:"确认退出当前队伍么？",exit_queue_success:"你已退出排队",exit_queue_fail:"退出排队失败，请重试",notice_slider_header:"【公告】",notice_popup_header:"企业公告",notice_item_header:"【公告】",notice_item_header_gjh:"【通知】",ec_goods_text:"商品",ec_order_text:"订单",send_business_card_btn:"发送名片",xml_product_name:"商品名称",xml_product_exhibition_area:"商品展区",xml_product_category:"商品类别",xml_purchase_quantity:"采购数量",xml_purchase_unit:"采购单位",xml_buyer_name:"采购商名称",xml_buyer_location:"采购商所在地",xml_buyer_tag:"采购商属性标签",xml_source_product:"采购产品",xml_source_category:"产品分类",xml_source_detail:"采购意向详情",xml_buyer_company_name:"采购商公司名称",xml_buyer_company_country:"公司所在地",xml_exhibit_name:"展品名称",xml_exhibit_uom:"单位",xml_exhibit_price:"单价",xml_exhibit_currency:"币种",xml_exhibit_detail:"说明",xml_exhibit_jump_tip:"点击查看详细采购意向",sysmsg_msg_current_service_lang:"当前服务语言是",sysmsg_msg_change_service_lang:"服务语言已更换为",msg_unread:"未读",msg_beenread:"已读"}},"60ce":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return c}));var n=31,i=32,s={ACTION_REPLY:1,ACTION_APPLET:2,ACTION_VISITOR:3,ACTION_WEB:4,ACTIVE_FEEDBACK:n,CLOSE_SESSION:i},o={REPLY_TXT:1,REPLY_IMG:2,REPLY_IMGTXT:3,REPLY_APPLETPLUGIN:10},c={IMGTXT:1,WEB:2,KNOWLEDGE:6,HUMAN:7,ACTIVE_FEEDBACK:n,CLOSE_SESSION:i}},"61de":function(t,e,a){"use strict";a("11ca")},6219:function(t,e,a){},"63c0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-image",class:{"fake-image":!t.isRealImage},style:t.styleWH},[e("img",{ref:"imgEle",staticClass:"pic",attrs:{src:t.formatPath,crossorigin:"anonymous"},on:{load:t.onLoad,click:t.viewImage}})])},i=[],s=a("c7eb"),o=a("1da1"),c=(a("99af"),a("d3b7"),a("159b"),a("14d9"),a("5ac5")),r=a("7b05"),l=a("bc3a"),d=a.n(l),u=a("9de0"),f={inject:["messageList","IMSDKType"],props:{data:Object},data:function(){return{formatPath:"",viewPath:"",isRealImage:!1,copyBlob:null,imageExt:".png"}},computed:{formatTime:function(){var t=new Date(this.data.time);return t.toLocaleDateString()+t.toLocaleTimeString()},styleWH:function(){var t=200,e=this.data,a=e.imageWidth,n=e.imageHeight;if(!a||!n)return"";if(a<t&&n<t)return"width:".concat(a,"px; height:").concat(n,"px");var i=a/n,s="",o="";return a>n?(s=t,o=t/i):(o=t,s=t*i),"width:".concat(s,"px; height:").concat(o,"px")}},watch:{"data.tempPath":{handler:function(t){var e=this;return Object(o["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,e.getNetworkImg(t);case 4:e.viewPath=a.sent;case 5:case"end":return a.stop()}}),a)})))()},deep:!0,immediate:!0},viewPath:function(t){t&&this.$set(this.data,"viewPath",t)}},mounted:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("blob"!==t.data.uuid&&0!==t.data.path.indexOf("http")){e.next=4;break}return t.formatPath=t.data.path,0===t.formatPath.indexOf("http")&&(t.viewPath=t.formatPath),e.abrupt("return");case 4:return e.next=6,t.getNetworkImg(t.data.path);case 6:t.formatPath=e.sent,t.formatPath&&(t.viewPath=t.formatPath,d.a.get("".concat(t.formatPath,"&imageInfo")).then((function(e){var a=e.data;t.imageExt=".".concat(a.format)})).catch((function(t){console.log("axios",t)})));case 8:case"end":return e.stop()}}),e)})))()},methods:{getNetworkImg:function(t){var e=this;return Object(o["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,u["c"].getDownloadUrl({path:t,size:e.data.imageSize,name:e.data.imageName},u["b"].OBJTYPES.OBJ_IMAGE);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},viewImage:function(){var t=this;if(this.viewPath){var e=[];this.messageList.forEach((function(a){a.type===t.IMSDKType.MSG_IMAGE&&a.viewPath&&e.push(a.viewPath)}));var a={current:this.viewPath,array:e};console.log(a);var n=a.array.indexOf(a.current);this.$PictureViewer.show({showPhotoPreView:!0,photoPreviewIndex:n,photoUrls:a.array,closeOnClickMask:!1})}},onLoad:function(){this.isRealImage=!0,(c["a"].LAST_SHOW_IMG_TIME&&Date.now()-c["a"].LAST_SHOW_IMG_TIME<300||Object(r["a"])()<r["b"])&&(c["a"].scrollToBottom(!0,500),c["a"].LAST_SHOW_IMG_TIME=Date.now())}},beforeDestroy:function(){this.copyBlob&&(this.copyBlob=null)}},m=f,h=(a("adcd"),a("2877")),g=Object(h["a"])(m,n,i,!1,null,"d4b0e060",null);e["default"]=g.exports},"641c":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return t.qrUrl?e("div",[t.isMobile?t._e():e("div",{staticClass:"icon-guidance-wechat",on:{mouseenter:function(e){return t.showQRCode(e,!0)},mouseleave:function(e){return t.showQRCode(e,!1)}}},[e("img",{attrs:{src:a("72be")}})]),e("div",{ref:"qrcodePopPC",staticClass:"guidance-wechat",class:t.isShow?"guidance-wechat-show animate__animated animate__fadeIn":"",style:t.pos},[e("img",{staticClass:"qrcode",attrs:{src:t.qrUrl}}),e("div",{staticClass:"comment"},[t._v(t._s(t.comment))]),e("div",{staticClass:"outer"}),e("div",{staticClass:"inner"})]),t.isMobile?e("div",{staticClass:"icon-guidance-wechat",on:{click:function(e){return e.stopPropagation(),t.showQRCodeH5(!0)}}},[e("img",{attrs:{src:a("72be")}})]):t._e(),e("div",{ref:"qrcodePopH5",staticClass:"guidance-wechat-h5",class:t.isShowH5?"guidance-wechat-h5-show animate__animated animate__fadeIn":"",on:{click:function(e){return t.showQRCodeH5(!1)}}},[e("div",{staticClass:"content",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"title"},[t._v(t._s(t.comment))]),e("img",{staticClass:"qrcode",attrs:{src:t.qrUrl}}),e("div",{staticClass:"cmd"},[t._v("长按二维码保存图片")]),e("div",{staticClass:"tip"},[t._v("获取更多企业资料和个性化服务")])])])]):t._e()},i=[],s=(a("99af"),{props:{guidanceData:{type:Object}},data:function(){return{isShow:!1,pos:"",isShowH5:!1}},computed:{qrUrl:function(){var t;return(null===(t=this.guidanceData)||void 0===t?void 0:t.qrUrl)||""},isMobile:function(){return!this.$platform.pc},comment:function(){var t,e=null===(t=this.guidanceData)||void 0===t?void 0:t.type,a="";switch(e){case"企业公众号":a="关注公众号";break;case"企业小程序":a="打开小程序";break;case"企业群":a="加入企业群";break;default:}return a="扫码".concat(a),this.isMobile&&(a="企业群"===e?"QQ扫描二维码，".concat(a):"微信扫描二维码，".concat(a)),a}},methods:{showQRCode:function(t,e){this.isShow=e;var a=this.$refs.qrcodePopPC;document.body.append(a);var n=96,i=12,s=10;if(e){var o=this.getPos(this.$el),c=o.x,r=o.y;this.pos="\n          left: ".concat(c-n/2,"px;\n          top: ").concat(r-n-i-s,"px;\n        ")}},showQRCodeH5:function(t){if(this.isMobile){this.isShowH5=t;var e=this.$refs.qrcodePopH5;document.body.append(e)}},getPos:function(t){var e=t.getBoundingClientRect();return{x:e.left+window.pageXOffset+e.width/2,y:e.top+window.pageYOffset}}}}),o=s,c=(a("9c34"),a("2877")),r=Object(c["a"])(o,n,i,!1,null,"4be5dd34",null);e["a"]=r.exports},6467:function(t,e,a){var n={"./BasicType.vue":"fe1b","./BtnType.vue":"9102","./CombinedType.vue":"79a0","./LittleCardType.vue":"bcaa","./MultiBasicType.vue":"9014","./MultiThemeType.vue":"9c76","./SimpleTextType.vue":"9f4f"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="6467"},6507:function(t,e,a){t.exports=a.p+"img/loading.04365d1f.svg"},6874:function(t,e,a){},"6c52":function(t,e){t.exports="data:image/gif;base64,R0lGODlhYABgAIABAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzAyODBCNzE0MERDMTFFQkFCNDI5MTYzREVERkZDRDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzAyODBCNzI0MERDMTFFQkFCNDI5MTYzREVERkZDRDMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCN0JEMUZDMjQwREExMUVCQUI0MjkxNjNERURGRkNEMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDMDI4MEI3MDQwREMxMUVCQUI0MjkxNjNERURGRkNEMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUvAAEALAAAAABgAGAAAAKjjI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8YhMKpfMpvMJjUqn1Ko1AwBcHdnsltH1fhHh7vhQNo/T4TVbbX2Xr/J5tW6f4vPRPf/p99cU2NZHqCV1SEV45xe3t4X3VXf2dhbAdmkgOAmniYn4KTpKWmp6ipqqusra6voKGys7S1tre4ubq7vL2+v7CwxRAAAh+QQFAwABACwnABQAEgA4AAACaYyPAckJ39qbEc1b1cVy7+5xR+g5JGWdkKmyJ6MubgiScHu/ub2XvT8Dpng/UdA4pNWESeZIV0RFV1NZNYK7Lj9b7hH5JH6lTacGOqaWvWnrmh1GG2LuuHhOr6rxcjt4ncG3V0EWqMBQAAAh+QQFLwABACwAAAAAAQABAAACAkwBACH5BAUyAAEALBIABQAYAFYAAAKijI9poO0B4pswSqqsxkh7XnkbJopUaT7oN63W6V5OLM8x7JI5vuo9j/IFgSkiq7UzjpQ1VRL5YzI4T2cUWgJVrVlhV6q9YotgqphLHh/L3rV6yY6/X+ZhGz5vot17fJ9+Byg1FahnYyf3J5hHmHiIqGjYsPX4xdh4WQcZiVlpyam5OUmZcVO4OGp6Kdmhysl6QNNZStp65on6BmILC7U7qVAAADs="},"6c5c":function(t,e,a){t.exports=a.p+"img/goods.6c36f0e3.svg"},"6cd4":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return i}));var n="data-xmleventtype",i="data-xmleventfun"},"6d51":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-unknown"},[t._v("[未知类型消息]")])},i=[],s=(a("c5c9"),a("2877")),o={},c=Object(s["a"])(o,n,i,!1,null,"51a1101c",null);e["default"]=c.exports},"6dfd":function(t,e,a){},"70ac":function(t,e,a){"use strict";a("398b")},7185:function(t,e,a){},"71e9":function(t,e,a){"use strict";a("d2d6")},"71f1":function(t,e,a){"use strict";a("b580")},"72be":function(t,e,a){t.exports=a.p+"img/qrcode.15879d20.svg"},7370:function(t,e,a){"use strict";a("fb7f")},"73cc":function(t,e,a){},"74c0":function(t,e,a){"use strict";a("ca59")},7511:function(t,e,a){},7593:function(t,e,a){"use strict";a("e1d8")},"75e4":function(t,e,a){"use strict";var n=a("2b0e"),i=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"img-viewr-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showImg,expression:"showImg"}],ref:"imgView",staticClass:"img-viewr__wrapper theme-QDS-dark",style:"z-index: ".concat(t.zIndex)},[e("div",{staticClass:"img-viewr__mask",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleMaskClick.apply(null,arguments)}}}),t.isSingle?t._e():[e("span",{staticClass:"img-viewr__btn img-viewr__prev",class:{"is-disabled":!t.infinite&&t.isFirst},on:{click:t.prev}}),e("span",{staticClass:"img-viewr__btn img-viewr__next",class:{"is-disabled":!t.infinite&&t.isLast},on:{click:t.next}})],e("footer",{staticClass:"img-viewr__footer"},[e("div",{staticClass:"img-viewr__actions"},[e("div",{staticClass:"img-viewr__btn zoomOut img-viewr__actions__inner",on:{click:function(e){return t.handleActions("zoomOut")}}}),e("div",{staticClass:"img-viewr__btn zoomIn img-viewr__actions__inner",on:{click:function(e){return t.handleActions("zoomIn")}}}),e("div",{staticClass:"img-viewr__actions__splitor"}),e("div",{staticClass:"img-viewr__btn rotate_left img-viewr__btn__left img-viewr__actions__inner",on:{click:function(e){return t.handleActions("rotateL")}}}),e("div",{staticClass:"img-viewr__btn rotate_right img-viewr__actions__inner",on:{click:function(e){return t.handleActions("rotateR")}}}),e("div",{staticClass:"img-viewr__actions__splitor"}),e("div",{staticClass:"img-viewr__indicator"},[t._v(" "+t._s(t.index+1)+"/"+t._s(t.urls.length)+" ")])]),e("span",{staticClass:"img-viewr__btn img-viewr__close",on:{click:t.hide}},[t._v(" 退出预览 ")])]),e("div",{staticClass:"img-viewr__canvas"},[e("img",{ref:"imageRef",style:t.imgStyle,attrs:{src:t.currentImg},on:{load:t.handleImgLoaded,error:t.handleImgError}})])],2)])},s=[],o=a("5530");a("a9e3"),a("99af"),a("b680");function c(t){var e=!1;return function(){for(var a=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];e||(e=!0,window.requestAnimationFrame((function(){t.apply(a,i),e=!1})))}}var r=function(){return document.addEventListener?function(t,e,a){t&&e&&a&&t.addEventListener(e,a,!1)}:function(t,e,a){t&&e&&a&&t.attachEvent("on".concat(e),a)}}(),l=function(){return document.removeEventListener?function(t,e,a){t&&e&&t.removeEventListener(e,a,!1)}:function(t,e,a){t&&e&&t.detachEvent("on".concat(e),a)}}(),d={name:"PictureViewer",props:{value:{type:Boolean,default:!1},urls:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:3e3},initialIndex:{type:Number,default:0},initialWidth:{type:String,default:""},initialHeight:{type:String,default:""},closeOnClickMask:{type:Boolean,default:!0},infinite:{type:Boolean,default:!1}},data:function(){return{index:this.initialIndex,loading:!1,showImg:!1,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1},isMobile:!this.$platform.pc,dragHandler:null,containerDom:null,image:null,initialScale:1,currentScale:1,startX:0,startY:0,isDragging:!1,translateX:0,translateY:0}},computed:{isSingle:function(){return this.urls.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urls.length-1},currentImg:function(){var t=this.urls[this.index];return t||this.urls[0]},imgStyle:function(){var t=this.transform,e=t.scale,a=t.deg,n=t.offsetX,i=t.offsetY,s=t.enableTransition,o={transform:"scale(".concat(e,") rotate(").concat(a,"deg)"),transition:s?"all -0.25s cubic-bezier(0.36, 0.01, 0.1, 1);":"","margin-left":n<0?"".concat(n,"px"):"0px","margin-right":n>0?"".concat(-n,"px"):"0px","margin-top":"".concat(i,"px"),maxHeight:"100%",maxWidth:"100%",width:this.initialWidth||void 0,height:this.initialHeight||void 0};return o}},watch:{value:{handler:function(t){this.showImg=t},immediate:!0},initialIndex:function(t){t!==this.index&&(this.index=t)},index:function(t){this.reset(),this.$emit("switch",t)},currentImg:function(){var t=this;this.$nextTick((function(){var e=t.$refs.imageRef;e&&e.complete||(t.loading=!0)}))}},mounted:function(){var t=this;this.$el.addEventListener("touchmove",(function(t){1!==t.scale&&t.preventDefault()}),{passive:!1}),this.containerDom=this.$refs.imgView,this.image=this.$refs.imageRef,this.isMobile?(r(this.containerDom,"touchstart",this.handleTouchStart),r(this.containerDom,"touchmove",this.handleTouchMove),r(this.containerDom,"touchend",this.handleTouchEnd)):(r(this.image,"mousedown",this.handleMouseDown),r(this.containerDom,"mousewheel",this.zoomWithMouseWheel),r(this.containerDom,"DOMMouseScroll",this.zoomWithMouseWheel)),this.$nextTick((function(){document.addEventListener("keyup",t.hide)}))},beforeDestroy:function(){this.isMobile?(l(this.containerDom,"touchstart",this.handleTouchStart),l(this.containerDom,"touchmove",this.handleTouchMove),l(this.containerDom,"touchend",this.handleTouchEnd)):(l(this.image,"mousedown",this.handleMouseDown),l(this.containerDom,"mousewheel",this.zoomWithMouseWheel),l(this.containerDom,"DOMMouseScroll",this.zoomWithMouseWheel)),document.removeEventListener("keyup",this.hide),this.$el.removeEventListener("touchmove",(function(t){1!==t.scale&&t.preventDefault()}),{passive:!1})},methods:{zoomWithMouseWheel:function(t){var e="",a=t||window.event;a.cancelable&&(a.defaultPrevented||a.preventDefault()),a.wheelDelta?e=a.wheelDelta>0?"zoomIn":"zoomOut":a.detail&&(e=a.detail>0?"zoomIn":"zoomOut"),this.handleActions(e)},handleMaskClick:function(){this.closeOnClickMask&&this.hide()},hide:function(){this.showImg=!1,this.$emit("input",!1),this.$emit("close")},handleImgLoaded:function(){this.loading=!1},handleImgError:function(){this.loading=!1,this.$refs.imageRef&&(this.$refs.imageRef.alt="加载失败")},reset:function(){this.transform.scale=1,this.transform.deg=0,this.transform.offsetX=0,this.transform.offsetY=0,this.transform.enableTransition=!1},prev:function(){if(!this.isFirst||this.infinite){var t=this.urls.length;this.index=(this.index-1+t)%t}},next:function(){if(!this.isLast||this.infinite){var t=this.urls.length;this.index=(this.index+1)%t}},handleActions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var a=Object(o["a"])({zoomRate:.2,enableTransition:!0},e),n=a.zoomRate,i=a.enableTransition;switch(t){case"zoomOut":this.transform.scale>.2&&(this.transform.scale=parseFloat((this.transform.scale-n).toFixed(3)));break;case"zoomIn":this.transform.scale=parseFloat((this.transform.scale+n).toFixed(3));break;case"rotateL":this.transform.deg=this.transform.deg-90;break;case"rotateR":this.transform.deg=this.transform.deg+90;break}this.transform.enableTransition=i}},handleMouseDown:function(t){var e=this;if(t.preventDefault(),!this.loading&&0===t.button){var a=this.transform,n=a.offsetX,i=a.offsetY,s=t.pageX,o=t.pageY;this.dragHandler=c((function(t){e.transform.offsetX=n+t.pageX-s,e.transform.offsetY=i+t.pageY-o})),document.addEventListener("mousemove",this.dragHandler),document.addEventListener("mouseup",this.handleMouseUp)}},handleMouseUp:function(){this.dragHandler&&document.removeEventListener("mousemove",this.dragHandler)},handleTouchStart:function(t){var e=t.touches;e&&2===e.length?(this.startX=Math.abs(e[0].clientX-e[1].clientX),this.startY=Math.abs(e[0].clientY-e[1].clientY),this.initialScale=this.currentScale):e&&1===e.length&&(this.startX=e[0].clientX,this.startY=e[0].clientY,this.isDragging=!0)},handleTouchMove:function(t){t.preventDefault();var e=t.touches;if(e&&2===e.length){var a=Math.abs(e[0].clientX-e[1].clientX),n=Math.abs(e[0].clientY-e[1].clientY),i=Math.sqrt(Math.pow(a,2)+Math.pow(n,2));this.currentScale=this.initialScale*(i/Math.sqrt(Math.pow(this.startX,2)+Math.pow(this.startY,2))),this.image.style.transform="scale(".concat(this.currentScale,")"),this.transform.scale=this.currentScale}else if(e&&1===e.length&&this.isDragging){var s=e[0].clientX-this.startX,o=e[0].clientY-this.startY;this.translateX+=s,this.translateY+=o,this.transform.offsetX=this.translateX,this.transform.offsetY=this.translateY,this.startX=e[0].clientX,this.startY=e[0].clientY}},handleTouchEnd:function(){this.initialScale=this.currentScale,this.isDragging=!1}}},u=d,f=(a("74c0"),a("2877")),m=Object(f["a"])(u,i,s,!1,null,"276ff75a",null),h=m.exports,g=n["a"].extend(h),p={show:function(t){var e=(new g).$mount();e.urls=t.photoUrls,e.initialIndex=t.photoPreviewIndex,e.value=t.showPhotoPreView,e.closeOnClickMask=t.closeOnClickMask,e.zIndex=t.zIndex,e.initialHeight=t.initialHeight,e.initialWidth=t.initialWidth,e.infinite=t.infinite,document.body.appendChild(e.$el)}};e["a"]={install:function(){n["a"].prototype.$PictureViewer||(n["a"].prototype.$PictureViewer=p)}}},"767c":function(t,e,a){"use strict";a("2932")},7722:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:t.handleMessageLongTouch,expression:"handleMessageLongTouch",arg:"touchhold"}],staticClass:"msg-ptt",class:t.isMobile?"":"msg-ptt-pc"},[e("div",{staticClass:"ptt",class:t.data.mine?"ptt-mine":"",style:{width:t.amrWidth+"px"},on:{click:t.play}},[t.data.mine?e("span",[e("span",[t._v(t._s(t.data.length)+'"')]),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],attrs:{src:a("c03d")}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],attrs:{src:a("6c52")}})]):e("span",[e("img",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],attrs:{src:a("2809")}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],attrs:{src:a("86e7")}}),e("span",[t._v(t._s(t.data.length)+'"')])])]),t.notRead?e("span",{staticClass:"red-rot"}):t._e(),t.isMobile||t.translateLoading||t.amrText?t._e():e("span",{class:t.data.mine?"translate-text-mine":"translate-text",on:{click:t.convertPtt2Text}},[t._v("转文字")]),t.amrText||t.translateLoading?e("div",{staticClass:"ptt-text"},[t.translateLoading?e("img",{staticClass:"icon-loading anim-rotate",attrs:{src:a("6507")}}):t._e(),t.amrText?e("span",[t._v(t._s(t.amrText))]):t._e()]):t._e()])},i=[],s=a("c7eb"),o=a("1da1"),c=(a("d3b7"),a("3ca3"),a("ddb0"),a("7db0"),a("b64b"),a("9de0")),r=c["b"].create(),l={inject:["globalData"],props:{data:Object,playing:String},data:function(){return{formatPath:"",amr:null,amrText:"",amrTextFinish:!1,selectedText:"",isTransfer:!1,isPlaying:!1,imsdk:null,translateLoading:!1,notRead:!1,errorText:""}},watch:{globalData:{handler:function(t){t.playingVoice!==this.data.seq&&this.amr&&this.amr.isPlaying()&&this.amr.stop()},deep:!0}},computed:{amrWidth:function(){var t=Math.min(this.data.length/60,1);return 90+100*t},isMobile:function(){return!this.$platform.pc}},mounted:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var n,i;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.e("amr").then(a.t.bind(null,"ae4c",7)).then((function(e){t.amr=new e.default,t.amr.onEnded((function(){t.isPlaying=!1}))})),t.data.mine||(n=r.getMessageTags(t.data),i=n.find((function(t){return"ptt_read"===t.tag})),i&&"1"===i.value?t.notRead=!1:t.notRead=!0),"blob"!==t.data.uuid&&0!==t.data.path.indexOf("http")){e.next=5;break}return t.formatPath=t.data.path,e.abrupt("return");case 5:return e.next=7,c["c"].getDownloadUrl({path:t.data.path,size:t.data.fileSize,name:t.data.fileName},c["b"].OBJTYPES.OBJ_VOICE);case 7:t.formatPath=e.sent;case 8:case"end":return e.stop()}}),e)})))()},deactivated:function(){this.amr.isPlaying()&&this.amr.stop()},methods:{handleMessageLongTouch:function(){this.$emit("on-long-touch",this.$el)},addReadTag:function(){this.notRead=!1,r.setMessageTags(this.data,[{tag:"ptt_read",value:"1"}])},play:function(){var t=this;this.notRead&&this.addReadTag(),this.globalData.playingVoice=this.data.seq,this.amr.isInit()?(this.amr.playOrPauseOrResume(),this.amr.isPlaying()?this.isPlaying=!0:this.isPlaying=!1):(console.log(this.formatPath),this.amr.initWithUrl(this.formatPath).then((function(){t.amr.playOrPauseOrResume(),t.isPlaying=!0})))},convertPtt2Text:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a,n,i,o;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.notRead&&t.addReadTag(),!t.translateLoading){e.next=3;break}return e.abrupt("return");case 3:return t.translateLoading=!0,a=setTimeout((function(){t.translateLoading=!1,t.$Toast({text:"转文字失败",type:"error"}),a=null}),1e4),n="",e.prev=6,e.next=9,t.doASR(t.formatPath);case 9:if(i=e.sent,a){e.next=12;break}return e.abrupt("return");case 12:clearTimeout(a),a=null,t.translateLoading=!1,o=JSON.parse(i),n=o.data.sentenceResult,e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](6),t.$Toast({text:"转文字失败",type:"error"});case 22:n?(t.amrText=n,t.isTransfer=!0):t.$Toast({text:"转文字失败",type:"error"});case 23:case"end":return e.stop()}}),e,null,[[6,19]])})))()},doASR:function(t){var e=this;return Object(o["a"])(Object(s["a"])().mark((function a(){var n,i,o;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.imsdk||(e.imsdk=c["b"].create()),n={appId:1003,fileUrl:t,voiceFormat:"amr"},i=2,o=1536,a.abrupt("return",e.imsdk.sendCmdMessage(i,n,o));case 5:case"end":return a.stop()}}),a)})))()}}},d=l,u=(a("d1b9"),a("2877")),f=Object(u["a"])(d,n,i,!1,null,"e164ef92",null);e["default"]=f.exports},7919:function(t,e,a){"use strict";a("ebfa")},"794f":function(t,e,a){},7988:function(t,e,a){t.exports=a.p+"img/audio.289bda75.svg"},"79a0":function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{class:["combination",t.isMobile?"":"combination-pc"]},[e("div",{staticClass:"combination-content"},t._l(t.robotNav.components,(function(n,i){return e("div",{key:i},[2===n.navType?e("div",{key:i,staticClass:"combination-basis-style"},[e("div",{staticClass:"nav-content",style:t.globalData.runMode?"":"background-image: url("+n.img.url+")"},[e("div",{staticClass:"nav-title"},[t._v(t._s(t.robotNav.tit))]),e("div",{staticClass:"nav-list"},t._l(t.getPageData(n),(function(n,i){return e("div",{key:i,staticClass:"nav-item nav-link",on:{click:function(e){return t.onClick(n)}}},[e("div",{staticClass:"nav-item-text"},[t._v(" "+t._s(n.name||n.question||"")+" ")]),e("img",{staticClass:"icon-arrow-right",attrs:{src:a("c3d8")}})])})),0),n.showChange?e("div",{staticClass:"nav-change",on:{click:function(e){return t.onChange(n)}}},[t._m(0,!0)]):t._e()])]):t._e(),4===n.navType?e("div",{key:i,staticClass:"msg-b2c combination-small-cards"},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-box"},t._l(n.list,(function(a,n){return e("div",{key:n,staticClass:"nav-box-row"},[e("div",{staticClass:"nav-box-wrapper nav-link",on:{click:function(e){return t.onClick(a)}}},[e("div",{staticClass:"nav-image"},[e("img",{staticClass:"nav-image-pic",attrs:{src:a.icon.url,mode:"widthFix"}})]),e("div",{staticClass:"nav-text"},[t._v(t._s(a.name))])])])})),0)])]):t._e()])})),0)])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-change-box"},[e("img",{staticClass:"batch-head-icon icon-primay",attrs:{src:a("9fa0")}}),t._v(" 换一批 ")])}],s=a("b371"),o={mixins:[s["a"]],data:function(){return{pageCount:6,index:1,total:0}}},c=o,r=(a("84b3"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"4a3dce44",null);e["default"]=l.exports},"7a2d":function(t,e,a){"use strict";a("e9c4");var n=a("2cbe"),i=a("5c0b"),s=a("35f7"),o=a("e268"),c=a("97e5"),r=a("4886"),l=r["a"].getSDKDomain(),d=[n["a"].iniCancel,n["a"].errorTRTC,n["a"].unKnow];e["a"]={data:function(){return{roomid:""}},computed:{ispc:function(){return this.$platform.pc}},methods:{handleNotifyRtc:function(t){var e=parseInt(localStorage.getItem("videoActionTime")),a=t.msg_rtc_action_info.uint64_action_time;if(!(e&&e>=a)){localStorage.setItem("videoActionTime",a),Object(s["a"])({message:"音视频:收到sc消息,".concat(JSON.stringify(t))}),t.msg_rtc_action_info&&t.uint32_roomid&&t.msg_rtc_action_info.uint32_action_event===n["a"].iniCall&&Object(s["a"])({message:"音视频:收到邀请,".concat(t.uint32_roomid)});var i=t.msg_rtc_action_info.uint32_action_event;if(console.log("eventType=====".concat(i)),i===n["a"].iniCall||t.uint32_roomid===this.roomid)switch(this.mediaType=t.uint32_call_type,this.roomid=t.uint32_roomid,i){case n["a"].iniCall:this.iniCallAction(t);break;case n["a"].iniCancel:Object(s["a"])({message:"音视频:ring->idle:peerHangup"},!1);case n["a"].iniHangup:case n["a"].recRefuse:case n["a"].recAcceptFail:case n["a"].recHangup:case n["a"].thirdHangup:case n["a"].notSurport:case n["a"].errorTRTC:case n["a"].die:this.exitSdk({event:"peerHangup"}),this.statusReport(n["d"].idle),Object(s["a"])({message:"音视频:对方".concat(i,",导致挂断")});break}else Object(s["a"])({message:"音视频:上次房间消息:".concat(JSON.stringify(t))},!1)}},iniCallAction:function(t){var e=this;if(t.uint32_roomid){var a;if(Object(s["a"])({message:"音视频:被叫"}),this.ispc&&!this.surportTRTC)return void this.videoAct(n["a"].notSurport);null===(a=this.$refs.videoRing)||void 0===a||a.showDialling(t),i["h"].make((function(){Object(s["a"])({message:"音视频:ring->idle:timeout"},!1),e.videoAct(n["a"].recAcceptFail),e.exitSdk({event:"timeOuterror"})}),{id:"dialling_timeout_timer",delay:7e4})}else Object(s["a"])({message:"被呼叫参数错误"},!1)},videoAct:function(t){var e=this.wpaDetail,a=e.kfuin,n=e.visitorid,i={rtc_part_action_report_req:{uint64_kfuin:a,uint32_roomid:this.roomid,uint32_action_event:t,user_info:{user_account_info:{uint32_account_type:4,str_account_id:n}}}};Object(s["a"])({message:"音视频:事件上报,".concat(JSON.stringify(i))}),this.$ajax.post(l.api+c["p"],i).then((function(t){0===t.data.code||Object(s["a"])({message:"音视频:新版本挂断报错，".concat(t.data)})}))},TrtcErrorReport:function(t){Object(s["a"])({message:"音视频:trtcerror, ".concat(JSON.stringify({code:1,reason:t}))}),this.eventReport({eventType:n["a"].errorTRTC,bytes_extend_info:JSON.stringify({code:1,reason:t})})},statusReport:function(t){var e,a=this.wpaDetail,i=a.kfuin,o=a.visitorid,c={rtc_status_report_req:{uint64_kfuin:parseInt(i),account_info:{uint32_account_type:4,str_account_id:o,int64_fakeuin:0},uint32_clienttype:5,uint32_status:t,uint64_action_time:Math.floor(new Date),uint32_roomid:this.roomid}};Object(s["a"])({message:"音视频:状态上报,".concat(JSON.stringify(c))});var r=null===(e=this.$refs.aio)||void 0===e?void 0:e.sendCmdMessage(n["b"].CMD_INNER_RTC_STATUS_REPORT_REQ,c,n["c"]);r.then((function(t){Object(s["a"])({message:"音视频:状态上报返回,".concat(JSON.stringify(t))}),t&&t.msg_ret_info.uint32_ret_code&&Object(s["a"])({message:"音视频:状态上报失败,".concat(JSON.stringify(t))})}))},eventReport:function(t){var e,a=this,i=t.eventType,o=this.roomid,c=this.wpaDetail,r=c.kfuin,l=c.visitorid,u=!1,f={rtc_action_report_req:{uint64_kfuin:r,uint32_roomid:o,msg_rtc_action_info:{uint32_action_event:i,bytes_extend_info:t.bytes_extend_info,uint32_clienttype:5,uint64_action_time:Math.floor(new Date/1e3),action_user_info:{uint32_account_type:4,str_account_id:l,int64_fakeuin:0}}}};[n["a"].iniCancel,n["a"].recRefuse,n["a"].recHangup].indexOf(i)&&(u=!0,Object(s["a"])({message:"音视频:挂断"})),Object(s["a"])({message:"音视频:事件上报,".concat(JSON.stringify(f))});var m=null===(e=this.$refs.aio)||void 0===e?void 0:e.sendCmdMessage(n["b"].CMD_INNER_RTC_ACTION_REPORT_REQ,f,n["c"]);m.then((function(e){if(Object(s["a"])({message:"音视频:事件上报返回,".concat(JSON.stringify(e))}),e&&e.msg_ret_info.uint32_ret_code){var n=e.msg_ret_info.uint32_ret_code;10003===n&&a.eventAckHandler(n),-1===d.indexOf(t.eventType)&&a.$message.error(e.msg_ret_info.str_error_msg),Object(s["a"])({message:"音视频:事件上报失败,".concat(JSON.stringify(e))})}else u&&Object(s["a"])({message:"音视频:挂断成功"})}))},eventAckHandler:function(t){switch(t){case 10004:Object(s["a"])({message:"10004:对方忙"},!1);break;case 10029:Object(s["a"])({message:"10029:未知错误"},!1);break;case 10003:Object(s["a"])({message:"10003:自己忙(上次异常退出)，上报idle后重试"}),this.statusReport(n["d"].idle);break;default:Object(s["a"])({message:"unknow error code: ".concat(t)},!1)}},exitSdk:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.event,n=void 0===a?"unknown":a,i="";switch(n){case"hangup":i="已拒绝";break;case"recAcceptFail":i="".concat("c2b"===this.dir?"对方":"","未接听");break;case"peerHangup":i="对方已取消";break;case"TRTCError":i="设备不支持";break;default:i=""}i?Object(s["a"])({message:"音视频:结束,原因".concat(n)}):Object(s["a"])({message:"音视频:结束失败,原因".concat(n)}),this.otherWindow&&(this.otherWindow.close(),this.otherWindow=null),null===(t=this.$refs.videoRing)||void 0===t||t.stopRing(),o["a"].stop()}}}},"7aa1":function(t,e,a){},"7ac4":function(t,e){t.exports="data:image/png;base64,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"},"7aff":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"file-uploader"},[e("input",{ref:"fileInput",attrs:{type:"file",name:"file",multiple:"",accept:t.accept},on:{change:t.onHandleFiles}})])},i=[],s=a("c7eb"),o=a("1da1"),c=(a("d3b7"),a("159b"),a("a630"),a("3ca3"),a("9de0")),r=5,l={props:{accept:{default:""}},data:function(){return{}},computed:{},methods:{click:function(){this.$refs.fileInput.click()},onHandleFiles:function(t){var e=this,a=t.target.files;a.length>r?this.$emit("upload",{code:-1,id:"",message:"一次最多支持选择".concat(r,"个文件")}):(Array.from(a).forEach(function(){var t=Object(o["a"])(Object(s["a"])().mark((function t(a){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.uploadFile(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.target.value="")},uploadFile:function(t){var e=arguments,a=this;return Object(o["a"])(Object(s["a"])().mark((function n(){var i,o;return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>1&&void 0!==e[1]?e[1]:null,console.log("[uploadFile]",t,i),n.next=4,c["c"].uploadFile(t,i,{onPreview:function(t){a.$emit("preview",t)},onProgress:function(t,e,n){a.$emit("progress",t,e,n)},maxSize:104857600,acceptType:["audio","video","image","text/plain","text/html","application/pdf","application/msword","application/x-zip-compressed","application/zip","application/x-tar","rar","application/x-rar","7z","application/x-7z-compressed","xls","application/vnd.ms-excel","apk","application/vnd.android.package-archive","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","cpt","frm","fvs"]});case 4:o=n.sent,a.$emit("upload",o);case 6:case"end":return n.stop()}}),n)})))()}}},d=l,u=(a("ea0d"),a("2877")),f=Object(u["a"])(d,n,i,!1,null,"0e5a3954",null);e["a"]=f.exports},"7b05":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return i}));var n=function(){var t=document.querySelector(".page-scroll-container");return t?t.scrollHeight-t.scrollTop-t.clientHeight:0},i=300},"7bbf":function(t,e,a){"use strict";a("3714")},"7dc1":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return t.show?e("div",{ref:"popup",staticClass:"bottom-popup animate-quick animate__animated",class:t.isOpening?"animate__fadeIn":"animate__fadeOut"},[e("div",{staticClass:"bottom-popup-inner animate-quick animate__animated",class:t.isOpening?"animate__slideInUp animate__fadeIn":"animate__slideOutDown animate__fadeOut"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.showClose,expression:"showClose"}],staticClass:"bottom-popup-close",on:{click:t.close}}),e("div",{staticClass:"bottom-popup-tit"},[t._v(t._s(t.title))]),e("div",{class:["bottom-popup-container",t.isShowScroll?"overflow-scroll":""]},[t._t("default")],2)])]):t._e()},i=[],s={props:{title:{default:""},show:{default:!1},showClose:{default:!0},autoAppend:{default:!0},isShowScroll:{default:!0}},data:function(){return{isOpening:!1}},watch:{show:{handler:function(t){this.isOpening=t},immediate:!0}},mounted:function(){var t=this;this.$nextTick((function(){if(t.autoAppend){var e=document.querySelector(".html-is-pc .im-msg-container");e?e.appendChild(t.$el):document.body.appendChild(t.$el)}}))},methods:{close:function(){var t=this;this.isOpening=!1,setTimeout((function(){t.$emit("update:show",!1)}),300)}}},o=s,c=(a("cb6e"),a("1b7f"),a("2877")),r=Object(c["a"])(o,n,i,!1,null,"37ebc79e",null);e["a"]=r.exports},"7ea6":function(t,e,a){t.exports=a.p+"img/default-avatar.0ba32129.png"},8033:function(t,e,a){"use strict";a("601a")},"803a":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return t.enabled?e("div",{staticClass:"mock-pad"},[e("div",{staticClass:"tit animate__animated animate__headShake animate__infinite"},[t._v("mock message")]),e("ul",[e("li",{on:{click:function(e){return t.makeEvent(t.EVENT.TYPING,{typing:!0})}}},[t._v("EVENT-手动输入中")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_TEXT)}}},[t._v("B2C-文本消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_IMAGE)}}},[t._v("B2C-图片消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_FILE)}}},[t._v("B2C-文件消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_VOICE)}}},[t._v("B2C-语音消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_IMAGE_TEXT)}}},[t._v("B2C-图文消息")]),e("li",{on:{click:function(e){return t.sendMsg("leave_form_msg")}}},[t._v("B2C-留言消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_QDXML)}}},[t._v("B2C-XML消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_FEED_BACK)}}},[t._v("满意度-类型1")]),e("li",{on:{click:t.changeKF}},[t._v("B2C-切换客服")]),e("li",{on:{click:t.navMenu}},[t._v("自助导航-XML")]),e("li",{on:{click:function(e){return t.sendRobotMsg("htmlmsg")}}},[t._v("机器人消息-htmlmsg")]),e("li",{on:{click:function(e){return t.sendRobotMsg("freemsg")}}},[t._v("机器人消息-freemsg")]),e("li",{on:{click:function(e){return t.sendRobotMsg("batchmsg")}}},[t._v("机器人消息-batchmsg")]),e("li",{on:{click:function(e){return t.sendRobotMsg("robotform")}}},[t._v("机器人消息-form")]),e("li",{on:{click:function(e){return t.sendRobotMsg("qlist")}}},[t._v("机器人消息-qlist-招商信诺")]),e("li",{on:{click:function(e){return t.sendRobotMsg("tablemsg")}}},[t._v("机器人消息-table")]),e("li",{on:{click:function(e){return t.sendRobotMsg("drawer_group")}}},[t._v("机器人消息-抽屉聚合")]),e("li",{on:{click:function(e){return t.sendRobotMsg("drawer_nogroup")}}},[t._v("机器人消息-抽屉不聚合")]),e("li",{on:{click:function(e){return t.sendRobotMsg("bubble_group")}}},[t._v("机器人消息-气泡聚合")]),e("li",{on:{click:function(e){return t.sendRobotMsg("bubble_nogroup")}}},[t._v("机器人消息-气泡不聚合")]),e("li",{on:{click:function(e){return t.sendRobotMsg("card")}}},[t._v("机器人消息-横滑卡片")]),e("li",{on:{click:function(e){return t.sendRobotMsg("node")}}},[t._v("机器人消息-物流节点")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_ROBOT_NAV)}}},[t._v("机器人导航消息")]),e("li",{on:{click:function(e){return t.uploadLongText()}}},[t._v("上传长文本")]),e("li",{on:{click:function(e){return t.downloadLongText()}}},[t._v("下载长文本")]),e("li",{on:{click:function(e){return t.sendQDXML()}}},[t._v("发送企点结构化XML消息")]),e("li",{on:{click:function(e){return t.sendRobotMsg("slide")}}},[t._v("机器人导航-横滑卡片")]),e("li",{on:{click:function(e){return t.sendCouponXml()}}},[t._v("发送电商优惠券消息")]),e("li",{on:{click:function(e){return t.sendGraphicNotice()}}},[t._v("发送电商图文消息")]),e("li",{on:{click:function(e){return t.sendGoodsActive()}}},[t._v("发送电商多宫格消息")]),e("li",{on:{click:function(e){return t.sendBubble()}}},[t._v("发送电商气泡消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_THIRD_MSG)}}},[t._v("b2c-第三方消息-满意度")]),e("li",{on:{click:function(e){return t.sendChangeLang()}}},[t._v("切换语言")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_TEXT,null,{msg_control_info:{int32_read_status:1}})}}},[t._v("b2c-文本消息-已读回执")])])]):t._e()},i=[],s=a("5530"),o=a("c7eb"),c=a("1da1"),r=a("ade3"),l=(a("d3b7"),a("25f0"),a("d90f")),d={style:2,fbKey:"301260a193ce53b8be5b53e2edaae6cb34a0b074e005357b96574ada2398ea8c5ccbadb73823d777c4c6ece1991980cc21ff0381c3c026ec",reply:{1:"感谢你的评价，祝你生活愉快！",2:"感谢你的评价，祝你生活愉快！",3:"感谢你的评价，祝你生活愉快！",4:"感谢你的评价，祝你生活愉快！",5:"感谢你的评价，祝你生活愉快！"},level:"5",seq:1189301893,extUin:2852400385,openTag:1,extendData:{styleType:1},tags:[[{id:"452",name:"非常满意度2"},{id:"507",name:"学习学习"},{id:"458",name:"非常满意度8"},{id:"457",name:"非常满意度7"},{id:"456",name:"非常满意度6"},{id:"455",name:"非常满意度5"},{id:"454",name:"非常满意度4"},{id:"453",name:"非常满意度3"}],[{id:"470",name:"满意10"},{id:"469",name:"满意9"},{id:"468",name:"满意8"},{id:"467",name:"满意7"},{id:"466",name:"满意6"},{id:"465",name:"满意5"},{id:"464",name:"满意4"},{id:"463",name:"满意3"},{id:"462",name:"满意2"},{id:"461",name:"满意1"}],[{id:"480",name:"一般10"},{id:"479",name:"一般9"},{id:"478",name:"一般8"},{id:"477",name:"一般7"},{id:"476",name:"一般6"},{id:"475",name:"一般51"},{id:"471",name:"一般1"},{id:"472",name:"一般2"},{id:"473",name:"一般3"},{id:"474",name:"一般4"}],[{id:"490",name:"不满意10"},{id:"488",name:"不满意8"},{id:"487",name:"不满意7"},{id:"486",name:"不满意6"},{id:"485",name:"不满意5"},{id:"489",name:"不满意9"},{id:"481",name:"不满意1"},{id:"482",name:"不满意2"},{id:"483",name:"不满意3"},{id:"484",name:"不满意4"}],[{id:"500",name:"非常不满意9"},{id:"499",name:"非常不满意7"},{id:"498",name:"非常不满意8"},{id:"501",name:"非常不满意10"},{id:"497",name:"非常不满意6"},{id:"495",name:"非常不满意4"},{id:"494",name:"非常不满意3"},{id:"493",name:"非常不满意2"},{id:"491",name:"非常不满意"},{id:"496",name:"非常不满意5"}]],openSolve:1},u=d,f=a("9de0"),m=(a("4ec9"),a("3ca3"),a("ddb0"),a("e9c4"),new Map([[0,{content:{menu:{list:[{name:"AAAA",action:6,meta:{stdqa_id:"7983",type:"1"},id:1},{name:"BBB",action:6,meta:{stdqa_id:"7982",type:"1"},id:2},{action:6,meta:{stdqa_id:"7982",type:"1"},name:"CCC",id:3},{action:6,meta:{stdqa_id:"7978",type:"1"},name:"DDD",id:4}],navType:0,tit:"请选择您想咨询的内容"}}}],[1,{content:{menu:{list:[{id:0,action:5,name:"国内差旅费的费用开支标准"},{id:1,action:5,name:"校园网络上网费如何缴费"},{id:2,action:5,name:"账号密码忘记了怎么办"},{id:3,action:5,name:"注册开发者账号相关问题"}],more_questions:0,navType:1,source:1,tit:"请选择您想咨询的内容",length:3,size:3829},id:825,name:"高校微信导航"}}],[2,{content:{menu:{img:{index:1,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-c1ae523eae148d56442513bd77f5cbe8.png"},list:[{name:"国内差旅费的费用开支标准",meta:{stdqa_id:"8069",type:"1"},action:6,id:1},{name:"校园网络上网费如何缴费",action:6,meta:{stdqa_id:"8051",type:"1"},id:2},{name:"账号密码忘记了怎么办",action:6,meta:{stdqa_id:"53",type:"2"},id:3},{action:6,meta:{stdqa_id:"5",type:"3"},name:"注册开发者账号相关问题",id:4},{action:7,id:5,meta:{reception_id:3007921066,reception_type:0,name:"曹晓华(xiaohuacao)"},name:"转人工客服"}],more_questions:0,navType:2,source:1,tit:"常见问题"}}}],[3,{content:{menu:{navType:3,subs:[{list:[{id:"b3q9c9ugun",action:6,meta:{stdqa_id:"7272",type:"1"},placeholder:"菜单1",name:"商品尺码推荐"},{id:"pkr18tk2x9",action:6,meta:{stdqa_id:"7271",type:"1"},placeholder:"菜单2",name:"店铺热门活动"},{id:"qaokan76jj",action:6,meta:{stdqa_id:"7273",type:"1"},placeholder:"菜单3",name:"订单发货时间"}],more_questions:0,source:1,tit:"热门问题"},{list:[{id:"jsuj1deq0a",action:6,meta:{stdqa_id:"7260",type:"1"},placeholder:"菜单1",name:"退换货须知"},{id:"cfdvtnp7in",action:6,meta:{stdqa_id:"7261",type:"1"},placeholder:"菜单2",name:"退换货邮费问题"},{id:"4cdpcy81jy",action:6,meta:{stdqa_id:"7263",type:"1"},placeholder:"菜单3",name:"退货后多久到账"}],more_questions:0,source:1,tit:"退换货"},{list:[{id:"fvk2h196xr",action:6,meta:{stdqa_id:"7270",type:"1"},placeholder:"菜单1",name:"发票类型"},{id:"cn8ryoyst3",action:6,meta:{stdqa_id:"7267",type:"1"},placeholder:"菜单2",name:"补开发票"},{id:"jz49v996yy",action:6,meta:{stdqa_id:"7269",type:"1"},placeholder:"菜单3",name:"合开发票"}],more_questions:0,source:1,tit:"商品发票"}]}}}],[4,{content:{menu:{list:[{action:6,icon:{index:0,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-65335b8b01c767c1d2edd1cbd92a64fa.svg"},id:1,meta:{stdqa_id:"7983",type:"1"},name:"消息通知"},{action:6,icon:{index:1,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-2ff52107ccb082b669e0725df88a15f8.svg"},id:2,meta:{stdqa_id:"7984",type:"1"},name:"优惠卡券"},{action:6,icon:{index:2,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg"},id:3,meta:{stdqa_id:"7979",type:"1"},name:"精选推荐"},{action:6,icon:{index:2,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg"},id:4,meta:{stdqa_id:"7979",type:"1"},name:"精选推荐"},{action:6,icon:{index:2,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg"},id:5,meta:{stdqa_id:"7979",type:"1"},name:"精选推荐"}],navType:4,tit:""},udfIcon:[{name:"消息通知",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-65335b8b01c767c1d2edd1cbd92a64fa.svg"},{name:"优惠卡券",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-2ff52107ccb082b669e0725df88a15f8.svg"},{name:"精选推荐",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg"},{name:"签到打卡",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-1da39adea8b2cbb2c91833e20bfb823a.svg"},{name:"售后保障",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-8c69ca75868d4eabb31587c3e0c2445e.svg"},{name:"热度趋势",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-8a9f45df504755f85d933d121634fbec.svg"},{name:"客服评价",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-77a416fef3b3873c9627130a024ab941.svg"},{name:"商品购物",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-94d2cac5b782234ed79026684bfbab1b.svg"}]}}],[5,{content:{menu:{components:[{img:{index:0,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-2dc01f089874fc0e625a170e763a5e61.png"},list:[{name:"退费流程",action:6,meta:{stdqa_id:"5416",type:"1"},id:1},{name:"网校听课中心入口",action:6,meta:{stdqa_id:"5413",type:"1"},id:2},{name:"忘记用户名",action:6,meta:{stdqa_id:"7239",type:"1"},id:3}],more_questions:0,navType:2,source:1},{list:[{action:6,icon:{url:"https://p.qpic.cn/qidian_pic/2852065243/202006254e691399e8693edd2382c288bb6adad3/0",index:8},id:1,meta:{stdqa_id:"7239",type:"1"},name:"消息通知"},{action:6,icon:{url:"https://p.qpic.cn/qidian_pic/2852065243/2020042304e216cafd55d55448b60129053395ea/0",index:9},id:2,meta:{stdqa_id:"7239",type:"1"},name:"优惠卡券"},{action:6,icon:{url:"https://p.qpic.cn/qidian_pic/2852065243/20190627ed675aa3caaaa1a89e3e2ebbf2acf665/0",index:10},id:3,meta:{stdqa_id:"7244",type:"1"},name:"精选推荐"}],navType:4}],img:[],navType:5,tit:"常见问题"},udfIcon:[{name:"消息通知",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-65335b8b01c767c1d2edd1cbd92a64fa.svg"},{name:"优惠卡券",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-2ff52107ccb082b669e0725df88a15f8.svg"},{name:"精选推荐",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg"},{name:"签到打卡",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-1da39adea8b2cbb2c91833e20bfb823a.svg"},{name:"售后保障",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-8c69ca75868d4eabb31587c3e0c2445e.svg"},{name:"热度趋势",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-8a9f45df504755f85d933d121634fbec.svg"},{name:"客服评价",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-77a416fef3b3873c9627130a024ab941.svg"},{name:"商品购物",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-94d2cac5b782234ed79026684bfbab1b.svg"},{url:"https://p.qpic.cn/qidian_pic/2852065243/202006254e691399e8693edd2382c288bb6adad3/0"},{url:"https://p.qpic.cn/qidian_pic/2852065243/2020042304e216cafd55d55448b60129053395ea/0"},{url:"https://p.qpic.cn/qidian_pic/2852065243/20190627ed675aa3caaaa1a89e3e2ebbf2acf665/0"}]}}],[6,{content:{menu:{buttons:[{name:"转人工",id:1,action:7,meta:{id:1,name:"国内旅游接待组",reception_id:17671,reception_type:1}}],desc:"123123123123123123123123123123123123123fsdfdsfsfsdfs",descError:!1,list:[{action:7,id:1,meta:{reception_id:20312,reception_type:1,name:"mfg01",id:1},name:"21445",sub:[]},{action:4,id:2,meta:[],name:"简单文本型简单文本型简单文本型简单文本型",sub:[{name:"简单文本型简单文本型简单文本型简单文本型",action:6,meta:{stdqa_id:"8187",type:"1"},id:1},{name:"4343",action:6,meta:{stdqa_id:"8187",type:"1"},id:2}]}],navType:6,tit:"请选择你想咨询的内容",titleError:!1}}}]])),h=function(t){return JSON.stringify(m.get(t))},g='\n<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF" action="web" actionData="https://qq.com">\n<linear background="#FFFFFFFF" width="-2" height="-2" orientation="vertical">\n<linear width="-2" height="-2" margin="20,16,20,12" margin.pc="10,8,10,6" orientation="vertical">\n<linear width="-2" height="-2" margin="0,8,0,8" margin.pc="0,4,0,4" gravity="left|centerVertical">\n<text height="-2" width="420" size="28" color="#FF1E2330" width.pc="210" size.pc="10" color.pc="0xFF1E2330" maxLine="1" text="小鹿" gravity="left|centerVertical"></text>\n</linear>\n<linear width="-2" height="-2">\n<image width="420" height="328" width.pc="210" height.pc="164" cornerRadius="0" src="http://eamaterial-30012.picsz.qpic.cn/material/image/2852199661_4ecf237221a7728bda4013a801edfdb6"></image>\n</linear>\n<linear width="0" height="0" >\n<text size="28" color="#FF1E2330" maxLine="1" text="wxc0f12af109cd1049"></text>\n<text size="28" color="#FF1E2330" maxLine="1" text="pages/realname/realname"></text>\n</linear>\n<linear background="#FFE1E6F0" width="420" height="2" margin="0,18,0,6" width.pc="210" height.pc="1" margin.pc="0,9,0,3">\n</linear>\n<linear width="-2" height="-2">\n<image width="24" height="24" width.pc="12" height.pc="12" cornerRadius="0" src="https://oa.gtimg.com/demo/sdk/flex_pic/basic/pic4@3x.png"></image>\n<text height="-2" width="380" margin="6,0,0,0" size="28" color="#FFA1ABC2" lineSpace="14" width.pc="190" margin.pc="3,0,0,0" size.pc="8" color.pc="0xA1ABC2" text="上限啊啊啊啊啊啊啊啊啊啊啊啊啊" maxLine="1"></text>\n</linear>\n</linear>\n</linear>\n</msg>\n',p='\n<?xml version="1.0" encoding="utf-8"?>\n<msg brief="腾讯企点xml消息">\n    <linear width="520" cornerRadius="5" background="#FFFFFFFF" orientation="vertical">\n        <text padding="26,34,0,0" width="-1" height="-2" style="bold" size="34" text="这是标题"/>\n        <text padding="26,20,27,28" width="-1" height="-2" size="28" text="这是描述啊描述描述"/>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <linear width="-1" action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=1&amp;navId=2&amp;menutp=1">\n            <text padding="26,28,0,28" size="28" text="菜单1"/>\n        </linear>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <fold width="-1" expand="0">\n            <container width="-1">\n                <text padding="26,28,0,28" size="28" text="折叠菜单"/>\n            </container>\n            <linear width="-1" orientation="vertical">\n                <container width="-1" background="#FFF7F7F7" action="web" actionData="https://oaadmin.qidian.qq.com/ac/login">\n                    <text padding="50,28,0,28" size="28" text="子菜单2"/>\n                </container>\n                <container width="-1" background="#FFF7F7F7" action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=3&amp;navId=2&amp;menutp=2">\n                    <text padding="50,28,0,28" size="28" text="子菜单3"/>\n                </container>\n                <container width="-1" background="#FFF7F7F7" action="web" actionData="mqqwpa://im/qdmenu?isNeedReply=true&amp;QidianKfUin=2852200400&amp;VerNo=1670831110&amp;menuId=9&amp;navId=9&amp;menutp=2&amp;buttonId=0&amp;parentId=6&amp;parentName=下级菜单&amp;Timestamp=1670831160&amp;ReceptionSwitch=1" url="http://www.baidu.com">\n                    <text padding="50,28,0,28" size="28" text="跳转网页"/>\n                </container>\n            </linear>\n        </fold>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <linear width="-1" action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=4&amp;navId=2&amp;menutp=1">\n            <text padding="26,28,0,28" size="28" text="菜单2"/>\n        </linear>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <linear width="-1" action="web" actionData="mqqwpa://im/qdmenu?isNeedReply=true&amp;QidianKfUin=2852200400&amp;VerNo=1670405218&amp;menuId=4&amp;navId=9&amp;menutp=1&amp;buttonId=0&amp;Timestamp=1670825767&amp;ReceptionSwitch=1" url="https://www.baidu.com/">\n            <text padding="26,28,0,28" size="28" text="跳转网页"/>\n        </linear>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <linear width="-1" height="84" gravity="center">\n            <text action="web" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=5&amp;navId=2&amp;menutp=3" width="-1" weight="1" color="#FF0067ED" gravity="center" text="按钮1" url="https://www.baidu.com/"/>\n            <divider orientation="vertical" width="1" height="-1"/>\n            <text action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=6&amp;navId=2&amp;menutp=3" width="-1" weight="1" color="#FF0067ED" gravity="center" text="按钮2"/>\n            <divider orientation="vertical" width="1" height="-1"/>\n            <text action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=7&amp;navId=2&amp;menutp=3" width="-1" weight="1" color="#FF0067ED" gravity="center" text="按钮3"/>\n        </linear>\n    </linear>\n</msg>\n',b='\n<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" msgName="e-commerce-secene" background="#FFFFFFFF" action="browser"  actionData="http://0w0.club/qidiandemo/detail4.html" actionData.webb="http://0w0.club/qidiandemo/detail4.html" actionData.pc="http://0w0.club/qidiandemo/detail4.html" click.wxplugin="true" appPath="/pages/goods/details/index?spuId=0">\n    <linear background="#FFFFFFFF" width="-2" height="-2" cornerRadius="12" orientation="vertical">\n        <linear width="-2" height="-2">\n            <linear width="-2" height="-2" margin="24,20,24,20" margin.pc="12,10,12,10">\n                <image name="onlineGoods" width="192" height="192" width.pc="96" height.pc="96" src="https://cdn-we-retail.ym.tencent.com/tsr/goods/nz-09a.png"></image>\n                <linear width="-2" height="-2" margin="20,0,0,0" margin.pc="10,0,0,0" orientation="vertical">\n                    <text width="312" height="80" margin="0,0,0,16" size="28" width.pc="156" height.pc="40" margin.pc="0,0,0,8"  size.pc="10" color="#FF262d3d" color.pc="0xFF262d3d" maxLine="2" text="白色短袖连衣裙荷叶边裙摆宽松韩版休闲纯白清爽优雅连衣裙"></text>\n                    <text width="312" height="-2" margin="0,0,0,20" size="24" width.pc="156" margin.pc="0,0,0,10" size.pc="7"  color="#FF78849E" color.pc="0xFF78849E" maxLine="1" text="短袖｜连衣裙"></text>\n                    <linear width="-2" height="-2">\n                        <text height="-2" width="152" size="32" width.pc="76" size.pc="12" gravity="left|centerVertical" maxLine="3" text="￥298" style="bold" color="#FFF75559" color.pc="0xFFF75559"></text>\n                        <text height="-2" width="160" size="24" width.pc="80" size.pc="8" gravity="right|centerVertical"  text="销量:6" color="#FF78849E" color.pc="0xFF78849E"></text>\n                    </linear>\n                </linear>\n            </linear>\n        </linear>\n        <divider width="-1" height="1" backgroundColor="0xFFF0F0F0"  background="#FFF0F0F0"></divider>\n        <linear width="-2" height="32" margin="24,20,24,20" margin.pc="12,10,12,10" height.pc="16">\n            <image name="shopIcon" width="30" height="30" width.pc="15" height.pc="15" src="https://cdn-we-retail.ym.tencent.com/tsr/goods/nz-09a.png"  margin="0,0,8,0" margin.pc="0,0,4,0"></image>\n            <text name="shopName" height="-2" text="猫猫的小店" width="400"  width.pc="200" size="24" size.pc="8"  gravity="left|centerVertical" color="#FF262d3d" color.pc="0xFF262d3d" maxLine="1" overflow="dot"></text>\n        </linear>\n    </linear>\n</msg>',v='\n<?xml version="1.0" encoding="utf-8"?>\n<msg brief="">\n    <linear width="-1" cornerRadius="12" background="#FFFFFFFF" orientation="vertical">\n\t\t<linear width="-1" orientation="vertical" padding="32,24,32,24">\n        \t<text width="-1" height="-2" size="28" text="前面还有99个人排队，确定要切换吗？"/>\n\t\t</linear>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <linear width="-1" height="84" gravity="center">\n            <text width="-1" weight="1" gravity="center" size="28" text="立即切换"  action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianPubID=0"  color="#FF0067ED"/>\n        </linear>\n    </linear>\n</msg>\n',_={type:"gray_msg",status:0,mine:!1,crm:{crm_flag:11,msg_gray_msg:{str_text:'当前服务语言是<a href="javascript:;" class="btn-lang">简体中文</a>',uint32_type:2,uint64_from_uin:938154917},msg_webim_extra_data:{str_avatar:"",str_external_name:"",uint64_extuin:2852199330}},fromHisotry:!1,content:{gray:'当前语言是：<a href="javascript:;" data-type="changeLang" class="btn-lang">简体中文</a>',track:"",msg_webim_extra_data:{str_avatar:"",str_external_name:"",uint64_extuin:2852199330}},msgBody:{rich_text:""}},w=_,y={data:{content:{type:14,tit:"请选择您要咨询的订单-5抽屉聚合",templateId:5,tabCount:4,pageSize:8,contentData:{tab:[{tabName:"已签收的 1",tabId:1},{tabName:"已签收的2",tabId:2},{tabName:"已签收的3",tabId:3},{tabName:"已签收的 4",tabId:4}],currentPage:1,currentTabId:1,hasNext:!0,contentList:[{id:0,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",name:"抽屉聚合1",status:"2021- 04-14",subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合11",des:"这个手 机",mon:"99.99",count:1,much:"2567",isLink:!1}]},{id:1,name:"抽屉聚合 2",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04- 14",dot:2,subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合 21",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567",dot:2},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合 22",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567",dot:2}]},{id:2,name:"抽屉聚合3",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04- 14",dot:2,subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合 31",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567",dot:2}]},{id:3,name:"抽屉聚合4",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04- 14",dot:2,subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合 41",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567",dot:2},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合 42",isLink:!1,des:"这个手 机",mon:"99.99",count:1,much:"2567",dot:2}]}]},questionId:1234,domain:"abcd",intent:"ehig"},type:7}},x={data:{content:{type:14,tit:"请选择您要咨询的订单-2抽屉不聚 合",templateId:2,tabCount:4,pageSize:8,questionId:1234,domain:"abcd",intent:"ehig",contentData:{tab:[{tabName:"已签收的 1",tabId:1},{tabName:"已签收的2",tabId:2},{tabName:"已签收的3",tabId:3},{tabName:"已签收的4",tabId:4},{tabName:"已签收的5",tabId:1},{tabName:"已签收的 6",tabId:2},{tabName:"已签收的7",tabId:3},{tabName:"已签收的8",tabId:4},{tabName:"已签收的9",tabId:3},{tabName:"已签收的 10",tabId:4}],currentPage:1,currentTabId:1,hasNext:!0,contentList:[{itemId:111,logo:"",isLink:!1,des:"这个手机",count:null,much:null},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉不聚合 2",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉不聚合 3",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉不聚合 4",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉不聚合 5",isLink:!1,des:"这个手机这个手机这个手机这个手机这个手机这个手 机",mon:"99.99",count:1,much:"2567"}]}},type:7}},A={data:{content:{type:14,questionId:1234,domain:"abcd",intent:"ehig",tit:"请选择您要咨询的订单-1气泡聚合型",templateId:4,tabCount:4,pageSize:8,contentData:{currentPage:1,hasNext:!0,contentList:[{id:1,name:"气泡聚合 1",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04-14",subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡聚合 11",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡聚合 12",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"}]},{id:2,name:"气泡聚合2",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04-14",subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡聚合 21",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"}]},{id:3,name:"气泡聚合3",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04-14",subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡聚合 31",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡聚合 32",isLink:!1,des:"这个手 机",mon:"99.99",count:1,much:"2567"}]}]}},type:7}},C={data:{content:{questionId:1234,domain:"abcd",intent:"ehig",type:14,tit:"请选择您要咨询的订单-1气泡 型",templateId:1,tabCount:4,pageSize:8,contentData:{currentPage:1,hasNext:!0,contentList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡不聚合 1",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡不聚合 2",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡不聚合 3",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡不聚合 4",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡不聚合 5",isLink:!1,des:"这个手机这个手机这个手机这个手机这个手机这个手 机",mon:"99.99",count:1,much:"2567"}]}},type:7}},T={data:{type:7,content:{questionId:1234,domain:"abcd",intent:"ehig",type:14,tit:"请选择您要咨询的订单-3横划卡片型",templateId:3,pageSize:8,contentData:{currentPage:1,hasNext:!0,contentList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 1",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 2",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 3",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 4",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 5",isLink:!1,des:"这个手机这个手机这个手机这个手机这个手机这个手 机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 6",isLink:!1,des:"这个手机这个手机这个手机这个手机这个手机这个手 机",mon:"99.99",count:1,much:"2567"}]}}}},q={data:{type:7,content:{type:16,content:{title:"北京->上 海",subTitledesc:"xx快递:267384905-67",list:[{name:"您的快件在上海市徐汇区田林路中环国际 广场C座，前台已签收",desc:"01-20 20:00",status:1},{name:"您的快件在上海市徐汇区田林路中环国际 广场C座，前台已签收",desc:"01-20 20:00",status:1},{name:"您的快件在上海市徐汇区田林路中环国际 广场C座，前台已签收",desc:"01-20 20:00",status:1},{name:"您的快件在上海市徐汇区田林路中环国际 广场C座，前台已签收",desc:"01-20 20:00",status:1},{name:"您的快件在上海市徐汇区田林路中环国际 广场C座，前台已签收",desc:"01-20 20:00",status:1}]}}}},k={type:5,content:'        这是html     消     息<a href="https://qq.com"><span>腾讯</span></a><br><br><br><br><br><br><br><br><br><br><br><br><br>哈哈哈<br><br><br><br><br><br><br>哈哈哈'},I=[{type:4,content:'这是html消息<a href="https://qq.com">哈哈哈</a><img src="https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-1762026921-4F9CA1576DF16EFD772434DD7EB245FB/0">'},{type:4,content:'<a href="https://cloud.tencent.com/">腾讯云</a>提供三种类型的云服务器购买方式：包年包月、按量计费和竞价实例。<img src="https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-1762026921-4F9CA1576DF16EFD772434DD7EB245FB/0">\n<a href="qdweb://webim/message/sendc2b?content=有" class="quick-relply-btn">有</a><a href="qdweb://webim/message/sendc2b?content=没有" class="quick-relply-btn">没有</a>'},{type:4,msgType:2,content:'您可能还想问<a href="qdweb://webim/message/sendc2b?content=酒店早餐地址及开放时间酒店早餐地址及开放时间酒店早餐地址及开放时间酒店早餐地址及开放时间">酒店早餐地址及开放时间酒店早餐地址及开放时间酒店早餐地址及开放时间酒店早餐地址及开放时间</a><a href="qdweb://webim/message/sendc2b?content=介绍一下酒店的餐厅">介绍一下酒店的餐厅</a><a href="qdweb://webim/message/sendc2b?content=酒店游泳池地址及开放时间">酒店游泳池地址及开放时间</a>'}],M={type:6,pagecount:5,answer:{type:4,datatype:4,msgType:1,content:'1.场景释义：\n机构老师将可约课的日程透出，让学员通过预约的方式，根据自己的情况进行课程、时间的预约<img src="https://p.qpic.cn/qidian_pic/2852199330/2020112872464fe1e0fcb8f207b12f22684eb7cc/0" alt="插图" data-alt="图片插入"><img src="https://p.qpic.cn/qidian_pic/2852199330/20201128e76fa78b5c0c9094b86b827ce084b5e1/0" alt="插图" data-alt="图片插入">'},answer_type:1,list:[{text:"1232435",itemtype:"333",key:"345"},{text:"653133214",itemtype:"333",key:"345"},{text:"fsgsaha",itemtype:"333",key:"345"},{text:"hasye色啊塔塔",itemtype:"333",key:"345"},{text:"嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊",itemtype:"c2b",key:"345"},{text:"很短了",itemtype:"c2b",key:"345"},{text:"很短了",itemtype:"c2b",key:"345"},{text:"很短了",itemtype:"c2b",key:"345"}]},O={content:[{fieldName:"字段1",fieldType:1,options:{instances:[{name:"自己查询",id:"1082",dictId:"267",type:"user"},{name:"已申请",id:"1081",dictId:"267",type:"user"},{name:"准备申请",id:"1080",dictId:"267",type:"user"}]},required:!0,slotDefId:207,slotName:"金牌商标判断"},{fieldName:"城市",fieldType:2,options:{instances:[]},required:!0,slotDefId:175,slotName:"所在城市"},{fieldName:"城市",fieldType:3,options:{instances:[]},required:!0,slotDefId:15,slotName:"所在城市"}]},S={type:2,description:[{text:"您可以 "},{text:"点击此处",url:"https://member.cignacmb.com/mb-web/account/index.html#!/znkfLogin/JF"},{text:" 操作在线交费。"}],questions:[{text:"指定交费日"},{text:"宽限期是指什么"}]},D={htmlMsg:k,freeMsgList:I,batchMsg:M,robotForm:O,qlist:S},j='<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF">\n    <linear background="#FFFFFFFF" width="-2" height="-2" orientation="vertical">\n        <linear width="-2" height="-2" margin.mobile="24,20,24,20" margin.pc="12,10,12,10" margin.web="24,20,24,20"\n            action="browser" actionData="   " >\n            <image name="onlineCoupon0" width.mobile="132" height.mobile="112" margin.mobile="0,0,20,0" width.pc="66" height.pc="56" margin.pc="0,0,10,0" width.web="132" height.web="112" margin.web="0,0,20,0" src="https://aaa.com/a.png"></image>\n            <linear width="-2" height="-2" orientation="vertical" platform="web">\n                <linear width="-2" height="-2" margin="0,0,0,20" orientation="horizontal"\n                    gravity="centerHorizontal|centerVertical">\n                    <linear width="76" height="32" background="#FFFFF7F0" borderWidth="1" borderColor="#FFFFEBDC"\n                       borderStyle="solid" cornerRadius="6" gravity="centerHorizontal|centerVertical">\n                        <text width="-2" height="-2" size="20" style="bold" color="#FFFF8345" text="店铺劵"></text>\n                    </linear>\n                    <text height="-2" width="284" margin="12,0,0,0" size="26"\n                      width.pc="142" margin.pc="6,0,0,0" size.pc="8" color="#FF262D3D"\n                      color.pc="0xFF262D3D" maxLine="1" text="优惠券111"\n                      gravity="centerHorizontal|centerVertical"></text>\n                </linear>\n                <linear width="-2" height="-2" gravity="left|bottom" orientation="horizontal">\n                    <text height="-2" width="216" margin="0,0,12,0" size="22" maxLine="1"\n                    text="2021.01.02前使用" color="#FFA1ABC2"></text>\n                    <linear width="140" height="52" borderWidth="1" borderColor="#FF7396FF"\n                      borderStyle="solid" cornerRadius="30" gravity="centerHorizontal|centerVertical">\n                        <text width="-2" height="-2" size="26" text="点击领取" color="#FF4A70FF"></text>\n                    </linear>\n                </linear>\n            </linear>\n        </linear>\n        <linear width="-2" height="-2" margin.mobile="24,20,24,20" margin.pc="12,10,12,10"\n           margin.web="24,20,24,20" action="browser" actionData="   " >\n            <image name="onlineCoupon1" width.mobile="132" height.mobile="112" margin.mobile="0,0,20,0" width.pc="66" height.pc="56" margin.pc="0,0,10,0" width.web="132" height.web="112" margin.web="0,0,20,0" src="https://aaa.com/a.png"></image>\n            <linear width="-2" height="-2" orientation="vertical" platform="web">\n                <linear width="-2" height="-2" margin="0,0,0,20" orientation="horizontal"\n                    gravity="centerHorizontal|centerVertical">\n                    <linear width="76" height="32" background="#FFFFF7F0" borderWidth="1" borderColor="#FFFFEBDC"\n                     borderStyle="solid" cornerRadius="6" gravity="centerHorizontal|centerVertical">\n                        <text width="-2" height="-2" size="20" style="bold" color="#FFFF8345" text="店铺劵"></text>\n                    </linear>\n                    <text height="-2" width="284" margin="12,0,0,0" size="26" width.pc="142"\n                     margin.pc="6,0,0,0" size.pc="8" color="#FF262D3D" color.pc="0xFF262D3D"\n                     maxLine="1" text="优惠券122" gravity="centerHorizontal|centerVertical"></text>\n                </linear>\n                <linear width="-2" height="-2" gravity="left|bottom" orientation="horizontal">\n                    <text height="-2" width="216" margin="0,0,12,0" size="22" maxLine="1" text="2021.01.02前使用"\n                     color="#FFA1ABC2"></text>\n                    <linear width="140" height="52" borderWidth="1" borderColor="#FF7396FF" borderStyle="solid"\n                     cornerRadius="30" gravity="centerHorizontal|centerVertical">\n                        <text width="-2" height="-2" size="26" text="点击领取" color="#FF4A70FF"></text>\n                    </linear>\n                </linear>\n            </linear>\n        </linear>\n    </linear>\n</msg>',P='<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF" action="browser" actionData="https://www.baidu.com">\n    <linear background="#FFFFFFFF" orientation="vertical">\n        <image name="onlineBanner" width="620" height="304" width.pc="310" height.pc="152" src="https://wiki.supercombo.gg/images/b/bf/Kof97logo.png"/>\n        <linear width="-2" height="-2">\n            <linear width="-2" height="-2" orientation="vertical" margin="24,20,24,24" margin.pc="12,10,12,12">\n                <text width="572" height="-2" size="32" width.pc="286" size.pc="12" color="#FF262d3d" color.pc="0xFF262d3d" style="bold" maxLine="1" text="下单专属权益" />\n                <text width="572" height="-2" margin="0,16,0,0" size="24" width.pc="286" margin.pc="0,8,0,0" size.pc="6" color="#FF262d3d" color.pc="0xFF262d3d" maxLine="2" text="点我下单，查看详情" />\n            </linear>\n        </linear>\n    </linear>\n</msg>',E='<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF">\n    <linear background="#FFFFFFFF" orientation="vertical">\n        <linear margin="0,0,0,2" margin.pc="0,0,0,1">\n            <linear action="browser" actionData="javascript:;">\n                <image name="onlineGoods1" width="286" height="286" width.pc="143" height.pc="143" src="https://cdn.cglao.com/forum/202110/19/141734b00b09vosa9so6so.jpg"/>\n            </linear>\n            <linear margin="2,0,0,0" margin.pc="1,0,0,0" action="browser" actionData="javascript:;">\n                <image name="onlineGoods2" width="284" height="286" width.pc="142" height.pc="143" src="https://cdn.cglao.com/forum/202110/19/141735sdxhxddt4xb1doxp.jpg"/>\n            </linear>\n        </linear>\n        <linear>\n            <linear action="browser" actionData="javascript:;">\n                <image name="onlineGoods3" width="286" height="286" width.pc="143" height.pc="143" src="https://cdn.cglao.com/forum/202110/19/141736e12i20j7cvzji110.jpg"/>\n            </linear>\n            <linear margin="2,0,0,0" margin.pc="1,0,0,0" action="browser" actionData="javascript:;">\n                <image name="onlineGoods4" width="284" height="286" width.pc="142" height.pc="143" src="https://img.tukuppt.com/png_preview/00/37/77/1w0VPk48OO.jpg!/fw/780"/>\n            </linear>\n        </linear>\n        <linear action="browser" actionData="https://order.jd.com/center/list.action">\n            <linear orientation="vertical" margin="24,20,24,24" margin.pc="12,10,12,12">\n                <text width="524" size="32" width.pc="262" size.pc="14" color="#FF262d3d" color.pc="0xFF262d3d"\n                 style="bold" maxLine="1" text="店铺上新抢先看" />\n                <text width="524" margin="0,16,0,0" size="28" width.pc="262" margin.pc="0,8,0,0" size.pc="10"\n                 color="#FF262d3d" color.pc="0xFF262d3d" maxLine="2" text="最近上新的商品，给最亲爱的你，最奢华的享受！" />\n            </linear>\n        </linear>\n    </linear>\n</msg>',F='<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF">\n    <linear background="#FFFFFFFF" cornerRadius="12" width="-2" height="-2" orientation="vertical">\n        <linear width="-2" height="-2" margin="0,8,0,8" orientation="vertical" platform="web">\n            <linear width="-2" height="-2" margin="24,16,24,16" action="browser" actionData="javascript:;">\n                <image name="onelineGoodsWeb0" width="112" height="112" src="https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png"></image>\n                <linear width="-2" height="-2" margin="20,8,0,0" orientation="vertical">\n                    <linear width="-2" height="-2" margin="0,0,0,20" gravity="left|centerVertical">\n                        <text height="-2" width="280" size="28" color="#FF262d3d" maxLine="1" text="智能手表1111" gravity="left|centerVertical"></text>\n                        <text height="-2" width="116" size="32" color="#FFF75559" maxLine="1" style="bold" text="¥999.99" gravity="right|centerVertical"></text>\n                    </linear>\n                    <linear width="-2" height="-2">\n                        <text height="-2" width="280" size="24" text="库存:20" maxLine="1" color="#FFA1ABC2" gravity="left|centerVertical"></text>\n                        <text height="-2" width="116" size="24" text="销量:5" maxLine="1" color="#FFA1ABC2" gravity="right|centerVertical"></text>\n                    </linear>\n                </linear>\n            </linear>\n            <linear width="-2" height="-2" margin="24,16,24,16" action="browser" actionData="javascript:;">\n                <image name="onelineGoodsWeb1" width="112" height="112" src="https://creazilla-store.fra1.digitaloceanspaces.com/cliparts/37997/playstation-vita-ps-clipart-md.png"></image>\n                <linear width="-2" height="-2" margin="20,8,0,0" orientation="vertical">\n                    <linear width="-2" height="-2" margin="0,0,0,20" gravity="left|centerVertical">\n                        <text height="-2" width="280" size="28" color="#FF262d3d" maxLine="1" text="智能手表222" gravity="left|centerVertical"></text>\n                        <text height="-2" width="116" size="32" color="#FFF75559" maxLine="1" style="bold" text="¥999.99" gravity="right|centerVertical"></text>\n                    </linear>\n                    <linear width="-2" height="-2">\n                        <text height="-2" width="280" size="24" text="库存:20" maxLine="1" color="#FFA1ABC2" gravity="left|centerVertical"></text>\n                        <text height="-2" width="116" size="24" text="销量:5" maxLine="1" color="#FFA1ABC2" gravity="right|centerVertical"></text>\n                    </linear>\n                </linear>\n            </linear>\n        </linear>\n    </linear>\n</msg>',L={type:18,content:[{id:"1",title:"智能手表1111",currencyUnit:"$",indicate:"4G全网通｜八重安全定位",price:"999.99",inventory:"20",sales:"5",image:"https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png",jumpURL:"https://item.jd.com/100011203359.html"},{id:"2",title:"智能手表222",currencyUnit:"$",indicate:"4G全网通｜八重安全定位",price:"999.99",inventory:"20",sales:"5",image:"https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png",jumpURL:"https://item.jd.com/100011203359.html"},{id:"3",title:"智能手表3",currencyUnit:"$",indicate:"4G全网通｜八重安全定位",price:"999.99",inventory:"20",sales:"5",image:"https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png",jumpURL:"https://item.jd.com/100011203359.html"},{id:"4",title:"智能手表4",currencyUnit:"$",indicate:"4G全网通｜八重安全定位",price:"999.99",inventory:"20",sales:"5",image:"https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png",jumpURL:"https://item.jd.com/100011203359.html"}]},R=f["b"].create(),N={inject:["MsgType","IMSDKType"],props:{to:{default:function(){return{}}}},data:function(){return{enabled:!1,EVENT:f["b"].EVENT}},mounted:function(){0},methods:{sendMsg:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0,n=this.to.id,i={seq:l["a"].generateUUID(),type:t,time:Date.now(),status:0,from:n};return t===this.IMSDKType.MSG_TEXT&&Object.assign(i,{content:"随机文本".concat(Math.random().toString(36).substring(2)),crm:a}),t===this.IMSDKType.MSG_IMAGE&&Object.assign(i,{content:"https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-189792930-E59538E23B28257858A4768105725293/0",uuid:i.seq,name:"1-115.jpg",size:144836,width:1080,height:1370}),"leave_form_msg"===t?(Object.assign(i,{content:""}),this.$Toast({text:"暂不支持",type:"error"}),!1):(t===this.IMSDKType.MSG_FILE&&Object.assign(i,{content:"blob:http://localhost:8080/a1b9bb6c-3210-419d-b46b-862b6546954d",uuid:"blob",name:"test.jpg",size:162356,format:"image/jpeg"}),t===this.IMSDKType.MSG_VOICE&&Object.assign(i,{content:"https://bqq.gtimg.com/CDN/source/audio/dida.mp3",uuid:i.seq,length:3,size:3829}),t===this.IMSDKType.MSG_IMAGE_TEXT?(this.$Toast({text:"暂不支持",type:"error"}),!1):(t===this.IMSDKType.MSG_QDXML&&(e||(e=g),Object.assign(i,{content:{content:e}})),t===this.IMSDKType.MSG_ROBOT_NAV&&Object.assign(i,{content:{content:h(Date.now()%7)}}),t===this.IMSDKType.MSG_FEED_BACK&&Object.assign(i,{content:u,msgHead:{uint64_msg_sync_seq:111111,uint64_side_sync_seg:222222,uint64_msg_roaming_seq:333333,msg_type_info:{msg_c2c_info:{uint64_from_aid:4444,uint64_to_aid:5555}}}}),t===this.IMSDKType.MSG_THIRD_MSG&&Object.assign(i,{content:{crmFlag:60,content:"uk=92D8F3F949001CE76007B9EC1DD0AE30_86400_1670987498"}}),void this.mackB2CMsg(i)))},mackB2CMsg:function(t){var e=this.to.id,a=Object(r["a"])({},e,[t]);console.log("mock",a),R.emit(f["b"].EVENT.MESSAGE_RECEIVED,a)},changeKF:function(){this.sendMsg(this.IMSDKType.MSG_QDXML,v)},sendRobotMsg:function(t){var e=this.to.id,a={seq:l["a"].generateUUID(),type:this.IMSDKType.MSG_ROBOT,time:Date.now(),status:0,from:e,crm:{msg_webim_extra_data:{bytes_wpaid:"",uint64_robotid:""},str_session_id:""}};if("htmlmsg"===t&&(a.content=D.htmlMsg),"freemsg"===t){var n=D.freeMsgList;a.content=n[Date.now()%n.length]}if("batchmsg"===t&&(a.content=D.batchMsg),"robotform"===t&&(a.type=this.IMSDKType.MSG_ROBOT_FORM,a.content=D.robotForm),"qlist"===t){var i=D.qlist;a.content=i}"drawer_group"===t&&(a.content=y.data),"bubble_group"===t&&(a.content=A.data),"card"===t&&(a.content=T.data),"node"===t&&(a.content=q.data),"drawer_nogroup"===t&&(a.content=x.data),"bubble_nogroup"===t&&(a.content=C.data),"slide"===t&&(a.content=L),"tablemsg"===t&&(a.content={type:17,content:"文本内容描述啊，<b>描述</b>描述",table:{headers:["姓名","年龄","性别"],rows:[["张三，张三，张三，sahshgasfafhsdg三四个死贵死贵送达岁的萨法斯蒂芬森返多少的佛挡杀佛第三方啥地方都是疙瘩",28,"男"],["李四",35,"女，女，女，女，女，女，女，女，女，女，女，女，女，女，女，"],["王五",42,"男"]]}}),"robotform"!==t&&"slide"!==t&&(a.content.vote={active:["up","down",""][Date.now()%3],id:a.seq,expiredIntervalTime:864e5,robotId:922223543,button:[{key:"up"},{key:"down"}]}),this.mackB2CMsg(a)},makeEvent:function(t,e){R.emit(t,e)},navMenu:function(){this.sendMsg(this.IMSDKType.MSG_QDXML,p)},uploadLongText:function(){return Object(c["a"])(Object(o["a"])().mark((function t(){var e,a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=p,t.next=3,f["c"].uploadLongText(e);case 3:a=t.sent,console.log("[uploadLongText-result]",a);case 5:case"end":return t.stop()}}),t)})))()},downloadLongText:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var a,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["c"].getDownloadUrl({path:"8b497251-475a-4d8b-b1d7-1fd7c3ecc259"},f["b"].OBJTYPES.OBJ_LONGTEXT);case 2:return a=e.sent,e.next=5,t.$ajax.get(a);case 5:n=e.sent,console.log("[downloadLongText-result]",a,n.data);case 7:case"end":return e.stop()}}),e)})))()},sendQDXML:function(){this.$parent.sendQDXMLMessage({qdxml:{content:b}})},sendCouponXml:function(){var t=this.to.id,e={seq:l["a"].generateUUID(),type:this.IMSDKType.MSG_QDXML,time:Date.now(),status:0,from:t};Object.assign(e,{content:{content:j}}),this.mackB2CMsg(e)},sendGraphicNotice:function(){var t=this.to.id,e={seq:l["a"].generateUUID(),type:this.IMSDKType.MSG_QDXML,time:Date.now(),status:0,from:t};Object.assign(e,{content:{content:P}}),this.mackB2CMsg(e)},sendGoodsActive:function(){var t=this.to.id,e={seq:l["a"].generateUUID(),type:this.IMSDKType.MSG_QDXML,time:Date.now(),status:0,from:t};Object.assign(e,{content:{content:E}}),this.mackB2CMsg(e)},sendBubble:function(){var t=this.to.id,e={seq:l["a"].generateUUID(),type:this.IMSDKType.MSG_QDXML,time:Date.now(),status:0,from:t};Object.assign(e,{content:{content:F}}),this.mackB2CMsg(e)},sendChangeLang:function(){var t=this.to.id,e=Object(s["a"])({seq:l["a"].generateUUID(),time:Date.now(),status:0,from:t},w);this.mackB2CMsg(e)}}},B=N,G=(a("4fad"),a("2877")),Q=Object(G["a"])(B,n,i,!1,null,"220d2c9a",null);e["a"]=Q.exports},8118:function(t,e,a){"use strict";a.d(e,"a",(function(){return Z})),a.d(e,"b",(function(){return $}));var n=a("2909"),i=a("c7eb"),s=a("1da1"),o=a("5530"),c=a("b85c"),r=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("b64b"),a("a9e3"),a("99af"),a("e9c4"),a("fb6a"),a("4de4"),a("d81d"),a("159b"),a("14d9"),a("7db0"),a("b0c0"),a("c740"),a("a434"),a("ac1f"),a("841c"),a("d90f")),l=a("9de0"),d=a("7b05"),u=a("0c74"),f=a("b08d"),m=a("4328"),h=a.n(m),g=a("d5b4"),p=a("2b0e"),b=a("2ee4"),v=function(){var t=this,e=t._self._c;return e("popup",{ref:"popup",attrs:{show:t.openPop,title:t.content.tit,isShowScroll:!1,showClose:!0},on:{"update:show":function(e){t.openPop=e}}},[e("div",{staticClass:"chat-drawer"},[t.tab&&t.tab.length?e("div",{staticClass:"tab-container"},t._l(t.tab,(function(a,n){return e("div",{class:["tab-wrapper","title-name",a.tabId===t.choosedTabId?"choosed":""],on:{click:function(e){return t.switchTab(a)}}},[t._v(" "+t._s(a.tabName)+" ")])})),0):t._e(),e("div",{staticClass:"drawer-list-wrapper"},[e("div",{staticClass:"drawer-list",attrs:{id:"tab1"}},[t.isGroupType?t._l(t.contentList,(function(a){return e("div",{staticClass:"drawer-list-content"},[e("div",{staticClass:"drawer-item drawerList-body-head"},[e("div",{staticClass:"left"},[e("img",{staticClass:"logo",attrs:{src:a.logo,alt:""}}),e("div",{staticClass:"tit"},[t._v(t._s(a.name))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"status"},[t._v(t._s(a.status))])])]),e("drawer-item",{attrs:{list:a.subList},on:{chooseItem:t.chooseItem}})],1)})):e("div",{staticClass:"drawer-list-content"},[e("drawer-item",{attrs:{list:t.contentList},on:{chooseItem:t.chooseItem}})],1),t.hasNext||t.isShowLoading||t.showNoMore?e("div",{staticClass:"drawer-list-bottom"},[t.hasNext?e("span",{on:{click:t.loadMore}},[t._v("点击加载更多订单")]):t.isShowLoading?e("i",{staticClass:"loading loading-s"}):t.showNoMore?e("span",[t._v("暂无更多订单")]):t._e()]):t._e()],2)])])])},_=[],w=a("7dc1"),y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawer-item-container"},t._l(t.list,(function(a){return e("div",{staticClass:"drawer-item drawerList-body-body",on:{click:function(e){return t.chooseItem(a)}}},[e("div",{staticClass:"left"},[a.logo?e("img",{staticClass:"item-logo",attrs:{src:a.logo}}):t._e()]),e("div",{staticClass:"right"},[a.tit?e("div",{staticClass:"m1"},[t._v(t._s(a.tit))]):t._e(),a.des?e("div",{staticClass:"m2"},[t._v(t._s(a.des))]):t._e(),e("div",{staticClass:"bottom"},[e("div",{staticClass:"bottom-left"},[e("div",{staticClass:"m3"},[e("span",[t._v(t._s(a.mon))])]),t.isNumSet(a.count)?e("div",{staticClass:"m4"},[t._v("x"),e("span",[t._v(t._s(a.count))])]):t._e()]),t.isNumSet(a.much)?e("div",{staticClass:"bottom-right m4"},[e("span",[t._v(t._s(a.much))]),t._v("件已售")]):t._e()])])])})),0)},x=[],A={props:{list:{type:Array,default:function(){return[]}}},methods:{chooseItem:function(t){this.$emit("chooseItem",t)},isNumSet:function(t){return t||"0"===String(t)}}},C=A,T=(a("c64f"),a("2877")),q=Object(T["a"])(C,y,x,!1,null,null,null),k=q.exports,I=a("5ac5"),M=a("fc61"),O=a("20b7"),S={components:{Popup:w["a"],DrawerItem:k},props:{message:{type:Object,default:function(){return{}}},to:{type:Object,default:function(){return{}}},wpaDetail:{type:Object,default:function(){return{}}},globalData:{type:Object,default:function(){}}},watch:{"globalData.reception":{handler:function(t){t.extuin||(this.openPop=!1)},deep:!0}},data:function(){return{openPop:!0,content:{},contentList:[],tab:[],choosedTabId:0,hasNext:!1,isGroupType:!0,isShowLoading:!1,currentPage:0,showNoMore:!1}},mounted:function(){var t,e,a=this;setTimeout((function(){a.openPop=!0}),400);var n=this.message.content.content.contentData,i=n.contentList,s=void 0===i?[]:i,o=n.tab,c=void 0===o?[]:o,r=n.currentPage;this.content=null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.content,this.hasNext=null===(e=this.content.contentData)||void 0===e?void 0:e.hasNext,this.contentList=s,this.tab=c,this.choosedTabId=c[0]&&c[0].tabId,this.isGroupType=5===this.content.templateId,this.currentPage=r},methods:{switchTab:function(t){t.tabId!==this.choosedTabId&&(this.choosedTabId=t.tabId,this.contentList=[],this.currentPage=0,this.loadMore())},chooseItem:function(t){this.openPop=!1,I["a"].sendQDXMLMessage({qdxml:{content:Object(M["a"])(t)}},null,{robot_ctrl:{str_ext2robot:JSON.stringify(Object(o["a"])(Object(o["a"])({},t),{},{extRobotType:2}))}})},loadMore:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a,n,s,o,c,r,l,d,u,f,m,h,g,p,b,v,_,w,y,x,A,C,T,q,k;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.hasNext=!1,t.isShowLoading=!0,a=t.message.content.content,n=a.questionId,s=void 0===n?"":n,o=a.domain,c=void 0===o?"":o,r=a.intent,l=void 0===r?"":r,d=a.pageSize,u=t.message.crm,f=u.msg_webim_extra_data,m=f.bytes_wpaid,h=void 0===m?"":m,g=f.uint64_robotid,p=void 0===g?"":g,b=u.str_session_id,v={questionId:s,domain:c,intent:l,tabId:t.choosedTabId,pageSize:d,currentPage:t.currentPage+1,robotId:p,sessionId:b,wpaId:h,corpUin:t.wpaDetail.kfuin,visitId:t.to.user_id,channelType:3},e.next=7,Object(O["a"])(v);case 7:if(_=e.sent,w=_.code,y=_.msg,x=_.data,t.isShowLoading=!1,0!==+w){e.next=22;break}if(x.contentData){e.next=15;break}return t.showNoMore=!0,t.hasNext=!1,e.abrupt("return");case 15:A=x.contentData,C=A.contentList,T=void 0===C?[]:C,q=A.hasNext,k=A.currentPage,t.contentList=t.contentList.concat(T),t.currentPage=k,t.hasNext=q,t.showNoMore=!q,e.next=23;break;case 22:t.$Toast(y||"更多数据加载失败");case 23:case"end":return e.stop()}}),e)})))()}}},D=S,j=(a("e2ac"),Object(T["a"])(D,v,_,!1,null,"1dd8697c",null)),P=j.exports,E=a("f5db"),F=a("19d3"),L=a("e395"),R=a("ae03"),N=a("97e5"),B=a("5505");function G(t){return R["a"].post(N["q"],t)}function Q(t){var e,a,n,i=null!==(e=null===t||void 0===t||null===(a=t.msg_send_req)||void 0===a||null===(a=a.msg_send_msg)||void 0===a||null===(a=a.msg_msg_head)||void 0===a||null===(a=a.msg_third_app_info)||void 0===a||null===(a=a.bytes_third_app_buf)||void 0===a||null===(a=a.bytes_crm_buf)||void 0===a||null===(a=a.msg_attributes_info)||void 0===a?void 0:a.str_qidian_msg_unique_id)&&void 0!==e?e:null;(null===(n=this.globalData)||void 0===n||null===(n=n.reception)||void 0===n?void 0:n.isRobot)&&i&&G({seqId:i,kfuin:this.wpaDetail.kfuin,robotId:this.globalData.reception.robotId,direction:1,cid:this.to.user_id,timestamp:Date.now()})}function z(t){var e;(null===(e=this.globalData)||void 0===e||null===(e=e.reception)||void 0===e?void 0:e.isRobot)&&t.str_qidian_msg_unique_id&&G({seqId:t.str_qidian_msg_unique_id,kfuin:this.wpaDetail.kfuin,robotId:this.globalData.reception.robotId,direction:2,cid:this.to.user_id,timestamp:Date.now()})}function U(t){var e=t.map((function(t){var e=Object(B["a"])();return{qidian_msg_unique_id:t.check_id||e,kfuin:Number(t.kfuin),kfext:Number(t.kfext),from_term:5,cur_mod_name:"webim_v2",next_mod_name:"c-imsdk",local_ip:"",event_time_ms:Date.now(),event_name:t.event_name||"msg_send_success",evnet_ret_code:t.evnet_ret_code||0,event_ret_msg:"",event_cost_ms:t.event_cost_ms||0,event_log_info:"",extend_info:"",gseq:t.check_id||e,channel_type:4,report_source:"webim",msg_time_ms:Math.floor(t.msg_time_ms)||Date.now(),msg_dir:t.msg_dir||"c2b"}}));return console.log("msgTracingEvent",e),R["a"].post(N["n"],{size:e.length,data:e})}var H={before:Q,after:z},Y=a("e490"),W=a("d938"),X=a("27a3"),V=a("2ccf"),J=l["b"].create();console.log("[imsdk][info]",J._sid,J._buildTime);var K={MSG_TIP:"MSG_TIP",MSG_DATETIME:"MSG_DATETIME",MSG_TYPING:"MSG_TYPING",MSG_LEAVE_FORM:"leave_form_msg",MSG_INVITE_QQ:"invite_qq_msg",MSG_ADD_QQ_CARD:"add_qq_card_msg",MSG_ROBOT_GOODS_NAV:"robot_goods_nav_msg"},Z={Sync:0,Roaming:1},$={Success:0,Sending:1,Resend:2,Invalid:3},tt={TimeOut:0,UploadFailed:1},et=0,at=Date.now();e["c"]={provide:function(){return{MsgType:K,MsgStatus:$,IMSDKType:l["b"].TYPES,OBJTYPES:l["b"].OBJTYPES,messageList:this.messageList,globalData:this.globalData,to:this.to,inIframe:this.inIframe,wpaDetail:this.innerWpaDetail,switchMsgDisplay:this.switchMsgDisplay,transferRobotMsg:this.transferRobotMsg.bind(this),voiceRecodeStatus:this.voiceRecodeStatus.bind(this)}},props:{companyInfo:{type:Object,default:function(){return{}}},inIframe:{default:!1},aioBgImg:{default:""},isShowWatermark:{default:!1},toolButtons:{default:function(){return[]}},serviceInfoShowType:{default:1},wpaDetail:{default:function(){return{kfuin:0}}},authConf:{default:function(){return{}}},inputContent:{default:""},guidanceInfo:{default:null},styleConfig:{default:function(){return{}}},showInfo:{default:function(){return{}}},readStatusSwitch:{default:!1}},data:function(){return{sourceMsg:null,sendContent:"",globalData:{playingVoice:null,reception:{},robotDelay:{switch:!1,time:0,current:null,promptOpen:!0},guidanceInfo:this.guidanceInfo,serverClientTimeDiff:0},isIMReady:!1,isLoading:!1,isMoreMessage:!1,isMoreMessageNew:!1,isMoreMessageOld:!1,roamingMsgSeq:-1,roamingOldMsgTime:-1,toSyncMsgMap:{},toNotifyMsgMap:{},seqMessageMap:new Map,messageList:[],notReadNumber:0,to:{id:0,user_id:0},authTempUserInfo:"",receptionInfo:{},employeeInfoMap:{},innerWpaDetail:{},lastFetchRoamingTime:0,isKickAlertShowing:!1,loginConfig:{},revoseMsgSeqList:[],pageVisibile:!0}},computed:{commonPayload:function(){return{user_id:this.to.user_id}},currExtuin:function(){var t=this.globalData.reception.extuin;return t||0},listBgStyle:function(){var t={};if(console.log("watermark:",this.authTempUserInfo),this.isShowWatermark){var e;try{e=JSON.parse(u["a"].decode(this.authTempUserInfo))}catch(n){}if(e&&e.nickname){var a="data:image/svg+xml,%3Csvg width='135' height='135' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='50%25' y='50%25' font-size='14' fill-opacity='0.2' text-anchor='middle' dominant-baseline='middle' transform='rotate(-45, 100 100)'%3E".concat(e.nickname,"%3C/text%3E%3C/svg%3E");t.background='url("'.concat(a,'")')}}else this.aioBgImg&&(t.backgroundImage="url(".concat(this.aioBgImg,")"));return t}},watch:{toSyncMsgMap:{deep:!0,handler:function(t){var e=t[this.to.id];if(e||console.warn("☹️☹️☹️☹️☹️☹️===>msg_kfuin_error",Object.keys(t),this.to.id),e&&e.length>0){var a,n=Object(c["a"])(e);try{for(n.s();!(a=n.n()).done;){var i=a.value;i.to===this.to.id?(Object.assign(i,{c2bSyncFromOtherClient:!0}),this.addMessageList(i,Z.Sync,!0)):i.from===this.to.id?this.addMessageList(i,Z.Sync,!1):console.warn("☹️☹️☹️☹️☹️☹️===>msg_kfuin_error",Object.keys(t),this.to.id),console.log("getScrollBottom",Object(d["a"])()),Object(d["a"])()<d["b"]&&this.scrollToBottom(!0,50)}}catch(r){n.e(r)}finally{n.f()}var s=Object(o["a"])({},t);s[this.to.id]=[],this.toSyncMsgMap=s}}},toNotifyMsgMap:{deep:!0,handler:function(t){var e=t[this.to.id];if(e&&e.length>0){var a,n=Object(c["a"])(e);try{for(n.s();!(a=n.n()).done;){var i=a.value;this.showTipMessage({message:i.content})}}catch(r){n.e(r)}finally{n.f()}var s=Object(o["a"])({},t);s[this.to.id]=[],this.toNotifyMsgMap=s}}},inputContent:{immediate:!0,handler:function(t){this.sendContent=t}},sendContent:function(t){this.$emit("update:inputContent",t)},messageList:{deep:!0,handler:function(t){this.$emit("update:messageList",t),this.removeIncomingTip()}},"globalData.reception":{deep:!0,handler:function(t,e){this.$emit("update:reception",t);var a=e&&e.robotId,n=t.robotId,i=t.isRobot;i?n&&n!==a&&this.fetchDelayConfig(n):this.globalData.robotDelay={switch:!1,time:0,current:null,promptOpen:!0}}},notReadNumber:function(t){this.$emit("update:notReadNumber",t)},wpaDetail:{immediate:!0,handler:function(t){Object.assign(this.innerWpaDetail,t),this.innerWpaDetail=t}},pageVisibile:{immediate:!0,handler:function(t){var e=this;console.log("[pageVisibile]",t),t&&setTimeout((function(){e.isIMReady&&e.setMsgAllRead()}),1500)}}},created:function(){var t=this;I["a"].scrollToBottom=this.scrollToBottom.bind(this),I["a"].sendTextMessage=this.sendTextMessage.bind(this),I["a"].sendQDMenuMessage=this.sendQDMenuMessage.bind(this),I["a"].sendOnlyInvisibleMessage=this.sendOnlyInvisibleMessage.bind(this),I["a"].createLeaveMessage=this.createLeaveMessage.bind(this),I["a"].showTipMessage=this.showTipMessage.bind(this),I["a"].$PictureViewer=this.$PictureViewer,I["a"].sendQDXMLMessage=this.sendQDXMLMessage.bind(this),I["a"].addMessageList=this.addMessageList.bind(this),I["a"].checkIfNeedScrollToBottom=this.checkIfNeedScrollToBottom.bind(this),I["a"].addSendContent=this.addSendContent.bind(this),I["a"].sendLangTip=this.sendLangTip.bind(this),I["a"].setLangRequest=this.setLangRequest.bind(this),this.storageMessageForTest(),document.addEventListener("visibilitychange",(function(){t.pageVisibile="visible"===document.visibilityState}))},mounted:function(){this.customReport({method:"AIO_MOUNTED",message:this.wpaDetail,referrer:document.referrer},"webim"),V["a"].report(this.customReport),this.setQdMonitor(),this.checkIfNeedReconnect()},beforeDestroy:function(){this.removeListener()},methods:{addSendContent:function(t){this.sendContent=this.sendContent+t},startIM:function(t){var e=this;return Object(s["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.customReport({method:"AIO_STARTIM",message:e.wpaDetail},"webim"),e.authConf.authType?e.isMoreMessageOld=!0:e.isMoreMessageOld=!1,e.createIncomingTip(),e.login(t),e.removeListener(),J.on(l["b"].EVENT.MESSAGE_RECEIVED,e.onNewMessage),J.on(l["b"].EVENT.NOTIFY_PUSH,e.onPushNotify),J.on(l["b"].EVENT.SDK_READY,e.onImsdkReady),J.on(l["b"].EVENT.SESSION_START,e.onSessionStart),J.on(l["b"].EVENT.KICKED_OUT,e.onKickedOut),J.on(l["b"].EVENT.LOCAL_NOTIFY,e.onLocalNotify),J.on(l["b"].EVENT.TYPING,e.onTyping),J.on(l["b"].EVENT.RECEPTION_CHANGE,e.onReceptionChange),J.on(l["b"].EVENT.INVITE_QQ,e.onInviteQQ),J.on(l["b"].EVENT.ADD_QQ_CARD,e.onReceiveQQCard),J.on(l["b"].EVENT.NOTIFY_RTC,e.onNotifyRtc),J.on(l["b"].EVENT.ERROR,e.onError),J.on(l["b"].EVENT.READ_RECEIPT,e.onMsgReadReceipt);case 18:case"end":return a.stop()}}),a)})))()},login:function(t){var e=Object(o["a"])({},this.wpaDetail);if(this.to.id=Number(e.kfuin),t.aid)try{this.to.user_id=t.aid,this.authTempUserInfo=t.userInfo,l["c"].loginQDIM({aid:t.aid,d2:t.d2,kfuin:Number(e.kfuin),appid:t.appid,wpaId:e.wpaId},{imsdk:J,Instant:window.Instant,channelType:4,cosBucket:0})}catch(a){this.showTipMessage({message:a.message})}else this.showTipMessage({message:t.message||"登录失败，错误码为".concat(t.code)})},setQdMonitor:function(){var t=this;window.Instant.setLogReport((function(e){t.customReport(e,"instant上报")}));var e=function(e){t.customReport(e,"imsdk上报")};J.setLogReport(e),l["c"].setLogReport(e)},customReport:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"webim";console.log("[customReport]",t);var a=new Date,n="".concat(a.toLocaleString(),".").concat(a.getMilliseconds());window.QdMonitor&&window.QdMonitor.log({name:e,ext1:"".concat(n,"|").concat(JSON.stringify(t)),ext2:this.to.user_id||""})},getSDKIntance:function(){return{imsdk:J,SDKUtils:l["c"],IMSDK:l["b"],MsgType:K}},onCallFunc:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var i=e[0],s=e.slice(1);"function"===typeof this[i]?(this[i].apply(this,Object(n["a"])(s)),this.customReport({method:"[onCallFunc][success]",message:{args:e}},"webim")):(console.warn("[onCallFunc-miss]",e),this.customReport({method:"[onCallFunc][fail]",message:{args:e}},"webim"))},imageUploadWithCopy:function(t){var e;null===(e=this.$refs)||void 0===e||null===(e=e.imageUploader)||void 0===e||e.onHandleFiles(t)},imageUpload:function(){var t;null===(t=this.$refs)||void 0===t||null===(t=t.imageUploader)||void 0===t||t.click()},fileUpload:function(){var t;null===(t=this.$refs)||void 0===t||null===(t=t.fileUploader)||void 0===t||t.click()},robotTransfer:function(){var t={kfuin:this.wpaDetail.kfuin,robotid:this.globalData.reception.robotId,channel:3,visitid:this.to.user_id,transferType:1,transferReason:5,action:5},e=Y["a"]?2000002:1000003,a="mqqwpa://im/qdmenu?svrId=".concat(e,"&ext=").concat(JSON.stringify(t));Object(E["b"])(a)},closeSession:function(){this.$Confirm({title:this.$t("chat_close_session_confirm")}).then((function(){var t={};J.closeSession(t)})).catch((function(){}))},exitQueue:function(){var t=this;this.$Confirm({title:this.$t("exit_queue_confirm")}).then((function(){var e={kfuin:t.wpaDetail.kfuin,reception:t.globalData.reception,cid:t.to.user_id};l["c"].exitQueue(e).then((function(e){e.code?t.showTipMessage({message:t.$t("exit_queue_fail")}):(t.showTipMessage({message:t.$t("exit_queue_success")}),t.globalData.reception.inWaitPool=!1)})).catch((function(){t.showTipMessage({message:t.$t("exit_queue_fail")})}))})).catch((function(){}))},activeFeedback:function(){var t=this,e={cid:this.to.user_id};J.activeFeedback(e).then((function(){})).catch((function(e){t.showTipMessage({message:e.message})}))},previewMsgCommongData:function(){var t=Date.now();return{status:$.Sending,time:t,to:this.to.id}},removeListener:function(){J.off(l["b"].EVENT.MESSAGE_RECEIVED,this.onNewMessage),J.off(l["b"].EVENT.NOTIFY_PUSH,this.onPushNotify),J.off(l["b"].EVENT.SDK_READY,this.onImsdkReady),J.off(l["b"].EVENT.SESSION_START,this.onSessionStart),J.off(l["b"].EVENT.KICKED_OUT,this.onKickedOut),J.off(l["b"].EVENT.LOCAL_NOTIFY,this.onLocalNotify),J.off(l["b"].EVENT.TYPING,this.onTyping),J.off(l["b"].EVENT.RECEPTION_CHANGE,this.onReceptionChange),J.off(l["b"].EVENT.INVITE_QQ,this.onInviteQQ),J.off(l["b"].EVENT.ADD_QQ_CARD,this.onReceiveQQCard),J.off(l["b"].EVENT.NOTIFY_RTC,this.onNotifyRtc),J.off(l["b"].EVENT.ERROR,this.onError),J.off(l["b"].EVENT.READ_RECEIPT,this.onMsgReadReceipt)},onNewMessage:function(t){var e=this;console.log("[onNewMessage]",t);for(var a=0,n=Object.keys(t);a<n.length;a++){var i=n[a],s=t[i];this.toSyncMsgMap[i]&&(s=this.toSyncMsgMap[i].concat(s)),this.$set(this.toSyncMsgMap,i,s);var o=s.filter((function(t){var e,a=null===t||void 0===t||null===(e=t.msgHead)||void 0===e||null===(e=e.msg_third_app_info)||void 0===e||null===(e=e.bytes_third_app_buf)||void 0===e||null===(e=e.bytes_crm_buf)||void 0===e?void 0:e.str_current_qidian_msg_unique_id;return a}));o.length>0&&U(o.map((function(t){var a,n;return{check_id:null===t||void 0===t||null===(a=t.msgHead)||void 0===a||null===(a=a.msg_third_app_info)||void 0===a||null===(a=a.bytes_third_app_buf)||void 0===a||null===(a=a.bytes_crm_buf)||void 0===a?void 0:a.str_current_qidian_msg_unique_id,kfuin:e.wpaDetail.kfuin,kfext:null===(n=e.globalData)||void 0===n||null===(n=n.reception)||void 0===n?void 0:n.extuin,event_name:"msg_receive_success",event_cost_ms:0,msg_time_ms:t.time,msg_dir:"b2c"}})))}},onPushNotify:function(t){console.log("[onPushNotify]",t);for(var e=0,a=Object.keys(t);e<a.length;e++){var n=a[e],i=t[n];this.toNotifyMsgMap[n]&&(i=this.toNotifyMsgMap[n].concat(i)),this.$set(this.toNotifyMsgMap,n,i)}},onLocalNotify:function(t){this.showTipMessage({message:t.content||this.$t(t.type)})},onTyping:function(t){var e,a=this,n=t||{},i=n.typing;if(console.log("onTyping",i),this.currExtuin){var s=6e4,o=function(){a.typingTimer=setTimeout((function(){a.isLastIsTypingMsg()&&a.messageList.pop()}),s)};if(clearTimeout(this.untypingTimer),i){if(this.isLastIsTypingMsg())return this.typingTimer&&clearTimeout(this.typingTimer),void o();var c=r["a"].generateUUID(),l={seq:c,type:K.MSG_TYPING,time:Date.now(),crm:{msg_webim_extra_data:{uint64_extuin:null===(e=this.globalData)||void 0===e||null===(e=e.reception)||void 0===e?void 0:e.extuin}}};this.addMessageList(l,Z.Sync,!1),o(),Object(d["a"])()<d["b"]&&this.scrollToBottom()}else this.untypingTimer=setTimeout((function(){a.isLastIsTypingMsg()&&(a.messageList.pop(),a.typingTimer&&clearTimeout(a.typingTimer))}),1e3)}},getEmployeeInfo:function(t){var e=this;return Object(s["a"])(Object(i["a"])().mark((function a(){var n,s;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.employeeInfoMap[t]){a.next=2;break}return a.abrupt("return",e.employeeInfoMap[t]);case 2:return n=e.wpaDetail.kfuin,s={kfext:t,kfuin:n,fields:["employeeInfo"]},a.next=6,Object(L["a"])(s,(function(a){var n=a.employeeInfo,i=void 0===n?{}:n,s=i.code,o=i.data;0===s&&(e.employeeInfoMap[t]=o)}));case 6:return a.abrupt("return",e.employeeInfoMap[t]);case 7:case"end":return a.stop()}}),a)})))()},onInviteQQ:function(t){var e=this;return Object(s["a"])(Object(i["a"])().mark((function n(){var s;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==e.guidanceInfo.guidanceQQType){n.next=4;break}e.createQQInviteCard({avatar:e.companyInfo.companyLogo||a("7ea6"),name:e.companyInfo.companyName||"",qq:t.data.uint64_kfuin||""},{dir:"b2c"}),n.next=8;break;case 4:return n.next=6,e.getEmployeeInfo(t.data.uint64_ext_uin);case 6:s=n.sent,e.createQQInviteCard({avatar:t.data.string_qq_pic_url||a("7ea6"),name:t.data.string_show_name||"",corpName:s&&s.company||"",position:s&&s.position||"",qq:t.data.uint64_ext_uin||""},{dir:"b2c"});case 8:case"end":return n.stop()}}),n)})))()},onReceiveQQCard:function(t){console.log("[sc",t),this.createAddQQFriendCard({avatar:t.data.string_pic_url||a("7ea6"),name:t.data.string_show_name||"",qq:t.data.uint64_add_friend_uin||""},{dir:"b2c"})},onReceptionChange:function(t){console.log("[onReceptionChange]",t),this.customReport({method:"[onReceptionChange]",message:{reception:t}}),this.globalData.reception=t},fetchDelayConfig:function(t){var e=this;this.$ajax.post("".concat(N["t"],"?corpUin=").concat(this.wpaDetail.kfuin),{corpUin:this.wpaDetail.kfuin,robotId:t}).then((function(t){var a=t.data,n=a.code,i=a.data,s=void 0===i?{}:i;if(0===+n){var o=s.maximum,c=s.promptOpen;e.globalData.robotDelay.time=o,e.globalData.robotDelay.switch=s.switch,e.globalData.robotDelay.promptOpen=c}})).catch((function(t){console.log("fetchDelayConfig_catch",t)}))},isLastIsTypingMsg:function(){var t=this.messageList[this.messageList.length-1];return t&&t.type===K.MSG_TYPING},onImsdkReady:function(){this.initQidianDA();var t={customParams:h.a.stringify(Object(o["a"])({vId:X["a"].getItem("tencentSig")},this.wpaDetail))};this.authConf.authType&&(t.userInfo=this.authTempUserInfo),J.clientIncoming(t),this.$emit("ready"),this.postDisplayedCount()},postDisplayedCount:function(){var t=this.wpaDetail,e=t.wpaId,a=t.kfuin,n=this.loginConfig,i=n.aid,s=n.appid,o=n.d2;window.parent.postMessage({act:"ON_IMSDK_READY",data:{aid:i,d2:o,appid:s,kfuin:a,wpaId:e}},"*")},onSessionStart:function(){var t,e,a=this;(Object(W["a"])(this.wpaDetail.kfuin,"NOT_LOAD_HISTORY_MSG")||this.onHistoryMessageClick(!0,!0),this.isIMReady=!0,J.setMessageRead({to:this.to.id}),this.$emit("sessionStart"),this.updataIncomingTip(this.$t("chat_incoming_success")),setTimeout((function(){a.removeIncomingTip(!0)}),500),I["a"].translate)&&(I["a"].translate.isTranslate=null===this||void 0===this||null===(t=this.showInfo)||void 0===t?void 0:t.isTranslate);I["a"].translate&&I["a"].translate.translateSwitch&&(this.sendLangTip(),this.setLangRequest(null===this||void 0===this||null===(e=this.$i18n)||void 0===e?void 0:e.locale))},onKickedOut:function(){var t=this;this.isKickAlertShowing=!0,this.$emit("kickedOut"),this.$Alert({text:"您打开了多个会话页面，可激活当前页面继续咨询",alertText:"继续咨询"}).then((function(){J.reConnect(),t.isKickAlertShowing=!1})).catch((function(){}))},onNotifyRtc:function(t){console.log("[onNotifyRtc]",t),this.$emit("notifyRtc",t)},onError:function(t){console.log("[onError]",t);var e=t.code,a={timeout:[-324012],d2Error:[-10002,-10007,-10008,-1000002],d2Expire:[-10001,-1000001]};Object.assign(t,{type:""}),Object.keys(a).forEach((function(n){a[n].indexOf(e)>-1&&Object.assign(t,{type:n})})),"timeout"===t.type&&this.showIncomingTimeout(),this.$emit("error",t)},onMsgReadReceipt:function(){this.getMessageReadReceiptResult()},addMessageList:function(t,e,a){var n,i,s=this;if(this.isRobotReversoMsg(t)){if(e!==Z.Sync)return;this.revoseMsgSeqList.push(t.seq)}if(t.type!==l["b"].TYPES.MSG_REVOKE){if(!this.seqMessageMap.has(t.seq))if(this.isRobotDrawerMsg(t)&&e===Z.Sync)this.showRobotDrawer(t);else if(t.type!==l["b"].TYPES.MSG_ROBOT_FORM){this.isLastIsTypingMsg()&&(this.messageList.pop(),this.typingTimer&&clearTimeout(this.typingTimer)),e===Z.Sync&&Object(d["a"])()>d["b"]&&![K.MSG_DATETIME,K.MSG_TYPING].find((function(e){return e===t.type}))&&(this.notReadNumber+=1);var o={seq:t.seq,type:t.type,time:t.time,status:"undefined"!==typeof t.status?t.status:$.Success,mine:a,crm:t.crm,fromHisotry:e===Z.Roaming,msgHead:t.msgHead,msgBody:t.msgBody,compressed:(null===t||void 0===t?void 0:t.compressed)||(null===t||void 0===t||null===(n=t.content)||void 0===n?void 0:n.compressed)||0,isOldRoamingMsg:t.isOldRoamingMsg,c2bSyncFromOtherClient:t.c2bSyncFromOtherClient||!1};switch(o=this.checkAndSetMsgReadReceipt(o,e,a),this.pageVisibile&&e===Z.Sync&&!a&&setTimeout((function(){s.setMsgAllRead(o)}),0),t.type){case l["b"].TYPES.MSG_TEXT:Object.assign(o,{content:t.content});break;case l["b"].TYPES.MSG_FACE:Object.assign(o,{content:[{index:t.index,content:t.content,type:l["b"].TYPES.MSG_FACE}],type:l["b"].TYPES.MSG_MIX});break;case l["b"].TYPES.MSG_MEDIA:Object.assign(o,{mediaType:t.media_type,mediaUrl:t.media_url});break;case l["b"].TYPES.MSG_IMAGE:Object.assign(o,{path:t.content,uuid:t.uuid,imageName:t.name,imageSize:t.size,imageWidth:t.width,imageHeight:t.height});break;case l["b"].TYPES.MSG_LONG_MSG:Object.assign(o,{path:t.content,uuid:t.uuid,previewContent:t.previewContent});break;case l["b"].TYPES.MSG_IMAGE_TEXT:Object.assign(o,{path:t.path,uuid:t.uuid,content:t.content});break;case l["b"].TYPES.MSG_QDXML:Object.assign(o,{path:t.content.path,brief:t.content.brief,content:t.content.content});break;case l["b"].TYPES.MSG_ROBOT_NAV:Object.assign(o,{path:t.content.path,content:t.content.content});break;case l["b"].TYPES.MSG_FILE:Object.assign(o,{path:t.content,uuid:t.uuid,fileName:t.name,fileSize:t.size,fileFormat:t.format});break;case l["b"].TYPES.MSG_VOICE:Object.assign(o,{path:t.content,uuid:t.uuid,length:t.length,fileSize:t.size,fileName:t.name});break;case l["b"].TYPES.MSG_MIX:Object.assign(o,{content:t.content});break;case l["b"].TYPES.MSG_GRAY:Object.assign(o,{content:t.content});break;case l["b"].TYPES.MSG_FEED_BACK:Object.assign(o,{content:t.content});break;case l["b"].TYPES.MSG_THIRD_MSG:Object.assign(o,{content:t.content,hideBInfo:[60].indexOf(t.content.crmFlag)>-1});break;case K.MSG_LEAVE_FORM:case l["b"].TYPES.MSG_ROBOT:Object.assign(o,{content:t.content,isNeedHide:e===Z.Sync&&this.isBubbleDelayShow()}),o.content&&18===o.content.type&&Object.assign(o,{type:K.MSG_ROBOT_GOODS_NAV,content:t.content,isNeedHide:!1,hideBInfo:!0});break;case K.MSG_LEAVE_FORM:Object.assign(o,{hideBInfo:!0});break;case K.MSG_INVITE_QQ:Object.assign(o,{hideBInfo:!0});break;default:Object.assign(o,{content:t.content})}if(1!==t.revoke&&1!==(null===t||void 0===t||null===(i=t.msgHead)||void 0===i?void 0:i.uint32_status)||(o.type=l["b"].TYPES.MSG_REVOKE),a||(this.$set(o,"extuinInfo",Object(g["b"])()),this.getExtuinInfo(o,(function(t){s.$set(o,"extuinInfoReal",t),s.serviceInfoShowType-0===2&&s.$set(o,"extuinInfo",t)}))),t.seq){this.seqMessageMap.set(t.seq,o);var c=12e4;e===Z.Sync?(t.time-et>c&&t.type!==K.MSG_TYPING&&(this.messageList.push({seq:r["a"].generateUUID(),type:K.MSG_DATETIME,time:t.time}),et=t.time),this.messageList.push(o),a?this.$emit("sendC2BMessage",o):this.$emit("receiveNewMessage",o)):e===Z.Roaming&&(this.messageList.unshift(o),at-t.time>c&&(this.messageList.unshift({seq:r["a"].generateUUID(),type:K.MSG_DATETIME,time:t.time}),at=t.time))}}else this.showRobotForm(t)}else{var u=t.seq;if(this.seqMessageMap.has(u)){var f=this.seqMessageMap.get(u);f.type=l["b"].TYPES.MSG_REVOKE}}},isRobotReversoMsg:function(t){return t.type===l["b"].TYPES.MSG_ROBOT&&7===t.content.type&&t.content.content&&14===t.content.content.type},checkAndSetMsgReadReceipt:function(t,e,a){var n=[l["b"].TYPES.MSG_RTC],i=Object(o["a"])({},t);return n.indexOf(i.type)>-1||(a?(i.readStatusSwitch=this.readStatusSwitch,e===Z.Sync&&(this.globalData.reception.extuin||this.globalData.reception.inWaitPool)?(i.hasReadReceiptTag=!0,i.hasBeenRead=!1):(e!==Z.Sync||i.c2bSyncFromOtherClient)&&Object.assign(i,this.getMessageReadReceiptFromCrm(i.crm))):Object.assign(i,this.getMessageReadReceiptFromCrm(i.crm))),i},getMessageReadReceiptFromCrm:function(t){var e=(null===t||void 0===t?void 0:t.msg_control_info)||{},a=e.int32_read_status;return{hasReadReceiptTag:!!a}},setMessageReadReceiptToCrm:function(t,e){return t.hasReadReceiptTag&&(e=J.setMessageCrmData(e,{msg_control_info:{int32_read_status:1}})),e},setMsgAllRead:function(t){var e=this;if(console.log("[setMsgAllRead]","check"),t||this.messageList){var a;if(t)a=t;else{var n=this.messageList.filter((function(t){return!t.mine&&t.type!==K.MSG_TYPING}));a=n[n.length-1]}if(a&&a.type!==K.MSG_TYPING){console.log("[setMsgAllRead]",a.seq);var i={clientTermType:"c",cid:this.to.user_id,seq:a.seq,time:Math.floor(a.time/1e3)};this.customReport({method:"[setMsgAllRead][request]",message:i}),l["c"].reportMessageReadReceipt(i).then((function(t){var a=t.data;e.customReport({method:"[setMsgAllRead][response]",message:a})})).catch((function(t){e.customReport({method:"[setMsgAllRead][error]",message:t})}))}else console.log("[setMsgAllRead]","0000000000")}},getMessageReadReceiptResult:function(){var t=this;this.customReport({method:"[getMessageReadReceipt][request]"}),l["c"].getMessageReadReceipt({cid:this.to.user_id}).then((function(e){var a=e.data;if(t.customReport({method:"[getMessageReadReceipt][request]",message:a}),a&&!a.code){var n,i=null===a||void 0===a||null===(n=a.data)||void 0===n||null===(n=n.get_msg_read_report_rsp)||void 0===n||null===(n=n.b_read_info)||void 0===n?void 0:n.uint64_time;i-=0,i+=1,i*=1e3,t.messageList.forEach((function(e){i&&e.time<=i?t.$set(e,"hasBeenRead",!0):t.$set(e,"hasBeenRead",!1)}))}})).catch((function(e){t.customReport({method:"[getMessageReadReceipt][error]",message:e})}))},showTipMessage:function(t){if(!t.info||!t.info.id){var e={seq:r["a"].generateUUID(),type:K.MSG_TIP,content:t.message,time:Date.now()};return this.messageList.push(e),this.scrollToBottom(),e}var a=t.info.id,n=this.seqMessageMap.get(a);this.$set(n,"status",$.Resend),this.$set(n,"resendType",tt.UploadFailed),this.$set(n,"resendInfo",t.info),this.$set(n,"resendData",t.file)},createQQInviteCard:function(t,e){var a=this,n=Object(o["a"])(Object(o["a"])({seq:l["c"].generateUUID(),type:K.MSG_INVITE_QQ},this.previewMsgCommongData()),{},{status:$.Success,hideBInfo:!0,msgBody:Object(o["a"])({},t)});this.addMessageList(n,Z.Sync,"c2b"===e.dir),setTimeout((function(){a.scrollToBottom()}))},createAddQQFriendCard:function(t,e){var a,n=this,i=Object(o["a"])(Object(o["a"])({seq:l["c"].generateUUID(),type:K.MSG_ADD_QQ_CARD},this.previewMsgCommongData()),{},{status:$.Success,crm:{msg_webim_extra_data:{uint64_extuin:null===(a=this.globalData)||void 0===a||null===(a=a.reception)||void 0===a?void 0:a.extuin}},msgBody:Object(o["a"])({},t)});this.addMessageList(i,Z.Sync,"c2b"===e.dir),setTimeout((function(){n.scrollToBottom()}))},createLeaveMessage:function(t,e){var a=this,n=Object(o["a"])(Object(o["a"])({seq:l["c"].generateUUID(),type:K.MSG_LEAVE_FORM},this.previewMsgCommongData()),{},{status:$.Success,hideBInfo:!0,msgBody:Object(o["a"])({},t)});this.addMessageList(n,Z.Sync,"c2b"===e.dir),setTimeout((function(){a.scrollToBottom()}))},sendTextMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("*#*#180805#*#*"!==t)if("*#*#180808#*#*"!==t){if("*#*#365612#*#*"===t)return localStorage.clear(),void window.location.reload(!0);var a=500;if("string"===typeof t){if(t.length>a)return void this.sendLongTextMessage(t);t=r["a"].coverEmojiIndex2ImgMessage(t)}var n=r["a"].generateUUID(),i=Object(o["a"])({seq:n},this.previewMsgCommongData());if(1===t.length){var s=t[0];"text"===s.type?(i.type=l["b"].TYPES.MSG_TEXT,i.content=s.content):"media_resources"===s.type?(i.type=l["b"].TYPES.MSG_MEDIA,i.media_type=s.mediaType,i.media_url=s.mediaUrl):"face"===s.type&&(i.type=l["b"].TYPES.MSG_MIX,i.content=t)}else i.type=l["b"].TYPES.MSG_MIX,i.content=t;this.addMessageList(i,Z.Sync,!0),this.deleteRevoseMsg(),this.scrollToBottom(),i=this.seqMessageMap.get(n);var c={qd_source_msg:this.sourceMsg,str_lang:this.$i18n.locale};Object.keys(e).length&&Object.assign(c,e);var d=J.createTextMessage({to:this.to.id,payload:Object(o["a"])(Object(o["a"])({},this.commonPayload),{},{text:t,crmData:c})});this.sourceMsg&&this.$set(i,"$_sourceMsg",this.sourceMsg),this.sourceMsg=null,this.innerSendMessage(i,d)}else window.location.reload(!0);else this.$Alert('<div style="font-size:12px;">'.concat(JSON.stringify({wpaDetail:this.wpaDetail,to:this.to,reception:this.globalData.reception}),"</div>"))},onPreviewImage:function(t){var e=Object(o["a"])(Object(o["a"])({type:l["b"].TYPES.MSG_IMAGE},this.previewMsgCommongData()),{},{seq:t.id,content:t.path,uuid:t.uuid,name:t.name,size:t.size,width:t.width,height:t.height});this.addMessageList(e,Z.Sync,!0),this.scrollToBottom()},onSendImageMessage:function(t){if(0===t.code){var e=t.info,a=e.id,n=this.seqMessageMap.get(a);Object.assign(n,{tempPath:e.path});var i=J.createImageMessage({to:this.to.id,payload:Object(o["a"])(Object(o["a"])({},this.commonPayload),{},{image:{uuid:e.uuid,path:e.path,name:e.name,size:e.size,width:e.width,height:e.height}})});this.innerSendMessage(n,i)}else this.showTipMessage(t)},onPreviewFile:function(t){var e=Object(o["a"])(Object(o["a"])({type:l["b"].TYPES.MSG_FILE},this.previewMsgCommongData()),{},{seq:t.id,content:t.path,uuid:t.uuid,name:t.name,size:t.size,format:t.format});this.addMessageList(e,Z.Sync,!0),this.scrollToBottom()},onFileProgress:function(t,e,a){var n=t.id,i=this.seqMessageMap.get(n);this.$set(i,"uploadProgress",e),this.$set(i,"progressController",a)},onSendFileMessage:function(t){if(0===t.code){var e=t.info,a=e.id,n=this.seqMessageMap.get(a);Object.assign(n,{uuid:e.uuid,path:e.path});var i=J.createFileMessage({to:this.to.id,payload:Object(o["a"])(Object(o["a"])({},this.commonPayload),{},{file:{uuid:e.uuid,path:e.path,name:e.name,size:e.size,format:e.format}})});this.innerSendMessage(n,i)}else this.showTipMessage(t)},onPreviewVoice:function(t){var e=Object(o["a"])(Object(o["a"])({type:l["b"].TYPES.MSG_VOICE},this.previewMsgCommongData()),{},{seq:t.id,content:t.path,uuid:t.uuid,name:t.name,size:t.size,format:t.format,length:t.length});this.addMessageList(e,Z.Sync,!0),this.scrollToBottom()},onSendVoiceMessage:function(t){if(0===t.code){var e=t.info,a=e.id,n=this.seqMessageMap.get(a);Object.assign(n,{uuid:e.uuid,path:e.path});var i=J.createVoiceMessage({to:this.to.id,payload:Object(o["a"])(Object(o["a"])({},this.commonPayload),{},{ptt:{uuid:e.uuid,path:e.path,name:e.name,size:e.size,format:0,length:e.length}})});this.innerSendMessage(n,i)}else this.showTipMessage(t)},uploadLongT:function(t){return Object(s["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["c"].uploadLongText(t).catch((function(){return Promise.reject(null)}));case 2:if(a=e.sent,a.code||!a.info||!a.info.uuid){e.next=5;break}return e.abrupt("return",a.info.uuid);case 5:return e.abrupt("return",Promise.reject(null));case 6:case"end":return e.stop()}}),e)})))()},sendQDXMLMessage:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.qdxml&&t.qdxml.content){var i=[],s=t.qdxml;s&&(s.resid?i.push(Promise.resolve(s.resid)):s.content&&i.push(this.uploadLongT(s.content)));var c=t.text;c&&(c.resid?i.push(Promise.resolve(c.resid)):c.content&&i.push(this.uploadLongT(c.content)));var r,d=null,u={};a?r=a:(d=l["c"].generateUUID(),u=Object(o["a"])(Object(o["a"])({type:l["b"].TYPES.MSG_QDXML},this.previewMsgCommongData()),{},{seq:d,content:{path:"",brief:s.brief,content:s.content}}),this.addMessageList(u,Z.Sync,!0),r=this.seqMessageMap.get(d),setTimeout((function(){e.scrollToBottom()}),200)),Promise.all(i).then((function(t){var a="";t[0]&&(a={str_control_msg_resid:t[0],str_msg_brief:s.brief||"",bytes_structure_content:s.content||""});var i="";t[1]&&(i={string_res_id:t[1],string_msg_brief:c.brief||"",string_msg_content:c.content||""});var l={};Object.keys(n).length&&Object.assign(l,n);var d=J.createQDXMLMessage({to:e.to.id,payload:Object(o["a"])(Object(o["a"])({},e.commonPayload),{},{qdXml:{msg_common_control_msg_info:a,msg_third_party_msg_info:i},crmData:l})});e.innerSendMessage(r,d)})).catch((function(){e.$set(r,"status",$.Invalid),e.$set(r,"resendType",tt.UploadFailed),e.$set(r,"resendData",t)}))}},sendQDMenuMessage:function(t){var e=this;return J.sendInnerClickEvent(t).then((function(a){var n,i;3111629===(null===a||void 0===a||null===(n=a.msg_ret_info)||void 0===n?void 0:n.uint32_ret_code)&&(e.customReport({method:"[sendQDMenuMessage-error]",message:t,code:null===a||void 0===a||null===(i=a.msg_ret_info)||void 0===i?void 0:i.uint32_ret_code}),e.showTipMessage({message:"机器人会话已结束，暂不支持机器人导航点击"}));return a}))},sendLongTextMessage:function(t){var e=arguments,a=this;return Object(s["a"])(Object(i["a"])().mark((function n(){var s,c,r,d,u;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.length>1&&void 0!==e[1]?e[1]:null,c=l["c"].generateUUID(),s?r=s:(r=Object(o["a"])(Object(o["a"])({type:l["b"].TYPES.MSG_LONG_MSG},a.previewMsgCommongData()),{},{seq:c,previewContent:t}),a.addMessageList(r,Z.Sync,!0),a.scrollToBottom(),r=a.seqMessageMap.get(c)),n.next=5,a.uploadLongT(t).catch((function(){a.$set(r,"status",$.Invalid),a.$set(r,"resendType",tt.UploadFailed),a.$set(r,"resendData",t),console.log("长文本出错了",c)}));case 5:d=n.sent,console.log("我还是发送了",c),u=J.createLongTextMessage({to:a.to.id,payload:Object(o["a"])(Object(o["a"])({},a.commonPayload),{},{long_msg:{uuid:d,path:d,length:t.length,brief:t.substr(0,20)}})}),a.innerSendMessage(r,u);case 9:case"end":return n.stop()}}),n)})))()},sendOnlyInvisibleMessage:function(t){var e=r["a"].generateUUID(),a=Object(o["a"])({seq:e},this.previewMsgCommongData());a.status=$.Success,"text"===t.type&&(a.type=l["b"].TYPES.MSG_TEXT),a.content=t.content,this.addMessageList(a,Z.Sync,!0),this.scrollToBottom()},handleReplayMsgClick:function(t){var e=document.querySelector(".msg_".concat(t));console.log(e),e?(Object(F["a"])(e,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}),e.classList.add("flicker"),e.addEventListener("animationend",(function(){e.classList.remove("flicker")}),{once:!0})):this.$Toast({text:"无法定位原消息",type:"error"})},handleCopyMsg:function(t){var e=this;this.$copyText(t).then((function(){e.$Toast(e.$t("chat_add_friend_copy_success_msg"))}),(function(){e.$Toast({text:"复制失败，请重试",type:"error"})}))},replayTextFormat:function(t){return t&&t.length>30&&(t="".concat(t.substr(0,27),"...")),t},formaySummary:function(t){if(!t)return"转换错误";switch(t.type){case l["b"].TYPES.MSG_TEXT:var e=t.content;return this.replayTextFormat(e);case l["b"].TYPES.MSG_FILE:return"[文件]";case l["b"].TYPES.MSG_IMAGE:return"[图片]";case l["b"].TYPES.MSG_VOICE:return"[语音]";case l["b"].TYPES.MSG_QDXML:return"[结构化消息]";case l["b"].TYPES.MSG_IMAGE_TEXT:return"[图文消息]";case l["b"].TYPES.MSG_LONG_MSG:var a=t._processedText;return this.replayTextFormat(a);case l["b"].TYPES.MSG_MIX:var n="";return t.content.forEach((function(t){t.type===l["b"].TYPES.MSG_FACE?n+="[表情]":t.type===l["b"].TYPES.MSG_TEXT&&(n+=t.content)})),n;default:return"[未知消息类型]"}},handleReplayMsg:function(t){var e,a,n=(null===t||void 0===t||null===(e=t.extuinInfoReal)||void 0===e?void 0:e.innerName)||"",i=12,s={uint32_msg_direction:t.mine?1:2,uint64_time:parseInt(t.time,10),bytes_summary:this.formaySummary(t),str_reference_qidian_msg_unique_id:null===t||void 0===t||null===(a=t.msgHead)||void 0===a||null===(a=a.msg_third_app_info)||void 0===a||null===(a=a.bytes_third_app_buf)||void 0===a||null===(a=a.bytes_crm_buf)||void 0===a?void 0:a.str_current_qidian_msg_unique_id,str_sender_name:n.length>i?"".concat(n.substr(0,i-3),"..."):n};this.sourceMsg=s,this.scrollToBottom(!1,0)},resendMessage:function(t){var e=this,a=t.seq;if(this.$set(t,"status",$.Sending),t.resendType===tt.TimeOut){var n=null===t||void 0===t?void 0:t.check_id,i=Date.now(),s=t.resendData,o=J.resendMessage(s);o.then((function(s){var o;e.afterSendSucc(t,s),e.seqMessageMap.delete(a),U([{check_id:n,kfuin:e.wpaDetail.kfuin,kfext:null===(o=e.globalData)||void 0===o||null===(o=o.reception)||void 0===o?void 0:o.extuin,event_cost_ms:Date.now()-i,msg_time_ms:s.time}])})).catch((function(){var a;U([{check_id:n,kfuin:e.wpaDetail.kfuin,event_name:"msg_send_error",kfext:null===(a=e.globalData)||void 0===a||null===(a=a.reception)||void 0===a?void 0:a.extuin,evnet_ret_code:-1,event_cost_ms:Date.now()-i}]),e.$set(t,"status",$.Resend)}))}else t.resendType===tt.UploadFailed?(console.log("[UploadFailed]",t),t.type===l["b"].TYPES.MSG_IMAGE?this.$refs.imageUploader.uploadFile(t.resendData,t.resendInfo):t.type===l["b"].TYPES.MSG_FILE?this.$refs.fileUploader.uploadFile(t.resendData,t.resendInfo):t.type===l["b"].TYPES.MSG_VOICE?this.$refs.voiceUploader.uploadFile(t.resendData,t.resendInfo):t.type===l["b"].TYPES.MSG_QDXML?this.sendQDXMLMessage(t.resendData,t):t.type===l["b"].TYPES.MSG_LONG_MSG&&this.sendLongTextMessage(t.resendData,t)):(console.log("[resendMessage] 特殊错误，不进行重发"),this.$set(t,"status",$.Resend))},innerSendMessage:function(t,e){var a,n=this,i=t.seq;e=this.setMessageReadReceiptToCrm(t,e);var s=J.sendMessage(e);H.before.call(this,e);var o=null===(a=e)||void 0===a||null===(a=a.msg_send_req)||void 0===a||null===(a=a.msg_send_msg)||void 0===a||null===(a=a.msg_msg_head)||void 0===a||null===(a=a.msg_third_app_info)||void 0===a||null===(a=a.bytes_third_app_buf)||void 0===a||null===(a=a.bytes_crm_buf)||void 0===a?void 0:a.str_current_qidian_msg_unique_id,c=Date.now();s.then((function(a){var s,r,l;if(H.after.call(n,a),n.$set(t,"msgHead",null===(s=e)||void 0===s||null===(s=s.msg_send_req)||void 0===s||null===(s=s.msg_send_msg)||void 0===s?void 0:s.msg_msg_head),n.$set(t,"msgBody",null===(r=e)||void 0===r||null===(r=r.msg_send_req)||void 0===r||null===(r=r.msg_send_msg)||void 0===r?void 0:r.msg_msg_body),a.code){var d=a.error;n.afterSendFail(t,a,d)}else U([{check_id:o,kfuin:n.wpaDetail.kfuin,kfext:null===(l=n.globalData)||void 0===l||null===(l=l.reception)||void 0===l?void 0:l.extuin,event_cost_ms:Date.now()-c,msg_time_ms:a.time}]),n.afterSendSucc(t,a),n.seqMessageMap.delete(i)})).catch((function(e){var a;U([{check_id:o,kfuin:n.wpaDetail.kfuin,event_name:"msg_send_error",kfext:null===(a=n.globalData)||void 0===a||null===(a=a.reception)||void 0===a?void 0:a.extuin,evnet_ret_code:-1,event_cost_ms:Date.now()-c}]),n.$set(t,"check_id",o),n.setDataAfterError(t,e)}))},afterSendSucc:function(t,e){this.$set(t,"syncseq",e.syncseq),this.$set(t,"sidesyncseq",e.sidesyncseq),this.$set(t,"seq",e.seq),this.$set(t,"time",e.time),this.$set(t,"status",$.Success),this.seqMessageMap.set(e.seq,t),this.$emit("sendC2BMessageSuccess",t)},afterSendFail:function(t,e){var a=e.error;this.$set(t,"status",$.Invalid),this.showTipMessage({message:a})},setDataAfterError:function(t,e){this.$set(t,"status",$.Resend),this.$set(t,"resendType",tt.TimeOut),this.$set(t,"resendData",e.seq)},onHistoryMessageClick:function(t,e){var a=this;this.isLoading=!0,this.getRoamingMessage(e).then((function(t){a.messageList.length>0&&a.recoverScrollbarAfterPullHistoryMsg(),a.lastFetchRoamingTime=Date.now(),console.log("[roamingMsg]",t);var e=t.nextReqMessageSeq,n=t.nextReqMessageTime,i=t.isCompleted,s=t.messageList,o=t.isOldRoamingMsg;"undefined"!==typeof e&&(a.roamingMsgSeq=e,a.isMoreMessageNew=!i,s.length>0&&(a.roamingOldMsgTime=1e3*s[s.length-1].time+1)),"undefined"!==typeof n&&(a.roamingOldMsgTime=n,a.isMoreMessageOld=!i),a.isMoreMessage=a.isMoreMessageNew||a.isMoreMessageOld;var l,d=Object(c["a"])(s);try{for(d.s();!(l=d.n()).done;){var u=l.value;(u.content||u.path)&&(o&&(u.isOldRoamingMsg=!0,0===u.seq&&(u.seq=1e3*u.time)),u.to===a.to.id?a.addMessageList(u,Z.Roaming,!0):u.from===a.to.id?a.addMessageList(u,Z.Roaming,!1):console.warn("☹️☹️☹️☹️☹️☹️===>msg_kfuin_error",u.to,a.to.id))}}catch(h){d.e(h)}finally{d.f()}var f=a.messageList[0];if(!a.isMoreMessage&&f&&f.time&&f.type!==K.MSG_DATETIME&&!a.isIncomingTip(f)){var m=a.messageList.findIndex((function(t){return t.type===K.MSG_DATETIME}));m>0&&a.messageList.splice(m,1),a.messageList.unshift({seq:r["a"].generateUUID(),type:K.MSG_DATETIME,time:f.time}),at=f.time}a.getMessageReadReceiptResult(),a.setMsgAllRead()})).finally((function(){a.isLoading=!1,t&&a.scrollToBottom(!1,10),e&&setTimeout((function(){!a.isMoreMessageNew&&a.isMoreMessageOld&&a.onHistoryMessageClick(t)}),100)}))},getRoamingMessage:function(t){var e=!t&&!this.isMoreMessageNew;return e?J.getOldMessageList({to:this.to.id,end:this.roamingOldMsgTime,payload:Object(o["a"])({},this.commonPayload)}):J.getMessageList({to:this.to.id,seq:this.roamingMsgSeq,payload:Object(o["a"])({},this.commonPayload)})},fetchExtuinInfo:function(t,e){var a=this;return Object(s["a"])(Object(i["a"])().mark((function n(){return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("[fetchExtuinInfo]",t,e),n.abrupt("return",J.fetchExtuinInfo({extuin:t,kfuin:+a.wpaDetail.kfuin},e));case 2:case"end":return n.stop()}}),n)})))()},getExtuinInfo:function(t,e){var a=this;return Object(s["a"])(Object(i["a"])().mark((function n(){var s,o,c,r,l;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(c=null===t||void 0===t||null===(s=t.crm)||void 0===s?void 0:s.msg_webim_extra_data,r=!(null===c||void 0===c||!c.uint64_robotid),l=r?null===c||void 0===c?void 0:c.uint64_robotid:null===c||void 0===c?void 0:c.uint64_extuin,String(l)!==String(a.wpaDetail.kfuin)){n.next=5;break}return n.abrupt("return");case 5:if(a.getExtuinInfoCBList||(a.getExtuinInfoCBList={}),a.getExtuinInfoCBList[l]||(a.getExtuinInfoCBList[l]={loading:!1,callbacks:[]}),a.getExtuinInfoCBList[l].callbacks.push(e),!a.getExtuinInfoCBList[l].loading){n.next=10;break}return n.abrupt("return");case 10:return a.getExtuinInfoCBList[l].loading=!0,n.prev=11,n.next=14,Object(g["c"])(l,(function(t){return a.fetchExtuinInfo(t,r)}));case 14:o=n.sent,n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](11),o=Object(g["b"])();case 20:a.getExtuinInfoCBList[l].loading=!1,a.getExtuinInfoCBList&&a.getExtuinInfoCBList[l]&&a.getExtuinInfoCBList[l].callbacks.forEach((function(t){t(o)}));case 22:case"end":return n.stop()}}),n,null,[[11,17]])})))()},sendCmdMessage:function(){return J.sendCmdMessage.apply(J,arguments)},getSocketConnected:function(){var t;return null===J||void 0===J||null===(t=J.getSocket())||void 0===t||null===(t=t.connectManage)||void 0===t||null===(t=t.socketIO)||void 0===t||null===(t=t.socket)||void 0===t?void 0:t.connected},checkIfNeedReconnect:function(){var t=this;document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&t.isIMReady&&!1===t.getSocketConnected()&&!t.isKickAlertShowing&&(t.customReport({method:"checkIfNeedReconnect",message:"[reConnet][visibilitychange]"}),J.reConnect())}))},showRobotForm:function(t){console.log(t);var e=p["a"].extend(b["default"]);new e({propsData:{data:t,vm:this}}).$mount()},showRobotDrawer:function(t){var e=p["a"].extend(P);new e({propsData:{message:t,to:this.to,wpaDetail:this.wpaDetail,globalData:this.globalData}}).$mount()},isRobotDrawerMsg:function(t){return t.type===l["b"].TYPES.MSG_ROBOT&&t.content&&7===t.content.type&&t.content.content&&14===t.content.content.type&&(5===t.content.content.templateId||2===t.content.content.templateId)},initQidianDA:function(){var t="";t="https://v.qidian.qq.com",window.qidianDA("setDomain",t),window.qidianDA("setCommonData",{},{da_rpt_type:"wpa",wpa_id:this.wpaDetail.wpaId}),window.qidianDA("create",this.wpaDetail.kfuin,"",{preventAutoTrack:!0}),window.qidianDA("setValsByHand",{appkey:"",da_rpt_type:"wpa"}),this.sendDAInitReport()},sendDAInitReport:function(){var t=h.a.parse(window.location.search,{ignoreQueryPrefix:!0}),e="0"===t.linkType?2:3,a=this.wpaDetail.clickid,n={mid:"",id:this.wpaDetail.wpaId,kfuin:this.wpaDetail.kfuin,kfext:t.kfext||"",cate:t.cate||"",type:t.type||"",eventtp:e,tpForm:e,refurl:"undefined"!==typeof document.referrer?document.referrer:"",ua:navigator.userAgent,eptype:this.$platform.pc?1:2,pid:t._pid||a,clickid:a,clickType:6,visitorid:this.to.user_id,tptype:9},i={0:"未知",1:"企业WPA",2:"员工WPA",3:"免费电话",4:"加QQ群",5:"加QQ好友",6:"公众号人工客服",7:"会话",8:"关注公众号",9:"webim"},s={1:"QQ接待",3:"公众号推广",4:"群推广",5:"员工推广",7:"网页接待",8:"企点接待",101:"电话接待"};function o(t){return Boolean(t||0===t)}window.qidianDA("track","webim_aio_open",{wpa_visitorid:o(n.visitorid)?Number(n.visitorid):"",wpaid:o(n.id)?Number(n.id):"",wpa_category_id:o(n.cate)?Number(n.cate):"",wpa_category:o(n.cate)?String(s[n.cate]||""):"",wpa_type:o(n.type)?Number(n.type):"",kfext:o(n.kfext)?Number(n.kfext):"",wpa_eventtp:o(n.eventtp)?Number(n.eventtp):"",wpa_tptype:o(n.tptype)?Number(n.tptype):"",wpa_tptype_name:o(n.tptype)?String(i[n.tptype]||""):"",wpa_clickid:o(n.clickid)?String(n.clickid):"",wpa_sm:o(n.sm)?String(n.sm):"",wpa_cckey:String(t.cckey||"")})},recoverScrollbarAfterPullHistoryMsg:function(){if(this.messageList.length>0){var t=this.messageList[0].seq,e=document.querySelector(".page-scroll-container"),a=e.querySelector('.msg-item[seq="'.concat(t,'"]')),n=a.offsetTop-e.scrollTop;setTimeout((function(){a.scrollIntoView(!0);var t=a.offsetTop-e.scrollTop;e.scrollTop-=n-t}),10)}},scrollToBottom:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=this.$refs.scrollToBottom;a||console.error('页面中不存在节点 <div ref="scrollToBottom"></div>');var n=Object(d["a"])();(n>600||Date.now()-this.lastFetchRoamingTime<3e3)&&(t=!1,console.warn("[scrollToBottom]","scroll without animation!")),this.notReadNumber=0,setTimeout((function(){t?a.scrollIntoView({behavior:"smooth",block:"start"}):a.scrollIntoView(!0)}),e)},scrollChange:Object(f["a"])((function(){Object(d["a"])()<d["b"]&&(this.notReadNumber=0),console.log("this.notReadNumber",this.notReadNumber)}),100),checkIfNeedScrollToBottom:function(t){Object(d["a"])()<d["b"]&&(t?I["a"].scrollToBottom(!1,10):I["a"].scrollToBottom(!0,500))},createIncomingTip:function(t){if(this.incomingTipMsg)t&&this.updataIncomingTip(t);else{var e=this.showTipMessage({message:t||this.$t("chat_incoming")});this.incomingTipMsg=e}},removeIncomingTip:function(t){if(this.incomingTipMsg){var e=this.incomingTipMsg.seq,a=this.messageList.findIndex((function(t){return t.seq===e}));a>-1&&(this.messageList.length>1||t)&&(this.messageList.splice(a,1),this.incomingTipMsg=null)}},updataIncomingTip:function(t){if(this.incomingTipMsg){var e=this.incomingTipMsg.seq,a=this.messageList.findIndex((function(t){return t.seq===e}));a>-1&&(this.messageList[a].content=t)}},isIncomingTip:function(t){return!(!this.incomingTipMsg||this.incomingTipMsg.seq!==t.seq)},showIncomingTimeout:function(){var t=this.inIframe?"chat_incoming_timeout_inframe":"chat_incoming_timeout";this.updataIncomingTip(this.$t(t))},getServerClientTimeDiff:function(){var t=this;if(Y["a"])return Promise.resolve(0);var e=this.wpaDetail.kfuin,a=+new Date;return new Promise((function(n,i){t.$ajax.head("/webim/commonRequest/checkTime",{timeout:1e3,data:{kfuin:e}}).then((function(t){var e=+new Date,i=+new Date(t.header.Date||e),s=parseInt((e-a)/2,10),o=i+s-e;console.log("[getServerClientTimeDiff]",o),n(o)})).catch((function(t){return i(t)}))}))},storageMessageForTest:function(){var t=this,e=function(e,a){t.customReport({method:e,vistorid:t.to.user_id,kfuin:t.wpaDetail.kfuin,message:a},"webim"),window.testMsgRecords&&(window.testMsgRecords[e]||(window.testMsgRecords[e]=[]),window.testMsgRecords[e].push(a))};this.$on("receiveNewMessage",(function(t){e("receiveNewMessage",t)})),this.$on("sendC2BMessage",(function(t){e("sendC2BMessage",t)})),this.$on("sendC2BMessageSuccess",(function(t){e("sendC2BMessageSuccess",t)})),location.href.indexOf("debug=1")>-1&&(window.imsdkDebuger=J,window.aioDebuger=this)},switchMsgDisplay:function(t,e){if(t&&e){var a=this.messageList.findIndex((function(e){return e.seq===t}));a<0||("show"===e&&(this.messageList[a].isNeedHide=!1),"delete"===e&&this.messageList.splice(a,1))}},isBubbleDelayShow:function(){return this.globalData.robotDelay.switch&&!this.globalData.robotDelay.promptOpen},deleteRevoseMsg:function(){var t=this;this.revoseMsgSeqList.forEach((function(e){t.switchMsgDisplay(e,"delete")}))},revokeMsg:function(t){var e=this,a=J.revokeMessage({to:this.to.id,payload:{user_id:this.to.user_id,user_type:this.to.user_type,pubacc_id:this.to.pubacc_id,message:t}});a.then((function(a){a.code?e.showTipMessage({message:a.error}):(e.$set(t,"origin_type",t.type),e.$set(t,"type",l["b"].TYPES.MSG_REVOKE),e.$set(t,"revoke_mine",!0),t.seq===e.messageList[e.messageList.length-1].seq&&e.$emit("sendMessage",{type:l["b"].TYPES.MSG_REVOKE,to:e.to,content:"你撤回了一条消息",time:t.time}))})).catch((function(t){console.error("error",t),e.showTipMessage({message:"撤回消息超时,请稍后重试"})}))},transferRobotMsg:function(t){console.log("transferRobotMsg",t),this.$emit("transferRobotMsg",t)},voiceRecodeStatus:function(t){console.log("voiceRecodeStatus",t),this.$emit("voiceRecodeStatus",t)},sendLangTip:function(t){var e=t?this.$t("sysmsg_msg_change_service_lang"):this.$t("sysmsg_msg_current_service_lang"),a={content:{gray:"".concat(e,'：<a href="javascript:;" data-type="changeLang" class="btn-lang">').concat(this.$t("lang"),"</a>")},type:"gray_msg",seq:r["a"].generateUUID(),time:Date.now(),status:0};this.addMessageList(a,0,!1),this.scrollToBottom()},setLangRequest:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(a,n){var i={kfuin:I["a"].kfuin,visitId:t.to.user_id,translateLang:"zh-TW"===e?"zh-tw":e};t.$ajax.post(N["x"],i).then((function(i){var s=i.data.code;0===+s?(t.$setLocale(e),a()):n()})).catch((function(){n()}))}))}}}},"81e7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"batch-wrap"},[e("div",{domProps:{innerHTML:t._s(t.answerContent)}}),e("div",{staticClass:"batch-head"},[e("div",{staticClass:"batch-head-tip",domProps:{innerHTML:t._s(t.answerText)}}),t.qlist.length>t.pagecount?e("div",{staticClass:"batch-head-btn",on:{click:t.changePage}},[e("img",{staticClass:"batch-head-icon icon-primay",attrs:{src:a("2b42")}}),e("div",{staticClass:"batch-head-msg"},[t._v("换一批")])]):t._e()]),e("div",{staticClass:"batch-body"},t._l(t.showLit,(function(a,n){return e("div",{key:n,staticClass:"batch-body-list"},[e("a",{staticClass:"msg-link",attrs:{href:"qdweb://webim/message/sendc2b?content="+a.text}},[t._v(t._s(a.text))])])})),0)])])},i=[],s=(a("fb6a"),a("f439")),o=a("d90f"),c={props:{message:{type:Object,default:function(){return{}}}},data:function(){var t=this.message.content,e=t.content,a=void 0===e?"":e,n=t.answer_type,i=o["a"].coverEmojIndex2EmojiImg(a)||(1===n?"你可能还想问":"猜你想问");return{index:0,pagecount:this.message.content.pagecount,qlist:this.message.content.list||[],answer:this.message.content.answer,answerType:n,answerText:i}},computed:{answerContent:function(){return o["a"].coverEmojIndex2EmojiImg(Object(s["a"])(this.answer.content))},showLit:function(){var t=this.pagecount,e=this.index,a=this.qlist,n=t*e,i=t*(e+1)>a.length?a.length:t*(e+1);return a.slice(n,i)}},methods:{changePage:function(){var t=this.pagecount,e=this.index,a=this.qlist;this.index=(e+1)*t>=a.length?0:e+1}}},r=c,l=(a("7919"),a("2877")),d=Object(l["a"])(r,n,i,!1,null,"1d353132",null);e["default"]=d.exports},8231:function(t,e,a){},8279:function(t,e,a){},8380:function(t,e,a){"use strict";a("3e8a")},"84b3":function(t,e,a){"use strict";a("b7e2")},"85a9":function(t,e,a){},"85dd":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAAXNSR0IArs4c6QAACbRJREFUeAHtnT2SFEcQhXsGDGJBRKwUOLoAV8DQDTDBRDbXkI4hW5jI5AYy9gq6gBwFsSEJIjC0O8qXle91Vm/P7Pxsz84wVcZUVVa++vkquxoqCHrWRVosFg8+/tO9nS+614tF93zRdeezeffImmedVey38xz+VjafbgYbUrTLhjrSoP0r1S8W190XY3U5W3R/dA+69+dPul9ms9mVEPz1efH9/L/uNzO8gJFJwGhgTuCoD+HSB03Wpk1Idmrc9HXqL64fdq+ePZ79OUPkXv7b/W4wergZYIC5AWvERwxH2k5Qf/Ht0+6H+eWn7q2F+DhcgEKyXJEYNjax3fPwrY6GsJ2g/sUljtzuqntdAYnz1YHxDA16iEL6Eli28dF3GzSnrrf32Xwx654HP+fjXAZgCMqh5tC1MkFDx6Zs876jv1PTg+3cjodzkhEYkorcI5I2wkcdZeTR1vQeTuIBtnP/oxihgRXB9dxKlBJm9AG48m16UumZwDLrHs09iwhEJOYoVJlyQl0RsdLkvk5Xb/FriXz1yMNImJVDbAAjNoRND0iWwIUwgp8DzlGXwbrdBNR4J7kSoJveyRRQARYWcJlX9ADMAAqYe0WdYFMH1csvfJu+5ucRDDZKCWAFXw7WQZSrjWB705cXHXhYUM55bng0DsFlWKSKSGYZ/iibrekBoyQFnrEpEWwFGXkURC6WtNOQoTb9Un79ETEESJApz1GKyNWmYOOaPsK3ZHzKC2DAMWACiDqBwT/KzjrK8mV704/ye+jwAo4i0kkW4G6LOncFGvkCeNM7XDFJ/MpLDowIkRE5sFURC9+IZEJveoCLFGzApD8iciNhE6LlAhg2NrksV1Bu+kLTWMw9MjMQKytaaQ/42ZfAsy0fNy5p+m5OUADCQMy2DMrtdApB9mVTtp26vvxVOcgIDElF7lFKG6MSdZSRR1vTeziJB7iUlxyhgRXB9dzK+UuY0Qf/5OCQm55UbvCrX3IGN0ehypQbyBzNao8Ixo5lm8onrH+ItStoGaXIA6ZDkkMCmIRqXqH/8ScIDif9+rPNJSa+zvz9STVJFTRr6D2CJaIAOTuzclSLMVcA1NJG+iI5jN9t5r/h+vd3H3wYSKtZ5OPOG+IJVMDAaDavE6zVXWdN6+jLGey9x0/qoA7d3gnzQKomUkw+IU5gmZ6u951vO/9N1r+/++D7prlsfNCy6FRQWFXgc7CRKiKZZfR5i75EsDmpUz4Kkasv2mmwuia1jh6TOaS06fy3XH9/RAw7IMiUCyhAZaio36aHzyGlTedv/tusf/bxb5MBTnTgkTyEFe0ZIgaron4i/bsPn7t3Hz6Nbs2bl0+6Ny8fl82daHwfeIf1H/x98CjZbIzFVxtusJFki7rOzlXBAeEd6o/mPhjrHk0BQ08TnADdUrYBthI0rE+s97/J8YjwCWDgGFR2s2my0Z7d5IcOcgPLlm+rPzt73D17ZsfASDo7CyPHQXWsvMP4zmIH/VHdB48wLi+eQUAoWmnnPiT43HD3pV+036X+OO6Dx8iGjaBQBR+kbCsG/y12OsFk5ezLpmzbVX8U98EFz5JfUAkyAkNSkXtE0jaIVtdOqD+K++AlaIsZwAgNrAEr6mJKHxqgNJt8J9SXv2hwYMtzFKiMCSFxUuGv9n3pyyxu/u5r/C3W74A5P995VtgZlkObFR0qdzzsaoadlbvUYw4rEoc8xPk74CoSExi32+y1ACwyVwL0pPoVYNk06fg7rn9/98HcmLSB1csHtLBh5idgJLgqZ7/wGdObjYHi3Ww6/o76/rKHi0gTqKKV7bEOVEdB7EGfpnKzuIfxbQhP66x/f/fBnBUijmVME2WzeTSjbkkTz36l6ebvLXr1y742HH9XfYlgG1yL4iMXOeelaKYhQ5lQf5PoiGXC8bncbdffHxEEyx5Hcu0m1pgXhfpUevS9Tppq/MRhm/UXwJicdaQOUOeEsbgo+1hRli/bp9RjjFUJc5py/B3W3+6D0+bomPRIKgHntqj7+wIbbRr53qJv98EBT8ACILJsq55YaCKqCT37sg22/ohAj0ixIyqHTR1Ex+y/8gtfDsqBkO+k90FW/OTJoMyIo33X8XfQt/vg4YbY5ihauVGxt24PGwMm2xicWd/ugxNEBjzh6ZnJUOmExhzZpeqSrG/3wQAW0ASGECP3iKSNG4I6ysijbUzf7oMBidDAiuB6buX9QZhm92R1+a7Q1y856zzvgsrDTlfsmDS5r7vSs59hHvOpHtkpxifUDdbvgDk/hTwWwM5QlkNsAHcs7GqGnZW71GMOKxKHPMT5O+AcdRms2232WgAWmSsBelL9CrBsmnT8Hdff7oOHAWN1bRh20IKIgeYbmp7M6uUXvgjArC9nsCvjJ3VQRWvyicCtOlLzHvQaa6ywh/E3WX+7DwYtHAMpkhWBebNIFX4sY4Nv0ZcINid1yoEiV1+002B1TWpCPdZwa5pwfC5XTzMNa66/PyKGANlRygUUKza7NgX1qfToe5001fg7rv/g/32wswU8LDRBxGZrg6NdtuR33/qDvw92iCmKCGwpXDiEv4Dfo/5o7oOHx1OOZmdKiKhEBGsTYGJUu3Pvw83IvnepL2dwHhxlTpZ2yzWBsLEJ8+WEVG56RwEuR3Uf7FEYm8cNzzbfaGtXtHKjy3KLfc/647gPzlDyo2NlggZDNmWbs71H/VHcB3tEih7D0XKAgz3aBJa+kd+n/ijugx0cYQZfwNXxEBGKJtl67iXK70lfv+Rsx3MUqDxc1IqIkSb3dcJ6Bxy8+kcOQBghKMshNoARE3Y15yhpen+aHHCOugzW7UZPAAew/QzEXmTgCWzT499FZHoRgQIGoGYjKFTzBlQvj2hDf03vpPynnMF9vQJYwU8+DNgKJNtTBDc9/9cpHAMpkgUuwyJV+LEMqCg3/VJ+JYINkqASdORiSTsNGWrTL+XXHxFDgASZ8hzlOpsRxUhNXzgkXjAAcPX/RbgXYBEYDFF2bZQr2LBZo2yohx/kLJ+gfoFP7XwhHB0TIJGBOZligx3A5Jvgytb0zu/a2OJTO5eGrAeGSkSfgMGUIzIgw9WBI+MmwNb0oNDNje3cP5OY4aFMWLRbLoBhY5P3lCsoN71jAdv59ax7XwExOIpWgnL3sIeNwN2XfgG36QOYfd+z+uQkwBBcuNzMhhFKuObZ9D0/43hx/o19chJfT7160L2CQXABESlyj0jaCJSgkUdb0zs1HAgXhensirgs+uzjqfZ9T3yCEl/yM6jn5v7IoMnHQfa10YjNUZzLPjQ3pczja9EbOvvs76x89hdH7ndP+8/+/g9I8J7d1302uAAAAABJRU5ErkJggg=="},"86e7":function(t,e){t.exports="data:image/gif;base64,R0lGODlhYABgAPfJAJOWnl1ibicuPpOXn0JJV0JHVV1jbzc9TEJIVvr7+/39/SsyQfX39zU7SiwyQvn5+VdcaVJYZVhdapKVnnyAirm7wH2AivHx893e4GVqdS00RC82RUdNWpyfpqSnrk1TYO/w8VNYZSsxQdna3SoxQfr6+igvP+Tl5zlATr/BxrS2vK+xt/z8/MHDyIiMlYqOlquutKWor+np67y+wykwQPv7+9DR1dHS1ri6wHF2gWJnc8bIzScuPVBWY8/R1HZ6hJyfqDQ7SmNodFpfa1FXZDtBUDxCUd/g4/Ly8+Pk5ri6v8HEyG1yfP7+/ikvQISHkcDCxlheanN4gpaZoUNJV6aqsbu9wtjZ3GhteIWJkrq8wSsyQomOl/Dx8k5UYePj5nt/iTM6SaWpsOfo6YmNlufn6VJYZDA3Rzc+TWBlceXm6Nra3XyBio+Tm1pgbI2QmTk/Tebm6MnLz83P06WnrlVbZzY8TDY9TDI4R8PFye7v8EFHVZ6iqczO0sLEyTg/TYeLk1ddao2Rmj9FVNrb3m1yfTA2RYyQmJeaoo6SmiwzQ93f4U9VYtjY3qOmrWZrdszN0eTk6KmtsiowQTI4SFRaZygvPoaKk46Rml5jbzE4R1leas3P0tLU1zY8S2FmcuDi5Orr7ISIkZCUnGdsd6yttFZcaC41RPPz9PT09X2Bi1JXZLG0us7Q036CjH+EjsvL0F1kcJ6hqGBlcMvM0FxhbbCzuWVqdl9kcGBmckNKWDA4R0RJV5qdpTQ6SWRpdX2CjDE3R3Z7hVthbZueppSYoG90f8fJzSYtPf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzAyODBCNzk0MERDMTFFQkFCNDI5MTYzREVERkZDRDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzAyODBCN0E0MERDMTFFQkFCNDI5MTYzREVERkZDRDMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDMDI4MEI3NzQwREMxMUVCQUI0MjkxNjNERURGRkNEMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDMDI4MEI3ODQwREMxMUVCQUI0MjkxNjNERURGRkNEMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2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"},8735:function(t,e,a){},"87de":function(t,e){t.exports="data:image/png;base64,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"},"888d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-datetime"},[e("span",[t._v(t._s(t.format))])])},i=[],s=(a("ac1f"),a("5319"),a("a15b"),{props:{data:Object},computed:{format:function(){var t=new Date(this.data.time),e=t.getFullYear(),a=t.getMonth(),n=t.getDate(),i=t.getHours(),s=t.getMinutes(),o=new Date,c=e===o.getFullYear();return[c?"":"".concat(e,"-"),"".concat(a+1,"-"),"".concat(n)," ","".concat(i,":"),"".concat(s)].join("").replace(/\b(\d)\b/g,"0$1")}}}),o=s,c=(a("ca1c"),a("2877")),r=Object(c["a"])(o,n,i,!1,null,"30472af6",null);e["default"]=r.exports},"88ab":function(t,e,a){"use strict";a("9911");var n=function(){var t=this,e=t._self._c;return e("span",{staticClass:"msg-link",class:t.disabled?"disabled":"",on:{click:t.onClick}},[t._v(t._s(t.link.text))])},i=[],s=a("f5db"),o={name:"message-link",props:{link:{type:Object,default:function(){return{}}}},data:function(){return{disabled:!1}},methods:{onClick:function(){if(!this.disabled){console.log("[im-message-link]",this.link);var t=this.link.url;Object(s["b"])(t),this.$emit("click",t)}}}},c=o,r=(a("da1a"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"5ec49c22",null);e["a"]=l.exports},8986:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-gray"},[t.hasExtuinInfo?e("gray-card",{attrs:{processedText:t.processedText,text:t.text,"uin-info":t.uinInfo}}):e("span",{ref:"grayText",class:t.device,domProps:{innerHTML:t._s(t.processedText)}})],1)},i=[],s=(a("ac1f"),a("5319"),a("d3b7"),a("159b"),a("d90f")),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-card"},[e("div",{staticClass:"sys-img"},[e("img",{attrs:{src:t.uinInfo.str_avatar}})]),e("div",{staticClass:"text"},[t._v(t._s(t.text))])])},c=[],r={props:{uinInfo:Object,text:String}},l=r,d=(a("7bbf"),a("2877")),u=Object(d["a"])(l,o,c,!1,null,"be9dcc66",null),f=u.exports,m=a("5ac5"),h={components:{GrayCard:f},props:{device:{type:String,default:"pc"},data:Object},computed:{text:function(){var t;return null===(t=this.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.gray},uinInfo:function(){var t;return null===(t=this.data)||void 0===t||null===(t=t.crm)||void 0===t?void 0:t.msg_webim_extra_data},hasExtuinInfo:function(){var t,e;return(null===(t=this.uinInfo)||void 0===t?void 0:t.str_avatar)&&(null===(e=this.uinInfo)||void 0===e?void 0:e.str_external_name)},processedText:function(){var t,e=(null===(t=this.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.gray)||"";return e=s["a"].filterHTML(e),e=e.replace("\r\n","<br>"),e}},methods:{handleGrayLinkClick:function(){var t=this.$refs.grayText;if(t){var e=t.querySelectorAll("a");e.forEach((function(t){t.addEventListener("click",(function(){var e=t.getAttribute("data-type");switch(e){case"changeLang":m["a"].switchSetLangPanel(!0)}}))}))}}},mounted:function(){this.handleGrayLinkClick()}},g=h,p=(a("18b7"),Object(d["a"])(g,n,i,!1,null,"637b929a",null));e["default"]=p.exports},"8a2f":function(t,e,a){"use strict";a.d(e,"d",(function(){return h})),a.d(e,"e",(function(){return g})),a.d(e,"b",(function(){return p})),a.d(e,"a",(function(){return b})),a.d(e,"c",(function(){return _})),a.d(e,"f",(function(){return C}));var n=a("3835"),i=(a("ac1f"),a("00b4"),a("498a"),a("5319"),a("a630"),a("3ca3"),a("13d5"),a("d3b7"),a("fb6a"),a("99af"),a("14d9"),a("a15b"),a("d81d"),a("a9e3"),a("b0c0"),{win:window,receptionist:{},wpaDetail:{},getSignTData:{},kfChangeTip:0,isGetSignT:0,isRegOK:0,isMobile:0,isChangeKF:0,inRegProcess:0,isRealSendMsg:1,isInIframe:!1,defaultAvatar:"",imageLoadFail:"",reSendC2bMsg:null,ioLinkStatus:null,regSuccessCallBack:null,imStatus:"open",pageStatus:"show",clickName:"click",chatSocket:{},c2bDBsaveData:[],c2bSeqGroup:[],authConfig:{auth:0},menuDetail:{active:0,currentVersion:"",eLogo:"",eName:"",defaultConfig:{active:0}},seqs:{key:"",data:[]},getSigTData:{},originRoleValue:null,clientPingTimer:null,serverClientTimeDiff:0,htReportOpts:{flag1:21873,flag2:1},registerType:"default",routePermit:{isCorpUin:0,isNeedQQ:1},lang:"zh-cn",translateLang:"zh",wxConfig:{enableVoice:!1,appid:"",openid:""},externalType:1,isShowQidianSign:1,thirdAppConfig:{enable:!1,type:"",appType:0,appId:"",openId:"",userInfo:{}}}),s=i.win.navigator.userAgent.toLocaleLowerCase();function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.tag=t,this.props=e,this.children=a}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.name=t,this.platform=e,this.style=a,this.action=n,this.attrs=i}i.userAgent=s,o.prototype.addChild=function(){this.children||(this.children=[]),this.children.push(this.children)};var r={all:"",pc:"pc",mobile:"mobile",ios:"ios",android:"android",web:"web",mac:"mac",WEBB:"webb"},l=["width","height","gravity","weight","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","margin","marginLeft","marginRight","marginTop","marginBottom","aspectRatio","background","backgroundIcon","alpha","cornerRadius","borderWidth","borderColor","borderStyle","hidden"],d=["click","change","blur","focus","action","actionData"],u={H:{left:"flex-start",right:"flex-end",centerHorizontal:"center"},V:{top:"flex-start",bottom:"flex-end",centerVertical:"center"}},f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},m=(i.isMobile,/<script>([\s\S]*?)<\/script>/i);function h(t){var e="",a="";if(m.test(t)){var n=m.exec(t);n.length&&(a=n[1]),e=t.replace(m,"").trim()}else e=t.trim();return[e,a]}function g(t){if(!window.DOMParser)return null;try{var e=new DOMParser,a=e.parseFromString(m.test(t)?t.replace(m,"").trim():t.trim(),"text/xml");return a}catch(n){return null}}function p(t){var e=+t;return isNaN(e)||0===e?"0px":"".concat(1===e?e:e/2,"px")}function b(t){function e(t){var e=Array.from(t);return Array.from(e).reduce((function(t,a,n){return t+f[a]*Math.pow(16,e.length-n-1)}),0)}var a=e(t.slice(1,3))/255,n=e(t.slice(3,5)),i=e(t.slice(5,7)),s=e(t.slice(7,9));return"rgba(".concat(n,", ").concat(i,", ").concat(s,", ").concat(a,")")}function v(t){return t=t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())})),"_"===t.slice(0,1)&&(t=t.slice(1)),t}function _(t){var e=[];for(var a in t)e.push("".concat(v(a),": ").concat(t[a]));return e.join(";")}function w(t,e){var a,i={};function s(t,e){return u[t][e]}switch(t){case"width":"-1"===e?(i.display="block",i.width="100%"):"-2"===e?(i.display="inline-block",i.width="auto"):(i.display="block",i.width=p(e));break;case"height":i.height="-1"===e?"100%":"-2"===e?"auto":p(e);break;case"paddingLeft":case"paddingRight":case"paddingTop":case"paddingBottom":case"marginLeft":case"marginRight":case"marginTop":case"marginBottom":i[t]=p(e);break;case"padding":case"margin":a=e.split(",");var o=a.shift();a.push(o),i[t]=a.map((function(t){return p(t)})).join(" ");break;case"gravity":i.display="flex",a=e.split("|");var c=["left","right","centerHorizontal"],r=["top","bottom","centerVertical"];if(a.length>1){var l=a,d=Object(n["a"])(l,2),f=d[0],m=d[1];i.justifyContent=s("H",f),i.alignItems=s("V",m)}else{var h=a,g=Object(n["a"])(h,1),v=g[0];~c.indexOf(v)&&(i.justifyContent=s("H",v)),~r.indexOf(v)&&(i.alignItems=s("V",v)),"center"===v&&(i.justifyContent=s("H","centerHorizontal"),i.alignItems=s("V","centerVertical"))}break;case"weight":i.flexGrow=Number(e);break;case"background":i.backgroundColor=b(e);break;case"alpha":i.opacity=Number(e);break;case"cornerRadius":i.borderRadius=p(e);break;case"borderWidth":i.borderWidth=p(e);break;case"borderColor":i.borderColor=b(e);break;case"borderStyle":i.borderStyle=e;break;case"hidden":var _=x(e);i.display=_?"none":"block";break}return i}function y(t,e,a){return"action"===t?a.actionCmd=e:"actionData"===t?a.actionData=e:"click"===t&&(a.type=t,a.fun=e),a}function x(t){return"true"===t||"false"!==t&&t}function A(t,e){for(var a=t.attributes,n=t.children,i=e.props,s=0,c=a.length;s<c;s++){var u=a[s],f=u.name;if(f.indexOf(".")){var m=f.split(".");if(2===m.length){if(m[1]!==r.web)continue;f=m[0]}}"name"!==f&&"platform"!==f?-1===l.indexOf(f)?-1===d.indexOf(f)?i.attrs[f]=x(u.value):i.action=Object.assign(i.action,y(f,u.value,i.action)):i.style=Object.assign(i.style,w(f,u.value)):i[f]=u.value}if(n&&n.length)for(var h=0,g=n.length;h<g;h++){var p=n[h],b=new o(p.tagName);A(p,b),b.props.platform&&b.props.platform!==r.web||e.children.push(b)}}function C(t){var e=t.querySelector("msg"),a=new o("msg");return A(e,a),a}},"8aba":function(t,e,a){"use strict";a("9dca")},"8aeb":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s}));var n=[14,1,2,3,4,5,6,7,8,9,10,11,12,13,0,15,16,96,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,89,113,114,115,60,61,46,63,64,116,66,67,53,54,55,56,57,117,59,75,74,69,49,76,77,78,79,118,119,120,121,122,123,124,42,85,43,41,86,125,126,127,128,129,130,131,132,133,134,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,135,17,40,44,45,58,47,48,50,51,52,68,70,71,72,73,80,81,82,83,84,87,88,90,91,92,93,94,95,62,65,172,182,179,173,174,212,175,178,177,180,181,176,183,171,188,192,184,185,190,187,193,194,197,198,199,200,201,202,203,204,205,206,207,208,210,211],i=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘...","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极","双喜","鞭炮","灯笼","发财","K歌","购物","邮件","帅","喝彩","祈祷","爆筋","棒棒糖","喝奶","下面","香蕉","飞机","开车","高铁左车头","车厢","高铁右车头","多云","下雨","钞票","熊猫","灯泡","风车","闹钟","大伞","彩球","钻戒","沙发","纸巾","药","手枪","青蛙"],s=["qqface_Smile","qqface_Grimac","qqface_Drool","qqface_Scowl","qqface_Chill","qqface_Sob","qqface_Shy","qqface_Silent","qqface_Sleep","qqface_Cry","qqface_Awkward","qqface_Angry","qqface_Tongue","qqface_Grin","qqface_Surprise","qqface_Frown","qqface_CoolGuy","qqface_Helpless","qqface_Scream","qqface_Puke","qqface_Chuckle","qqface_Joyful","qqface_Slight","qqface_Smug","qqface_Hungry","qqface_Drowsy","qqface_Panic","qqface_Sweat","qqface_Laugh","qqface_Commando","qqface_Determined","qqface_Scold","qqface_Confused","qqface_Shhh","qqface_Dizzy","qqface_Torturing","qqface_Toasted","qqface_Skull","qqface_Hammer","qqface_Bye","qqface_Speechless","qqface_NosePick","qqface_Clap","qqface_Embarrased","qqface_Trick","qqface_Hum!L","qqface_Hum!R","qqface_Yawn","qqface_Pooh-pooh","qqface_Shrunken","qqface_TearingUp","qqface_Sly","qqface_Kiss","qqface_What!","qqface_Whimper","qqface_Cleaver","qqface_Watermelon","qqface_Beer","qqface_Basketball","qqface_Pingpong","qqface_Coffee","qqface_Rice","qqface_Pig","qqface_Rose","qqface_Wilt","qqface_Lips","qqface_Heart","qqface_BrokenHeart","qqface_Cake","qqface_Lightning","qqface_Bomb","qqface_Knife","qqface_Football","qqface_Beetle","qqface_Poop","qqface_Moon","qqface_Sun","qqface_Gift","qqface_Hug","qqface_Thumbsup","qqface_Thumbsdown","qqface_Shake","qqface_Victory","qqface_Salute","qqface_Beckon","qqface_Fist","qqface_Bad","qqface_LoveYou","qqface_NO","qqface_OK","qqface_Love","qqface_Blow_a_kiss","qqface_Waddle","qqface_Tremble","qqface_Aaagh!","qqface_Twirl","qqface_Kowtow","qqface_Turn_round","qqface_Rope_Skipping","qqface_Wave_hand","qqface_Excited","qqface_Street_Dance","qqface_Give_a_kiss","qqface_Tai_Chi_L","qqface_Tai_Chi_R","qqface_Bliss","qqface_Firecracker","qqface_Lantern","qqface_Fortune","qqface_Karaoke","qqface_Shopping","qqface_Email","qqface_Handsome","qqface_Hurray","qqface_Pray","qqface_Furious","qqface_Lollipop","qqface_Drink_milk","qqface_Noodles","qqface_Banana","qqface_Plane","qqface_Driving","qqface_Highspeed_Rail_L","qqface_Carriage","qqface_Highspeed_Rail_R","qqface_Cloudy","qqface_Rainy","qqface_Cash","qqface_Panda","qqface_Light_bulb","qqface_Windmill","qqface_Alarm_Clock","qqface_Umbrella","qqface_Balloon","qqface_Ring","qqface_Sofa","qqface_Toilet_Paper","qqface_Medicine","qqface_Pistol","qqface_Frog"];e["a"]={faceIndex:n,faceHumen:i,faceLocale:s}},"8bc8":function(t,e,a){},"8d20":function(t,e,a){},"8e2d":function(t,e,a){"use strict";a("b0c0");var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.show?e("div",{staticClass:"block-sign",class:{"block-sign--fixed":!t.isMobile}},[e("a",{staticClass:"sign__link",attrs:{href:t.website,target:"_blank"}},[e("img",{staticClass:"sign__logo",attrs:{src:t.logo,alt:""}}),e("span",{staticClass:"sign__name"},[t._v(t._s(t.name))])])]):t._e()},i=[],s=a("d4ec"),o=a("bee2"),c=a("257e"),r=a("262e"),l=a("2caf"),d=a("ade3"),u=(a("99af"),a("b64b"),a("ac1f"),a("841c"),a("9ab4")),f=a("1b40"),m=a("4328"),h=a.n(m),g=a("ea5f"),p={zh:"","zh-TW":"Tw",en:"En"},b=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(s["a"])(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),Object(d["a"])(Object(c["a"])(t),"type",void 0),Object(d["a"])(Object(c["a"])(t),"wpaDetail",void 0),Object(d["a"])(Object(c["a"])(t),"show",0),Object(d["a"])(Object(c["a"])(t),"supportInfo",void 0),Object(d["a"])(Object(c["a"])(t),"name",""),Object(d["a"])(Object(c["a"])(t),"logo",""),Object(d["a"])(Object(c["a"])(t),"website",""),t}return Object(o["a"])(a,[{key:"isMobile",get:function(){return"pc"!==this.type}},{key:"onLangChanged",value:function(){this.handleSupport()}},{key:"onWpaDetailChange",value:function(t){this.fetchConfig(JSON.parse(t))}},{key:"created",value:function(){this.fetchConfig(JSON.parse(this.wpaDetail))}},{key:"fetchConfig",value:function(t){var e=this,a=h.a.parse(location.search,{ignoreQueryPrefix:!0}),n=a.kfuin,i=a.wpaId,s=a.key,o=a.fid,c={kfuin:n||t.kfuin,wpaId:(this.isMobile?o:i)||t.wpaId,key:s||t.key,fields:["tools","supportInfo"]};Object(g["a"])(c,(function(t){var a=t.supportInfo,n=void 0===a?{}:a,i=t.tools,s=void 0===i?{}:i,o=n.code,c=n.data,r=s.code,l=s.data;0===o&&0===r&&(e.supportInfo=c,e.show=null===l||void 0===l?void 0:l.isShowQidianSign,e.logo=null===c||void 0===c?void 0:c.suportLogo,e.handleSupport())}))}},{key:"handleSupport",value:function(){if(this.supportInfo){var t=this.$i18n.locale,e=p[t];this.name=this.supportInfo["suportName".concat(e)],this.website=this.supportInfo["suportWebsite".concat(e)]||this.supportInfo.suportWebsite}}}]),a}(f["d"]);Object(u["a"])([Object(f["c"])()],b.prototype,"type",void 0),Object(u["a"])([Object(f["c"])({type:String,default:"{}"})],b.prototype,"wpaDetail",void 0),Object(u["a"])([Object(f["e"])("$i18n.locale")],b.prototype,"onLangChanged",null),Object(u["a"])([Object(f["e"])("wpaDetail")],b.prototype,"onWpaDetailChange",null),b=Object(u["a"])([Object(f["a"])({name:"QdSign"})],b);var v=b,_=v,w=(a("a0f5"),a("2877")),y=Object(w["a"])(_,n,i,!1,null,"717bce1b",null);e["a"]=y.exports},9014:function(t,e,a){"use strict";a.r(e);a("4c53"),a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{class:["multi-basis",t.isMobile?"":"multi-basis-pc"]},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-title"},[t._v(t._s(t.robotNav.tit))]),e("div",{staticClass:"nav-desc"},[t._v(t._s(t.robotNav.desc))]),e("div",{staticClass:"list-content"},t._l(t.robotNav.list,(function(n,i){return e("div",{key:i,staticClass:"list-item"},[n.sub&&n.sub.length>0?e("div",{staticClass:"list-item-title",on:{click:function(e){return t.onClickGroup(n)}}},[e("div",{staticClass:"list-item-title-name"},[t._v(t._s(n.name))]),e("img",{class:["icon-arrow-right",n.isOpen?"arrow-down":""],attrs:{src:a("c3d8")}})]):e("div",{staticClass:"list-item-title nav-link",on:{click:function(e){return t.onClick(n)}}},[e("div",{staticClass:"list-item-title-name"},[t._v(t._s(n.name))])]),n.isOpen?e("div",{staticClass:"list-child-wrapper"},t._l(n.sub,(function(a,i){return e("div",{key:i,staticClass:"nav-link",on:{click:function(e){return t.onClick(a,{robot_nav_event_type:3,robot_nav_first_menu_id:n.id,robot_nav_first_menu_name:n.name,robot_nav_second_menu_id:a.id,robot_nav_second_menu_name:a.name})}}},[t._v(" "+t._s(a.name)+" ")])})),0):t._e()])})),0),e("div",{staticClass:"btn-content"},t._l(t.robotNav.buttons,(function(a,n){return e("div",{key:n,staticClass:"list-btn-cell"},[e("div",{staticClass:"nav-link",on:{click:function(e){return t.onClick(a)}}},[t._v(t._s(a.name))])])})),0)])])},i=[],s=a("b371"),o={mixins:[s["a"]],data:function(){return{arrItemIsOpen:[]}},methods:{onClickGroup:function(t){var e=t.isOpen||!1;e=!e,this.$set(t,"isOpen",e),this.onClick(t)}}},c=o,r=(a("e964"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"54ac2f06",null);e["default"]=l.exports},9102:function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{class:["btn-style",t.isMobile?"":"btn-style-pc"]},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-title"},[t._v(t._s(t.robotNav.tit))]),e("div",{staticClass:"nav-list",class:"nav-list-cnt-".concat(t.robotNav.list.length,"}")},t._l(t.robotNav.list,(function(a,n){return e("div",{key:n,staticClass:"nav-item"},[e("div",{staticClass:"nav-link",on:{click:function(e){return t.onClick(a)}}},[t._v(t._s(a.name))])])})),0)])])},i=[],s=a("b371"),o={mixins:[s["a"]]},c=o,r=(a("0a1c"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"595f54cd",null);e["default"]=l.exports},9158:function(t,e,a){t.exports=a.p+"img/feed-back.a4d19c36.svg"},"91d0":function(t,e,a){},"933b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{ref:"msgRobot",staticClass:"msg-robot"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.isTyping,expression:"isTyping"}],staticClass:"typing-placehold"},[t._v(t._s(t.$t("common_typing")))]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTyping,expression:"!isTyping"}]},[e("div",{staticClass:"msg-robot-bd"},[e("div",{ref:"msgContent",staticClass:"msg-content",class:t.contentFold?"content-fold":""},[2==t.data.content.type?e("qlist-msg",{attrs:{message:t.data}}):4===t.data.content.type?e("free-msg",{attrs:{message:t.data}}):5===t.data.content.type?e("html-msg",{attrs:{message:t.data}}):6===t.data.content.type?e("batch-msg",{attrs:{message:t.data}}):7===t.data.content.type?e("model-msg",{attrs:{message:t.data}}):17===t.data.content.type?e("table-msg",{attrs:{message:t.data,contentFold:t.contentFold}}):e("msg-unknown")],1),t.contentFold?e("div",{staticClass:"unfold-cnt-btn",on:{click:t.unfold}},[e("span",[t._v(t._s(t.$t("chat_graphic_msg_viewdmore_text")))]),t._m(0)]):t._e()]),t.showVote?e("div",{staticClass:"vote-box"},[t.voteData.active?e("div",[e("span",{staticClass:"vote-icon active",class:"vote-icon-"+t.voteData.active})]):e("div",t._l(t.voteData.button,(function(a){return e("span",{key:a.key,staticClass:"vote-icon",class:"vote-icon-"+a.key,on:{click:function(e){return t.doVote(a)}}})})),0)]):t._e()])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"arrow-down-box"},[e("img",{staticClass:"arrow-down icon-primay",attrs:{src:a("f45a")}})])}],s=a("5530"),o=(a("7db0"),a("d3b7"),a("b64b"),a("159b"),a("e9c4"),a("b680"),a("ac1f"),a("5319"),a("5ac5")),c=a("9ec0"),r=a("f5db"),l=a("8c50"),d=a.n(l);function u(t,e){d()(t,e,"click",(function(t){var e=t.delegateTarget,a=e.getAttribute("src");o["a"].$PictureViewer.show({showPhotoPreView:!0,photoUrls:[a],photoPreviewIndex:[a].length-1,closeOnClickMask:!1})}))}var f=a("4328"),m=a.n(f),h=a("7b05"),g=(a("13d5"),a("ddb0"),a("20ff")),p=g.keys().reduce((function(t,e){var a=Object(s["a"])({},t),n=g(e).default,i=e.replace("./","").replace(".vue","");return a[i]=n,a}),{}),b=p,v=a("6d51"),_=a("9de0"),w=_["b"].create(),y={inject:["globalData","wpaDetail","switchMsgDisplay","to","transferRobotMsg"],components:Object(s["a"])(Object(s["a"])({},b),{},{MsgUnknown:v["default"]}),props:{data:Object},data:function(){var t=this.data.content.vote,e=w.getMessageTags(this.data),a=e.find((function(t){return"satisfaction"===t.tag}));if(a)try{Object.assign(t,JSON.parse(a.value))}catch(n){}return{contentFold:!1,typingFinished:!1,typingTimer:null,voteData:t}},computed:{isTyping:function(){var t=this.globalData.robotDelay;return!this.data.fromHisotry&&t.switch&&t.current===this.data.seq&&!this.typingFinished},showVote:function(){if(this.globalData.robotMsgSetting&&this.globalData.robotMsgSetting.disabledVote)return!1;var t=this.data,e=t.time,a=t.content;if(console.log("[vote]",a.vote),!a.vote)return!1;var n=a.vote.expiredIntervalTime;return!this.contentFold&&Date.now()-e<n},msgRobotid:function(){try{var t=this.data.crm.msg_webim_extra_data,e=t.uint64_robotid;return e}catch(a){return 0}}},watch:{"globalData.robotDelay.current":{handler:function(t){t!==this.data.seq&&(clearTimeout(this.typingTimer),this.typingFinished=!0,this.switchMsgDisplay(this.data.seq,"show"))},deep:!0},isTyping:function(){var t=this;this.$nextTick((function(){t.isTyping||(t.checkIfNeedFold(),o["a"].scrollToBottom())}))}},mounted:function(){var t=this;this.globalData.robotDelay.current=this.data.seq;var e=this.getDelayTime();this.typingTimer=setTimeout((function(){t.typingFinished=!0,t.switchMsgDisplay(t.data.seq,"show"),t.transferRobotMsg({status:"show",seq:t.data.seq,data:t.data})}),1e3*e),this.transferRobotMsg({status:"receive",seq:this.data.seq,data:this.data}),this.$nextTick((function(){t.isTyping||t.checkIfNeedFold(),t.handleContentClick()}))},methods:{checkIfNeedFold:function(){var t=this;if((!this.globalData.robotMsgSetting||!this.globalData.robotMsgSetting.disabledFold)&&!this.isNoSupportFold()){var e=this.$refs.msgContent,a=e.offsetHeight,n=e.querySelectorAll("img");n.forEach((function(n){n.onload=function(){a=e.offsetHeight,t.refreshFoldState(a),t.onLoad()}})),this.refreshFoldState(a),this.onLoad()}},isNoSupportFold:function(){return 7===this.data.content.type},refreshFoldState:function(t){var e=320;this.contentFold=t>=e},unfold:function(){this.contentFold=!1},doVote:function(t){var e=this,a=t.key,n="up"===a?"1":"0",i=this.wpaDetail.kfuin,s="/cl/robotSatisfaction/robotReport?kfuin=".concat(i),o={kfuin:i,visitid:this.to.user_id,robotid:this.msgRobotid,seq:this.voteData.id,type:n};this.$ajax.post(s,m.a.stringify(o),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var n=t.data;0===n.r?(e.$set(e.voteData,"active",a),e.storeDateToMsg({active:a})):console.log("[robot-msg-vote-fail]",n)})).catch((function(t){console.log("[robot-msg-vote-error]",t)}))},storeDateToMsg:function(t){console.log("[storeDateToMsg]",t),w.setMessageTags(this.data,[{tag:"satisfaction",value:JSON.stringify(t)}])},getDelayTime:function(){var t=this.globalData.robotDelay.time,e=this.getDelayWord();return e<=30?(t/4).toFixed(1):e<=100?(t/2).toFixed(1):e<=300?(t/4*3).toFixed(1):t},getDelayWord:function(){var t=this.data.content,e=t.content||"";4===t.type||5===t.type?e=t.content||"":6===t.type&&(e=t.answer.content||""),e=Object(c["a"])(e);var a=e.replace(/<[^>]+>/g,"").replace(/\[f_(.*?)\]/g,"").length;return a},handleContentClick:function(){Object(r["a"])(this.$refs.msgRobot,".msg-content a",{callback:function(t){console.log("[link-click]",t)}}),this.isNoSupportViewImag()||u(this.$refs.msgRobot,".msg-content img")},isNoSupportViewImag:function(){return 7===this.data.content.type},onLoad:function(){Object(h["a"])()<h["b"]&&o["a"].scrollToBottom(!0,500)}}},x=y,A=(a("1118"),a("2877")),C=Object(A["a"])(x,n,i,!1,null,"12024d28",null);e["default"]=C.exports},"939a":function(t,e,a){},"94b7":function(t,e,a){"use strict";a("dc4d")},"94ea":function(t,e,a){"use strict";a.d(e,"b",(function(){return T})),a.d(e,"a",(function(){return q}));a("14d9"),a("a15b"),a("d9e2"),a("99af"),a("ac1f"),a("00b4");var n=a("8a2f"),i={render:function(t,e){var a=t.props,i=a.attrs,s=a.style,o=a.action,c=Object.assign({},s),r=i.orientation,l=void 0===r?"horizontal":r;if(c.display="flex","horizontal"===l?c.flexDirection="row":"vertical"===l&&(c.flexDirection="column"),"none"===s.display&&(c.display="none"),"vertical"===l&&(s.justifyContent&&("center"===s.justifyContent?(c.alignItems="center",c.textAlign="center"):"flex-start"===s.justifyContent?(c.alignItems="flex-start",c.textAlign="left"):"flex-end"===s.justifyContent&&(c.alignItems="flex-end",c.textAlign="right"),s.alignItems||delete c.justifyContent),s.alignItems&&("center"===s.alignItems?c.justifyContent="center":"flex-start"===s.alignItems?c.justifyContent="flex-start":"flex-end"===s.alignItems&&(c.justifyContent="flex-end"),s.justifyContent||delete c.alignItems)),"browser"===o.actionCmd||"web"===o.actionCmd){var d="javascript:;",u=/^http(s)?/.test(o.actionData)?o.actionData:d;return'<div class="msg-xml-container"><a '.concat(u===d?"":'target="_blank"',' href="').concat(u,'" style="').concat(Object(n["c"])(c),'">').concat(e,"</a></div>")}return'<div class="msg-xml-container"><div style="'.concat(Object(n["c"])(c),'">').concat(e,"</div></div>")}},s=i;a("5319");function o(t){return"".concat(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/=/g,"&#61;").replace(/`/g,"&#96;")}var c=a("6cd4");function r(t){var e={},a=t.split("|");return~a.indexOf("bold")&&(e.fontWeight="bold"),~a.indexOf("italic")&&(e.fontStyle="italic"),~a.indexOf("underline")&&(e.textDecoration="underline"),~a.indexOf("delete")&&(e.textDecoration="line-through"),e}var l={render:function(t){var e=t.props,a=e.attrs,i=e.style,s=e.action,l=a.color,d=a.size,u=a.style,f=a.overflow,m=void 0===f?"dot":f,h=a.maxLine,g=void 0===h?0:h,p=a.lineSpace,b=Object.assign({},i);if(l&&(b.color=Object(n["a"])(l)),d&&(b.fontSize=Object(n["b"])(d)),u&&(b=Object.assign({},b,r(u))),p){var v=b.fontSize||"14px",_="".concat(parseInt(v,10)+parseInt(Object(n["b"])(p),10),"px");b.lineHeight=_}if(b.wordBreak="break-all",(m||g)&&(b.overflow="hidden",g)){var w=parseInt(b.fontSize||"14px",10),y=parseInt(b.lineHeight||"".concat(1.5*w,"px"),10),x="".concat(y*g,"px");b.maxHeight=x,b.display="-webkit-box",b.WebkitBoxOrient="vertical",b.WebkitLineClamp=g}return"browser"!==s.actionCmd&&"web"!==s.actionCmd&&"plugin"!==s.actionCmd||!s.actionData||"javascript:;"===s.actionData?s.type?'<div title="'.concat(o(String(a.text)),'" style="').concat(Object(n["c"])(b),'" ').concat(c["b"],'="').concat(s.type,'" ').concat(c["a"],'="').concat(s.fun,'">').concat(o(String(a.text)),"</div>"):'<div title="'.concat(o(String(a.text)),'" style="').concat(Object(n["c"])(b),'">').concat(o(String(a.text)),"</div>"):"web"===s.actionCmd&&s.actionData&&"javascript:;"!==s.actionData&&0!==s.actionData.indexOf("http")&&a&&a.url&&0===a.url.indexOf("http")?'<a target="_blank" href="'.concat(s.actionData,'" style="').concat(Object(n["c"])(b),'" title="').concat(o(String(a.text)),'" onclick="window.open(\'').concat(a.url,"')\">").concat(o(String(a.text)),"</a>"):'<a target="_blank" href="'.concat(s.actionData,'" style="').concat(Object(n["c"])(b),'" title="').concat(o(String(a.text)),'">').concat(o(String(a.text)),"</a>")}},d=l,u={width:404,height:404},f=function(t){var e="";for(var a in t){var n=void 0!==t[a]?t[a]:"";e+="&".concat(a,"=").concat(encodeURIComponent(n))}return""!==e?e.substring(1):""},m=function(t,e){if(t.indexOf("data:image")>-1)return t;var a=t.indexOf("?")>-1,n=f(e);return t+=(a?"&":"?")+n,t},h={render:function(t){var e=t.props,a=e.attrs,i=e.style,s=e.action,o=i.width,r=i.height,l=m(a.src,u);return s.type?'<div style="'.concat(Object(n["c"])(i),'" ').concat(c["a"],'="').concat(s.type,'" ').concat(c["b"],'="').concat(s.eventType,'"><img style="width: ').concat(o,"; height: ").concat(r,';" src="').concat(l,'" title="').concat(a.toolTip||"",'" /></div>'):'<div style="'.concat(Object(n["c"])(i),'"><img style="width: ').concat(o,"; height: ").concat(r,';" src="').concat(l,'" title="').concat(a.toolTip||"",'" /></div>')}},g=h,p={render:function(t,e){var a=t.props,i=a.attrs,s=a.style,o=a.action,c=Object.assign({},s),r=i.orientation,l=void 0===r?"horizontal":r;return c.display="flex","horizontal"===l?c.flexDirection="row":"vertical"===l&&(c.flexDirection="column"),"none"===s.display&&(c.display="none"),"vertical"===l&&(s.justifyContent&&("center"===s.justifyContent?(c.alignItems="center",c.textAlign="center"):"flex-start"===s.justifyContent?(c.alignItems="flex-start",c.textAlign="left"):"flex-end"===s.justifyContent&&(c.alignItems="flex-end",c.textAlign="right"),s.alignItems||delete c.justifyContent),s.alignItems&&("center"===s.alignItems?c.justifyContent="center":"flex-start"===s.alignItems?c.justifyContent="flex-start":"flex-end"===s.alignItems&&(c.justifyContent="flex-end"),s.justifyContent||delete c.alignItems)),"browser"!==o.actionCmd&&"web"!==o.actionCmd&&"plugin"!==o.actionCmd||!o.actionData||"javascript:;"===o.actionData?'<div style="'.concat(Object(n["c"])(c),'">').concat(e,"</div>"):"web"===o.actionCmd&&o.actionData&&"javascript:;"!==o.actionData&&0!==o.actionData.indexOf("http")&&i&&i.url&&0===i.url.indexOf("http")?'<a target="_blank" href="'.concat(o.actionData,'" style="').concat(Object(n["c"])(c),'" onclick="window.open(\'').concat(i.url,"')\">").concat(e,"</a>"):'<a target="_blank" href="'.concat(o.actionData,'" style="').concat(Object(n["c"])(c),'">').concat(e,"</a>")}},b=p,v={render:function(t,e){var a=t.props,i=a.style,s=Object.assign({},i);return'<div class="msg-xml-divider" style="'.concat(Object(n["c"])(s),'">').concat(e,"</div>")}},_=v,w={render:function(t,e){var a=t.props,i=a.attrs,s=a.style,o=Object.assign({},s),c="",r=i.expand,l=void 0===r?"0":r;return"1"===l&&(c="expand"),"none"===s.display&&(o.display="none"),'<div class="msg-xml-fold '.concat(c,'" style="').concat(Object(n["c"])(o),'">').concat(e,"</div>")}},y=w,x={render:function(t,e){var a=t.props,i=a.style,s=a.action,o=a.attrs,c=Object.assign({},i);return"browser"!==s.actionCmd&&"web"!==s.actionCmd&&"plugin"!==s.actionCmd||!s.actionData||"javascript:;"===s.actionData?'<div style="'.concat(Object(n["c"])(c),'">').concat(e,"</div>"):"web"===s.actionCmd&&s.actionData&&"javascript:;"!==s.actionData&&0!==s.actionData.indexOf("http")&&o&&o.url&&0===o.url.indexOf("http")?'<a target="_blank" href="'.concat(s.actionData,'" style="').concat(Object(n["c"])(c),'" onclick="window.open(\'').concat(o.url,"')\">").concat(e,"</a>"):'<a target="_blank" href="'.concat(s.actionData,'" style="').concat(Object(n["c"])(c),'">').concat(e,"</a>")}},A=x,C={msg:s,text:d,image:g,linear:b,divider:_,fold:y,container:A};function T(t){for(var e=t.tag,a=t.children,n=[],i=0,s=a.length;i<s;i++)n.push(T(a[i]));var o=C[e];if(o)return o.render(t,n.join(""));throw new Error("unknown tag: ".concat(e))}function q(t,e){var a=e.dir||"c2b";return'<div class="msg-'.concat(a,' msg-xml" data-guid="').concat(e.seq,'">').concat(T(t),"</div>")}},"95b8":function(t,e,a){"use strict";a("794f")},"96b4":function(t,e,a){},"96c5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAAXNSR0IArs4c6QAABHFJREFUeAHtnTlsE0EUhv+x4+CYMwQJ6JBAFKkAQYGgAESDBKJKDxIUIFHRcAiBKCip6JCgo4moOBJAHAVQIISoQsTdIJBIOAM5vPHwxos1RnHWxpk3E2/eSNHOtf/M+/blebxrexT+Jq11Fr+/7Ad0D1V107ELUHlorSp95FiDgFKaWI0Rq2FqHaBjLwpLLyulJk3vMjw9MrICarQXGltrSEjV/xJQeAjd0aMWLPikYs8deiBw/5dinf4GcmHZNqV/DR+ALl2s012amyGgMgczf2NuM6fLOXUJ6B4CbF7QJDER6DYeTKsFSTwEdBcBpqWYJCYCKp+RdS4TWyNL7yFMDJbESEAAM8I10gJYADMTYJYXDxbAzASY5cWDBTAzAWZ58WABzEyAWV48WAAzE2CWFw9mBtzGrB/Lv70DPLsETIywD1eM6CHvxoPIde9lH6uRAfx4sCe4xmAdjeH7rbOIBq41Yj97Hz+APXhuNalSqYRv/WcQvbheXR0k7wdwANNKmiD3nUY0eDPA6HbI1AI2JsaQTyF62Wct9pxLNeAyZBMubhjItzyjjYdLPeAY8iRBPkmQaTXjOc0JwBbycUSvb3tF7GcdPJ1JuQ5g0yHb+qof+EwfUGRKpRJ58rUTWLIng7Y1O5lG+Vc2rAe3zQNWbbd/85f/OzuGUgz5GKI39xnUp0qG9eCp85lxTVuuHYsWd9bVKT06D6ymi8ucwgKmf1l8fW9NzNGHjDpXxeXJIvDjg21rMJfJZpEvzG+wN3+3sIDHfwJ9R6yVm49STD4clw346jbbq6VyYWNwS6FqbrICuDluDZ8VNkS0U6zccsxO9uNT4P3duFyk75WkIIUFnM0BK9dZjO/uAR+f23IKchIimC9iWA82S7Fqj80vsh5tQsTQILP5/PJhAU/8Au6fslaaZdqGA3FZlmmWi+SmJyAxeHo2TlrChoh5C4Ed56whr+nxzuDVuBxN2PoWzoUFnMnaew8Gonlhq7430cJgK1OXEFEhwXQM68HROL1zq7ov27E0vjdsjC3SCuPDEyaz/cmGBVwcBR7TfdlKMsu09fvikgkVKQAsIaJycZmOApgJbEU2bIjILwZ2XajMBWgv2HxKcmEBK/pFm44lKUFZ2wwJEbW5OKsVwM5Q1hYSwLW5OKsVwM5Q1hYSwLW5OKsNu4oY/QZc2ePMmNkoJB7MfFUEsABmJsAsLx6cCsBZ+hzwbEue5uTHg9funm14AU9zUnrkM3331EP6PQSM83+VtiFLzMPWQldDXWfayR/gmc60Rc/3EyJaFI6LaQtgFxQTNARwAhwXTQLYBcUEDQGcAMdFkwB2QTFBQwAnwHHRJIBdUEzQEMAJcFw0CWAXFBM0BHACHBdNAtgFxQQNAZwAx0VTBuX90FxIicYUAsSWPNhsNieJh4AeI8Dlnfx49Oe8qho2MZjvV4jmPGAMGA/uFQ5cBFSvbDnJxjbecjJT3j2VNvik7VMfco0153Qrm6bSzrTlXWkNANn2t0k3qLPt7x/RTQhxmvVRtwAAAABJRU5ErkJggg=="},"97e5":function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"d",(function(){return i})),a.d(e,"w",(function(){return s})),a.d(e,"h",(function(){return o})),a.d(e,"e",(function(){return c})),a.d(e,"q",(function(){return r})),a.d(e,"g",(function(){return l})),a.d(e,"u",(function(){return d})),a.d(e,"l",(function(){return u})),a.d(e,"p",(function(){return f})),a.d(e,"z",(function(){return m})),a.d(e,"y",(function(){return h})),a.d(e,"a",(function(){return g})),a.d(e,"t",(function(){return p})),a.d(e,"s",(function(){return b})),a.d(e,"k",(function(){return v})),a.d(e,"i",(function(){return _})),a.d(e,"n",(function(){return w})),a.d(e,"m",(function(){return y})),a.d(e,"f",(function(){return x})),a.d(e,"b",(function(){return A})),a.d(e,"o",(function(){return C})),a.d(e,"v",(function(){return T})),a.d(e,"j",(function(){return q})),a.d(e,"x",(function(){return k})),a.d(e,"r",(function(){return I}));var n="/v1/receptionConf/webim/getCommonInfo",i="/v1/receptionConf/webim/getCompanyInfo",s="/reception/leaveMessage/sendCaptcha",o="/reception/leaveMessage/customerMessageConfig",c="/v1/receptionConf/leaveMessage/customerMessageCreate",r="/log_processing/data_report/robot_answer_report",l="/tp/wpaCall/GetAddFriendProtocol",d="/template/blue/wpa/link.html",u="/tp/wpaCall/getWebProtocol",f="/rtc/action/report",m="/video/wxsdk/signature",h="/video/mini_program/urlscheme",g="/v1/interface/inner/cloudcc_303905",p="/robot/delayReply",b="/v1/customerService/robot/getRobotAPIStyleTemplateDataList",v="/v1/commerce/c/item/get",_="/v1/interface/inner/cloudcc_303206",w="/im_msg_tracing_report",y="/settings/CcXiaoWeiTTS",x="/receptionConf/digitalHuman/create",A="/receptionConf/digitalHuman/close",C="/receptionConf/digitalHuman/interrupt",T="/v1/cantonFair/SendC2BCard",q="/v1/cantonFair/GetXmlMsgData",k="/v1/cantonFair/SwitchLanguage",I="/v1/robot/auto/complete"},9997:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-face"},[e("span",{domProps:{innerHTML:t._s(t.processedFace)}})])},i=[],s=a("d90f"),o={props:{data:Object},data:function(){return{selectedText:""}},computed:{processedFace:function(){var t=s["a"].faceTipEscape(this.data.index);return t||this.data.content}},methods:{}},c=o,r=(a("f7e2"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"4ab77b05",null);e["default"]=l.exports},"9a5b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return 14===t.templateType?e("reverso-msg",{attrs:{message:t.message}}):16===t.templateType?e("node-msg",{attrs:{message:t.message}}):t._e()},i=[],s=function(){var t=this,e=t._self._c;return 4===t.templateId||1===t.templateId?e("bubble-msg",{attrs:{message:t.message,isShowLoading:t.isShowLoading},on:{chooseItem:t.chooseItem,loadMore:t.loadMore}}):3===t.templateId?e("card-msg",{attrs:{message:t.message,isShowLoading:t.isShowLoading},on:{chooseItem:t.chooseItem,loadMore:t.loadMore}}):t._e()},o=[],c=a("5530"),r=a("c7eb"),l=a("1da1"),d=(a("99af"),a("e9c4"),a("b0c0"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"bubble-list"},[e("div",{staticClass:"bubbleList-head"},[e("div",{staticClass:"bubbleList-head-tip"},[t._v(t._s(t.content.tit))])]),t.contentList&&t.contentList.length?e("div",{staticClass:"bubbleList-body"},[t.isGroupType?[t._l(t.contentList,(function(a){return[e("li",{staticClass:"bubbleList-body-head"},[e("div",{staticClass:"left"},[e("img",{staticClass:"logo",attrs:{src:a.logo,alt:""}}),e("div",{staticClass:"tit"},[t._v(t._s(a.name))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"status"},[t._v(t._s(a.status))])])]),a.subList&&a.subList.length?e("bubble-item",{attrs:{list:a.subList},on:{chooseItem:t.chooseItem}}):t._e()]}))]:e("bubble-item",{attrs:{list:t.contentList},on:{chooseItem:t.chooseItem}})],2):t._e(),t.hasNext||t.isShowLoading?e("div",{staticClass:"bubbleList-bottom"},[t.hasNext?e("div",{staticClass:"more-btn",on:{click:t.loadMore}},[t._v("查看更多")]):t.isShowLoading?e("i",{staticClass:"loading loading-s"}):t._e()]):t._e()])}),u=[],f=function(){var t=this,e=t._self._c;return e("div",t._l(t.list,(function(a){return e("div",{staticClass:"bubbleList-body-body",on:{click:function(e){return t.chooseItem(a)}}},[e("div",{staticClass:"left"},[a.logo?e("img",{staticClass:"logo",attrs:{src:a.logo}}):t._e()]),e("div",{staticClass:"right"},[a.tit?e("div",{staticClass:"m1"},[t._v(t._s(a.tit))]):t._e(),a.des?e("div",{staticClass:"m2"},[t._v(t._s(a.des))]):t._e(),e("div",{staticClass:"bottom"},[e("div",{staticClass:"bottom-left"},[t.isNumSet(a.mon)?e("div",{staticClass:"m3"},[e("span",[t._v(t._s(a.mon))])]):t._e(),t.isNumSet(a.count)?e("div",{staticClass:"m4"},[t._v("x"),e("span",[t._v(t._s(a.count))])]):t._e()]),t.isNumSet(a.much)?e("div",{staticClass:"bottom-right m4"},[e("span",[t._v(t._s(a.much))]),t._v("件已售 ")]):t._e()])])])})),0)},m=[],h={props:{list:{type:Array,default:function(){return[]}}},methods:{chooseItem:function(t){this.$emit("chooseItem",t)},isNumSet:function(t){return t||"0"===String(t)}}},g=h,p=(a("24a3"),a("2877")),b=Object(p["a"])(g,f,m,!1,null,"a993ded8",null),v=b.exports,_={props:{message:{type:Object,default:function(){return{}}},isShowLoading:{type:Boolean,default:!1}},components:{BubbleItem:v},data:function(){return{content:{},contentList:[],tab:[],hasNext:!1,isGroupType:!0}},watch:{message:{deep:!0,handler:function(t){this.parseMessage(t)}}},mounted:function(){this.parseMessage(this.message)},methods:{loadMore:function(){this.hasNext=!1,this.$emit("loadMore",{type:"bubble"})},chooseItem:function(t){this.$emit("chooseItem",t)},parseMessage:function(t){var e,a,n=t.content.content.contentData,i=n.contentList,s=void 0===i?[]:i,o=n.tab,c=void 0===o?[]:o;this.content=null===t||void 0===t||null===(e=t.content)||void 0===e?void 0:e.content,this.hasNext=null===(a=this.content.contentData)||void 0===a?void 0:a.hasNext,this.contentList=s,this.tab=c,this.isGroupType=4===this.content.templateId}}},w=_,y=(a("1414"),Object(p["a"])(w,d,u,!1,null,"bbe9df86",null)),x=y.exports,A=function(){var t=this,e=t._self._c;return e("div",{class:["card-container",t.isMobile?"":"pc-card"]},[e("div",{staticClass:"ac-top"},[t._v(t._s(t.content.tit))]),t.shownContentList&&t.shownContentList.length?e("div",{ref:"list",staticClass:"ac-bottom",on:{scroll:t.onScroll}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showLeftArrow,expression:"showLeftArrow"}],staticClass:"left-btn icon-arrow-right",on:{click:t.leftArrowClick}}),t._l(t.shownContentList,(function(a){return e("div",{staticClass:"cardList-body",on:{click:function(e){return t.chooseItem(a)}}},[a.logo?e("div",{staticClass:"top"},[e("img",{staticClass:"logo",attrs:{src:a.logo,alt:""}})]):t._e(),e("div",{staticClass:"bottom"},[e("div",{staticClass:"bottom-top"},[t._v(t._s(a.tit))]),e("div",{staticClass:"bottom-bottom"},[t.isNumSet(a.mon)?e("div",{staticClass:"m3"},[t._v(t._s(a.currencyUnit)),e("span",[t._v(t._s(a.mon))])]):t._e(),t.isNumSet(a.much)?e("div",{staticClass:"m4"},[e("span",[t._v(t._s(a.much))]),t._v("件已售")]):t._e()])])])})),t.showRightArrow?e("div",{staticClass:"right-btn icon-arrow-right",on:{click:t.rightArrowClick}}):t._e()],2):t._e()])},C=[],T=(a("fb6a"),a("6e0c")),q=4,k={props:{message:{type:Object,default:function(){return{}}}},computed:{isMobile:function(){return!this.$platform.pc},shownContentList:function(){return this.isMobile?this.contentList:this.contentList.slice(this.leftIndex,this.rightIndex+1)},showLeftArrow:function(){return!this.isMobile&&0!==this.leftIndex},showRightArrow:function(){return!this.isMobile&&(this.hasNext||this.rightIndex<this.contentList.length-1)}},data:function(){return{openPop:!0,content:{},contentList:[],leftIndex:0,rightIndex:q-1,hasNext:!0}},mounted:function(){this.setContainerHeight(),this.parseMessage(this.message)},watch:{message:{deep:!0,handler:function(t){this.parseMessage(t)}}},methods:{setContainerHeight:function(){var t=document.querySelector('[seq="'.concat(this.message.seq,'"]'));t&&t.classList&&t.classList.add("robot-card-container")},chooseItem:function(t){this.$emit("chooseItem",t)},loadMore:function(){this.hasNext&&this.$emit("loadMore")},onScroll:Object(T["a"])((function(){if(this.isMobile){var t=this.$refs.list;if(t){var e=t.scrollWidth,a=t.scrollLeft,n=t.offsetWidth;e-(a+n)<10&&this.loadMore()}}}),300),parseMessage:function(t){var e,a=t.content.content.contentData,n=a.contentList,i=void 0===n?[]:n,s=a.hasNext;this.content=null===(e=this.message)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.content,this.contentList=i,this.hasNext=s,this.shownContentList.length<q&&this.rightIndex<this.contentList.length-1&&(this.rightIndex=this.rightIndex+(q-this.shownContentList.length)>this.contentList.length-1?this.contentList.length-1:this.rightIndex+(q-this.shownContentList.length))},rightArrowClick:function(){this.leftIndex=this.rightIndex+1,this.rightIndex=this.rightIndex+q>this.contentList.length-1?this.contentList.length-1:this.rightIndex+q,this.shownContentList.length<q&&this.hasNext&&this.loadMore()},leftArrowClick:function(){this.rightIndex=this.leftIndex-1,this.leftIndex=this.leftIndex-q},isNumSet:function(t){return t||"0"===String(t)}}},I=k,M=(a("71e9"),Object(p["a"])(I,A,C,!1,null,"4426f834",null)),O=M.exports,S=a("fc61"),D=a("5ac5"),j=a("20b7"),P={components:{BubbleMsg:x,CardMsg:O},inject:["to","wpaDetail","switchMsgDisplay"],props:{message:{type:Object,default:function(){return{}}}},computed:{templateId:function(){var t;return null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.templateId}},data:function(){return{isShowLoading:!1}},methods:{loadMore:function(){var t=arguments,e=this;return Object(l["a"])(Object(r["a"])().mark((function a(){var n,i,s,o,c,l,d,u,f,m,h,g,p,b,v,_,w,y,x,A,C,T,q,k,I,M,O,S,P;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:{},i=e.message.content.content,s=i.contentData.currentPage,o=i.questionId,c=void 0===o?"":o,l=i.domain,d=void 0===l?"":l,u=i.intent,f=void 0===u?"":u,m=i.tabId,h=i.pageSize,g=e.message.crm,p=g.msg_webim_extra_data,b=p.bytes_wpaid,v=void 0===b?"":b,_=p.uint64_robotid,w=void 0===_?"":_,y=g.str_session_id,x={questionId:c,domain:d,intent:f,tabId:m,pageSize:h,currentPage:s+1,robotId:w,sessionId:y,wpaId:v,corpUin:e.wpaDetail.kfuin,visitId:e.to.user_id,channelType:3},e.isShowLoading=!0,a.next=7,Object(j["a"])(x);case 7:if(A=a.sent,e.isShowLoading=!1,C=A.code,T=A.msg,q=A.data,0!==+C){a.next=29;break}if(a.prev=11,q.contentData){a.next=16;break}return e.$Toast("暂无更多订单"),e.message.content.content.contentData.hasNext=!1,a.abrupt("return");case 16:k=q.contentData,I=k.contentList,M=void 0===I?[]:I,O=k.hasNext,S=k.currentPage,P=e.message.content.content.contentData.contentList.concat(M),e.message.content.content.contentData.hasNext=O,e.message.content.content.contentData.currentPage=S,e.$set(e.message.content.content.contentData,"contentList",P),"bubble"===n.type&&e.$nextTick((function(){D["a"].scrollToBottom()})),a.next=27;break;case 24:a.prev=24,a.t0=a["catch"](11),e.$Toast("更多数据加载失败");case 27:a.next=30;break;case 29:e.$Toast(T||"更多数据加载失败");case 30:case"end":return a.stop()}}),a,null,[[11,24]])})))()},chooseItem:function(t){this.openPop=!1,this.switchMsgDisplay(this.message.seq,"delete"),D["a"].sendQDXMLMessage({qdxml:{content:Object(S["a"])(t)}},null,{robot_ctrl:{str_ext2robot:JSON.stringify(Object(c["a"])(Object(c["a"])({},t),{},{extRobotType:2}))}})}}},E=P,F=Object(p["a"])(E,s,o,!1,null,null,null),L=F.exports,R=function(){var t=this,e=t._self._c;return e("div",{ref:"container",class:["node-container",t.isShowLoadMoer?"limit-height":"",t.isMobile?"":"pc-node"]},[e("div",{staticClass:"title"},[t._v(t._s(t.content.title))]),e("div",{staticClass:"subTitle",attrs:{title:"content.subTitledesc"}},[t._v(t._s(t.content.subTitledesc))]),t._l(t.content.list,(function(a,n){return e("div",{staticClass:"list"},[e("div",{staticClass:"list-icon"},[e("div",{staticClass:"icon-dot"}),n!==t.content.list.length-1?e("div",{staticClass:"icon-line"}):t._e()]),e("div",{staticClass:"list-item"},[e("div",{staticClass:"item-name"},[t._v(t._s(a.name))]),e("div",{staticClass:"item-desc"},[t._v(t._s(a.desc))])])])})),t.isShowLoadMoer?e("div",{staticClass:"xml-more"},[e("div",{class:[t.isMobile?"xml-more-h5":"xml-more-pc"]}),e("div",{staticClass:"xml-more__btn",on:{click:t.loadMore}},[t._v("查看更多")])]):t._e()],2)},N=[],B={props:{message:{type:Object,default:function(){return{}}}},computed:{content:function(){return this.message.content.content.content},isMobile:function(){return!this.$platform.pc}},data:function(){return{isShowLoadMoer:!1}},mounted:function(){this.isShowLoadMoer=this.$refs.container.offsetHeight>340},methods:{loadMore:function(){this.isShowLoadMoer=!1}}},G=B,Q=(a("0e1a"),Object(p["a"])(G,R,N,!1,null,"d27f8340",null)),z=Q.exports,U={props:{message:{type:Object,default:function(){return{}}}},computed:{templateType:function(){var t;return null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.type}},components:{ReversoMsg:L,NodeMsg:z}},H=U,Y=Object(p["a"])(H,n,i,!1,null,null,null);e["default"]=Y.exports},"9b11":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return t.errorText?e("div",[t._v(t._s(t.errorText))]):e("div",{staticClass:"msg-image-text"},[6==t.layout?e("div",{staticClass:"image-text-layout6"},[e("span",[t._v(t._s(t.jsonData.top.title))]),e("em",[t._v(t._s(t.jsonData.top.summary_time))]),e("a",{staticClass:"cover",style:{backgroundImage:"url("+t.jsonData.top.cover+")"},attrs:{target:"_blank",href:t.jsonData.top.url}}),e("strong",[t._v(t._s(t.jsonData.top.summary_content))]),e("a",{staticClass:"more",attrs:{target:"_blank",href:t.jsonData.top.url}},[t._v(t._s(t.$t("common_read_all")))])]):t._e(),5==t.layout?e("div",{staticClass:"image-text-layout5"},[e("a",{staticClass:"cover",style:{backgroundImage:"url("+t.jsonData.top.cover+")"},attrs:{target:"_blank",href:t.jsonData.top.url}},[e("span",[t._v(t._s(t.jsonData.top.title))])]),t._l(t.jsonData.list,(function(a,n){return e("a",{key:n,staticClass:"layout4",attrs:{target:"_blank",href:a.url}},[e("span",[t._v(t._s(a.title))]),e("em",{style:{backgroundImage:"url("+a.cover+")"}})])}))],2):t._e()])},i=[],s=a("c7eb"),o=a("1da1"),c=(a("b64b"),a("d3b7"),a("159b"),a("14d9"),a("ac1f"),a("5319"),a("a15b"),a("c51a")),r=a("9de0"),l=a("bc3a"),d=a.n(l),u=a("7b05"),f=a("5ac5"),m={props:{data:Object},data:function(){return{jsonData:null,layout:0,errorText:""}},computed:{},mounted:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a,n,i,o,l,u,f;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.data.content||t.data.path){e.next=2;break}return e.abrupt("return");case 2:if(t.data.content){e.next=25;break}if(e.prev=3,!t.data.compressed){e.next=10;break}return e.next=7,r["c"].downloadAndParseLongText(t.data,"xml");case 7:t.data.content=e.sent,e.next=19;break;case 10:return e.next=12,r["c"].getDownloadUrl(t.data,r["b"].OBJTYPES.OBJ_LONGTEXT);case 12:if(a=e.sent,!a){e.next=18;break}return e.next=16,d.a.get(a);case 16:n=e.sent,200===n.status&&(t.data.content=n.data);case 18:case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](3),t.errorText="获取消息内容异常";case 24:case 25:if(t.data.content){e.next=29;break}return t.errorText="获取消息内容异常",e.abrupt("return");case 29:i=Object(c["xml2json"])(t.data.content,{compact:!0,ignoreDeclaration:!0}),i=JSON.parse(i),o=i&&i.msg||{},l=o.item||[],u=0,f={top:{},list:[]},l.forEach&&l.forEach((function(t){if(t._attributes){var e=t._attributes.layout-0;5===e||6===e?(u=e,f.top={url:t._attributes.url||o._attributes.url,title:t.title._text,cover:t.picture._attributes.cover,brief:o._attributes.brief,summary_time:t.summary&&t.summary[0]&&t.summary[0]._text||"",summary_content:t.summary&&t.summary[1]&&t.summary[1]._text||""}):f.list.push({url:t._attributes.url,title:t.title._text,cover:t.picture._attributes.cover})}})),u&&(t.jsonData=f,t.layout=u),t.onLoad();case 39:case"end":return e.stop()}}),e,null,[[3,21]])})))()},methods:{format:function(t){var e=new Date(t),a=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return["".concat(a,":"),"".concat(n,":"),i].join("").replace(/\b(\d)\b/g,"0$1")},onLoad:function(){Object(u["a"])()<u["b"]&&f["a"].scrollToBottom(!0,500)}}},h=m,g=(a("7593"),a("2877")),p=Object(g["a"])(h,n,i,!1,null,"c08b51c4",null);e["default"]=p.exports},"9b4f":function(t,e,a){"use strict";try{console.log=function(){},console.warn=function(){},console.error=function(){},console.info=function(){}}catch(n){}},"9c34":function(t,e,a){"use strict";a("7185")},"9c76":function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{class:["more-topics",t.isMobile?"":"more-topics-pc"]},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-title"},t._l(t.robotNav.subs,(function(a,n){return e("div",{key:n,staticClass:"title-wrapper",class:t.currentTab===n?"active":"",on:{click:function(e){return t.onChangeTab(n,a)}}},[e("div",{staticClass:"title-name"},[t._v(t._s(a.tit))])])})),0),e("div",{staticClass:"nav-list-wrapper"},t._l(t.robotNav.subs,(function(n,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentTab===i,expression:"currentTab === index"}],key:i,staticClass:"nav-list"},[e("div",{staticClass:"nav-list-content"},t._l(t.getPageData(n),(function(i,s){return e("div",{key:s,staticClass:"nav-item nav-link",on:{click:function(e){return t.onClick(i,{robot_nav_event_type:3,robot_nav_first_menu_id:0,robot_nav_first_menu_name:n.tit,robot_nav_second_menu_id:i.id,robot_nav_second_menu_name:i.name||i.question||""})}}},[e("div",{staticClass:"nav-item-text"},[t._v(t._s(i.name||i.question||""))]),e("img",{staticClass:"icon-arrow-right",attrs:{src:a("c3d8")}})])})),0),n.showChange?e("div",{staticClass:"nav-change",on:{click:function(e){return t.onChange(n)}}},[t._m(0,!0)]):t._e()])})),0)])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-change-box"},[e("img",{staticClass:"batch-head-icon icon-primay",attrs:{src:a("9fa0")}}),t._v(" 换一批 ")])}],s=a("b371"),o={mixins:[s["a"]]},c=o,r=(a("b9c3"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"63d48b12",null);e["default"]=l.exports},"9cdd":function(t,e,a){t.exports=a.p+"img/arrow-down.c6ecc8c8.svg"},"9dca":function(t,e,a){},"9ec0":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return i}));a("ac1f"),a("5319");var n=function(t){return"".concat(t).replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/'/g,"&#39;").replace(/"/g,"&#34;").replace(/=/g,"&#61;").replace(/`/g,"&#96;")};function i(t){return"".concat(t).replace(/&#38;/g,"&").replace(/&#60;/g,"<").replace(/&#62;/g,">").replace(/&#39;/g,"'").replace(/&#34;/g,'"').replace(/&#160;/g," ").replace(/&#61;/g,"=").replace(/&#96;/g,"`")}},"9f4d":function(t,e,a){},"9f4f":function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{class:["simple-words",t.isMobile?"":"simple-words-pc"]},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-title"},[t._v(t._s(t.robotNav.tit))]),e("div",{staticClass:"nav-list"},t._l(t.getPageData(t.robotNav,10),(function(a,n){return e("div",{key:n,staticClass:"nav-list-link"},[5===a.action?e("message-link",{key:n,attrs:{link:{url:"qdweb://webim/message/sendc2b?content="+a.name,text:a.name,canClickAgain:!0}},on:{click:function(e){return t.onClick(a,{robot_nav_msg_dir:1})}}}):e("div",{key:n,staticClass:"nav-item"},[e("div",{staticClass:"nav-link",on:{click:function(e){return t.onClick(a)}}},[t._v(t._s(a.name))])])],1)})),0),t.robotNav.showChange?e("div",{staticClass:"nav-change",on:{click:function(e){return t.onChange(t.robotNav)}}},[t._m(0)]):t._e()])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-change-box"},[e("img",{staticClass:"batch-head-icon icon-primay",attrs:{src:a("9fa0")}}),t._v(" 换一批 ")])}],s=a("b371"),o=a("88ab"),c={mixins:[s["a"]],components:{MessageLink:o["a"]}},r=c,l=(a("8380"),a("2877")),d=Object(l["a"])(r,n,i,!1,null,"d121a9d2",null);e["default"]=d.exports},"9fa0":function(t,e,a){t.exports=a.p+"img/changeBatch.abe0bd70.svg"},"9fa6":function(t,e,a){t.exports=a.p+"img/video.94c67cce.svg"},a0f5:function(t,e,a){"use strict";a("e95b")},a12f:function(t,e,a){"use strict";a("f6f1")},a257:function(t,e,a){},a273:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"richmsg-type-5"},[e("div",{domProps:{innerHTML:t._s(t.msgContent)}})])])},i=[],s=a("f439"),o=a("d90f"),c={props:{message:{type:Object,default:function(){return{}}}},data:function(){var t=this.message.content,e=o["a"].coverEmojIndex2EmojiImg(Object(s["a"])(t.content||""));return{msgData:t,msgContent:e}}},r=c,l=(a("ad3b"),a("2877")),d=Object(l["a"])(r,n,i,!1,null,"1a02e7d3",null);e["default"]=d.exports},a33c:function(t,e){t.exports="data:image/png;base64,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"},a358:function(t,e,a){},a3d9:function(t,e,a){"use strict";a.r(e);a("99af");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"goods-side-slip-box",class:t.isMobile?"h5":"pc"},[e("div",{staticClass:"side-slip"},t._l(t.message,(function(a,n){return e("div",{key:n,staticClass:"side-slip__item",on:{click:function(e){return t.jumpLinkUrl(a)}}},[e("div",{staticClass:"side-slip__img"},[e("img",{attrs:{src:a.image}})]),e("div",{staticClass:"side-slip__info"},[e("div",{staticClass:"side-slip__title"},[t._v(" "+t._s(a.title?a.title:"")+" ")]),e("div",{staticClass:"side-slip__sale"},[e("div",{staticClass:"side-slip__price"},[t._v(" "+t._s("".concat(a.currencyUnit?a.currencyUnit:"¥"," ").concat(a.price))+" ")]),e("div",{staticClass:"side-slip__desc"},[t._v(" "+t._s(a.sales)+"件已售 ")])])])])})),0)])},i=[],s=(a("b64b"),{props:{data:Object},data:function(){return{message:""}},computed:{isMobile:function(){return!this.$platform.pc}},mounted:function(){this.message="string"===typeof this.data.content.content?JSON.parse(this.data.content.content):this.data.content.content},methods:{jumpLinkUrl:function(t){t.jumpURL&&window.open(t.jumpURL,"_blank")}}}),o=s,c=(a("45fa"),a("2877")),r=Object(c["a"])(o,n,i,!1,null,"1f53ff4c",null);e["default"]=r.exports},a532:function(t,e,a){},a5e1:function(t,e,a){"use strict";a("73cc")},a84e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-manual-typing"},[e("span",{staticClass:"typing-placehold"},[t._v(t._s(t.$t("common_typing")))])])},i=[],s={props:{data:Object},data:function(){return{}}},o=s,c=(a("b487"),a("2877")),r=Object(c["a"])(o,n,i,!1,null,"39f15374",null);e["default"]=r.exports},aafd:function(t,e,a){t.exports=a.p+"img/order.0f25e942.svg"},ab58:function(t,e,a){"use strict";a("067e")},ac26:function(t,e,a){"use strict";a.r(e),e["default"]={lang:"繁體中文",qqface_Smile:"微笑",qqface_Grimac:"憋嘴",qqface_Drool:"色",qqface_Scowl:"發呆",qqface_Chill:"得意",qqface_Sob:"流淚",qqface_Shy:"害羞",qqface_Silent:"閉嘴",qqface_Sleep:"睡",qqface_Cry:"大哭",qqface_Awkward:"尷尬",qqface_Angry:"發怒",qqface_Tongue:"調皮",qqface_Grin:"呲牙",qqface_Surprise:"驚訝",qqface_Frown:"難過",qqface_CoolGuy:"酷",qqface_Helpless:"冷汗",qqface_Scream:"抓狂",qqface_Puke:"吐",qqface_Chuckle:"偷笑",qqface_Joyful:"可愛",qqface_Slight:"白眼",qqface_Smug:"傲慢",qqface_Hungry:"飢餓",qqface_Drowsy:"困",qqface_Panic:"驚恐",qqface_Sweat:"流汗",qqface_Laugh:"憨笑",qqface_Commando:"大兵",qqface_Determined:"奮鬥",qqface_Scold:"咒罵",qqface_Confused:"疑問",qqface_Shhh:"噓...",qqface_Dizzy:"暈",qqface_Torturing:"折磨",qqface_Toasted:"蓑",qqface_Skull:"骷顱",qqface_Hammer:"敲打",qqface_Bye:"再見",qqface_Speechless:"擦汗",qqface_NosePick:"摳鼻",qqface_Clap:"鼓掌",qqface_Embarrased:"糗大了",qqface_Trick:"壞笑","qqface_Hum!L":"左哼哼","qqface_Hum!R":"右哼哼",qqface_Yawn:"哈欠","qqface_Pooh-pooh":"鄙視",qqface_Shrunken:"委屈",qqface_TearingUp:"快哭了",qqface_Sly:"陰險",qqface_Kiss:"親親","qqface_What!":"嚇",qqface_Whimper:"可憐",qqface_Cleaver:"菜刀",qqface_Watermelon:"西瓜",qqface_Beer:"啤酒",qqface_Basketball:"籃球",qqface_Pingpong:"乒乓",qqface_Coffee:"咖啡",qqface_Rice:"飯",qqface_Pig:"豬頭",qqface_Rose:"玫瑰",qqface_Wilt:"凋謝",qqface_Lips:"示愛",qqface_Heart:"愛心",qqface_BrokenHeart:"心碎",qqface_Cake:"蛋糕",qqface_Lightning:"閃電",qqface_Bomb:"炸彈",qqface_Knife:"刀",qqface_Football:"足球",qqface_Beetle:"瓢蟲",qqface_Poop:"便便",qqface_Moon:"月亮",qqface_Sun:"太陽",qqface_Gift:"禮物",qqface_Hug:"擁抱",qqface_Thumbsup:"強",qqface_Thumbsdown:"弱",qqface_Shake:"握手",qqface_Victory:"勝利",qqface_Salute:"抱拳",qqface_Beckon:"勾引",qqface_Fist:"拳頭",qqface_Bad:"差勁",qqface_LoveYou:"愛你",qqface_NO:"NO",qqface_OK:"OK",qqface_Love:"愛情",qqface_Blow_a_kiss:"飛吻",qqface_Waddle:"跳跳",qqface_Tremble:"發抖","qqface_Aaagh!":"惱火",qqface_Twirl:"轉圈",qqface_Kowtow:"磕頭",qqface_Turn_round:"回頭",qqface_Rope_Skipping:"跳繩",qqface_Wave_hand:"揮手",qqface_Excited:"激動",qqface_Street_Dance:"街舞",qqface_Give_a_kiss:"獻吻",qqface_Tai_Chi_L:"左太極",qqface_Tai_Chi_R:"右太極",qqface_Bliss:"雙喜",qqface_Firecracker:"鞭炮",qqface_Lantern:"燈籠",qqface_Fortune:"發財",qqface_Karaoke:"K歌",qqface_Shopping:"購物",qqface_Email:"郵件",qqface_Handsome:"帥",qqface_Hurray:"喝采",qqface_Pray:"祈禱",qqface_Furious:"爆筋",qqface_Lollipop:"棒棒糖",qqface_Drink_milk:"喝奶",qqface_Noodles:"下面",qqface_Banana:"香蕉",qqface_Plane:"飛機",qqface_Driving:"開車",qqface_Highspeed_Rail_L:"高鐵左車頭",qqface_Carriage:"车厢",qqface_Highspeed_Rail_R:"高鐵右車頭",qqface_Cloudy:"多雲",qqface_Rainy:"下雨",qqface_Cash:"鈔票",qqface_Panda:"熊貓",qqface_Light_bulb:"燈泡",qqface_Windmill:"風車",qqface_Alarm_Clock:"鬧鐘",qqface_Umbrella:"大傘",qqface_Balloon:"彩球",qqface_Ring:"鑽戒",qqface_Sofa:"沙發",qqface_Toilet_Paper:"紙巾",qqface_Medicine:"藥",qqface_Pistol:"手槍",qqface_Frog:"青蛙",custom_Face:"自定義表情",common_page_title:"線上咨詢",common_sendbtn_text:"發送",common_voicebtn_hold_text:"按住 說話",common_voicebtn_release_text:"放開 發送",common_voicebtn_cancel_text:"放開 取消",common_insert_photo_text:"上傳圖片",common_insert_emoji_text:"輸入表情",common_manual_close_text:"結束會話",common_insert_file_text:"上傳文件",common_feed_back_text:"滿意度",common_screenshot_text:"截圖",common_screenshot_tip_QQ:"推薦使用QQ/微信截圖",common_screenshot_tip_mac:"Mac：快速鍵Shift+Command+4截圖",common_screenshot_tip_win:"Windows：使用自帶“截圖工具”",short_insert_photo_text:"圖片",short_insert_file_text:"文件",common_insert_call_text:"音視頻通話",common_insert_audo_text:"轉人工",common_insert_businessCard_text:"發送名片",common_insert_businessCard_balloon_text:"一鍵發送名片",common_postarea_pc_placeholder:"請輸入，按Enter直接發送消息，Ctrl+Enter換行",common_postarea_Macpc_placeholder:"請輸入，按Enter直接發送消息，Command+Enter換行",common_postarea_mobile_placeholder:"請點擊輸入",common_chatting_text:"交談中",common_leave_message_text:"留言了",common_chatting_with_text:"與$1交談中",common_qq_chat_text:"去QQ交談",common_start_qq_chat_text:"發起QQ會話",common_new_message_text:"你有【新消息】",common_add_qq_friend_text:"添加QQ聯絡人",common_confirm_text:"確定",common_cancel_text:"取消",common_tencent_certification:"",common_lang_en:"英語",common_lang_zh:"簡體中文","common_lang_zh-TW":"繁體中文",common_tencent_translator:"騰訊翻譯君實時翻譯",common_tencent_translator_fail:"翻譯失敗-騰訊翻譯君",common_tencent_translator_only:"僅支持中英互譯-騰訊翻譯君",common_allow_text:"允許",common_not_allow_text:"不允許",common_read_all:"閱讀全文",common_typing:"正在輸入...",common_view_all:"點擊查看全部",common_audio_text:"音頻通話",common_video_text:"視頻通話",common_video_confirm:"我知道了",common_video_text_call:"前往通話",chat_max_post_limit_text:"發送消息過長，請分條發送。",chat_history_msg_get_text:"點擊加載更多歷史消息",chat_history_msg_get_error:"加載歷史消息失敗",chat_history_msg_loading_text:"正在加載歷史消息",chat_offline_msg_loading_text:"正在加載新消息",chat_offline_msg_fail_text:"新消息加載失敗，點擊重試",chat_offline_msg_over_text:"以下為未讀消息",chat_menu_msg_loading_text:"正在加載菜單導航",chat_menu_msg_fail_text:"菜單導航加載失敗，點擊重試",chat_menu_msg_history_expired_text:"歷史紀錄已失效",chat_graphic_msg_readmore_text:"閱讀原文",chat_graphic_msg_viewdmore_text:"查看更多",chat_feedback_title_text:"請為本次服務打分",chat_feedback_submit_text:"提交",chat_feedback_postarea_placeholder:"感謝您的評分，可留下其他意見或建議",chat_feedback_submitting_text:"正在提交評價",chat_feedback_success_msg:"提交成功",chat_feedback_fail_msg:"提交失敗",chat_feedback_error_msg:"網路錯誤，請重試",chat_feedback_very_dissatisfied_text:"很不滿意",chat_feedback_dissatisfied_text:"不滿意",chat_feedback_neutral_text:"一般",chat_feedback_satisfied_text:"滿意",chat_feedback_very_satisfied_text:"很滿意",chat_add_friend_fetching_protocol_msg:"正在獲取添加協議",chat_add_friend_copy_success_msg:"複製成功",chat_add_friend_fail_text:"失敗",chat_add_friend_fail_get_number_fail_text:"獲取號碼失敗",chat_add_friend_fail_no_text_selected_text:"沒有選中文字，請手工複製",chat_add_friend_fail_browser_not_support_text:"瀏覽器不支持，請手工複製",chat_change_queue_immediately:"立即切换",chat_close_session_confirm:"結束會話後，重新諮詢可能需要排隊，確認結束會話嗎？",chat_close_session_succ:"會話已結束，如需繼續服務請直接發送消息",chat_incoming:"正在接入，請稍候",chat_incoming_success:"接入成功",chat_incoming_timeout:'接入失敗，請<a class="btn-refresh" href="javascript:;" onclick="location.reload();">重新加載頁面</a>重試',chat_incoming_timeout_inframe:"接入失敗，請重新加載頁面重試",sysmsg_load_corpinfo_msg:"正在加載企業信息",sysmsg_load_corpinfo_fail_msg:"企業信息獲取失敗",sysmsg_load_staff_msg:"正在加載員工信息",sysmsg_load_staff_fail_msg:"員工信息獲取失敗",exit_queque_btn:"退出排隊",exit_queue_confirm:"確認退出當前排隊麼？",exit_queue_success:"你已退出排隊",exit_queue_fail:"退出排隊失敗，請重試",notice_slider_header:"【公告】",notice_popup_header:"企業公告",notice_item_header:"【公告】",notice_item_header_gjh:"【通知】",ec_goods_text:"商品",ec_order_text:"訂單",send_business_card_btn:"發送名片",xml_product_name:"商品名稱",xml_product_exhibition_area:"商品展區",xml_product_category:"商品類別",xml_purchase_quantity:"採購數量",xml_purchase_unit:"採購單位",xml_buyer_name:"採購商名稱",xml_buyer_location:"採購商所在地",xml_buyer_tag:"採購商屬性標籤",xml_source_product:"採購產品",xml_source_category:"產品分類",xml_source_detail:"採購意向詳情",xml_buyer_company_name:"採購商公司名稱",xml_buyer_company_country:"公司所在地",xml_exhibit_name:"展品名稱",xml_exhibit_uom:"單位",xml_exhibit_price:"單價",xml_exhibit_currency:"幣種",xml_exhibit_detail:"說明",xml_exhibit_jump_tip:"點擊查看詳細採購意向",sysmsg_msg_current_service_lang:"當前服務語言是",sysmsg_msg_change_service_lang:"服務語言已更換為",msg_unread:"未讀",msg_beenread:"已讀"}},ad3b:function(t,e,a){"use strict";a("939a")},adcd:function(t,e,a){"use strict";a("6dfd")},ae03:function(t,e,a){"use strict";a("ac1f"),a("00b4");var n=a("bc3a"),i=a.n(n),s=a("9de0"),o=a("5ac5"),c=o["a"],r=s["a"].getSDKDomain(),l=i.a.create({baseURL:r.api,timeout:3e4});l.interceptors.request.use((function(t){t.headers||(t.headers={});var e=!(/^(https?:)?\/\/([a-zA-Z0-9]+\.)+[a-zA-Z0-9]+/.test(t.url)&&-1===t.url.indexOf("gateway"));return e&&(t.headers["X-Tenant-Id"]=c.kfuin),t})),e["a"]=l},af70:function(t,e,a){"use strict";a("01eb")},b050:function(t,e,a){},b0be:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-pure-text",class:{disabled:t.isDisabled,"select-none":t.selectNone}},[t.isReplayMsg?e("div",{staticClass:"msg-c2b-ref",on:{click:t.handleRefMsgClick}},[e("div",{staticClass:"msg-c2b-ref-meta"},[e("div",{staticClass:"msg-c2b-ref-name"},[t._v(t._s(t.formatNickname)+":")]),e("div",{staticClass:"msg-c2b-ref-time"},[t._v(t._s(t.formatTime))])]),e("div",{staticClass:"msg-c2b-ref-content"},[t._v(t._s(t.sourceMsg.bytes_summary))])]):t._e(),e("span",{ref:"msgTxt",domProps:{innerHTML:t._s(t.processedText)}}),t.isTransLate()?e("msg-text-translate",{attrs:{data:t.data.content}}):t._e()],1)},i=[],s=a("d90f"),o=a("f5db"),c=a("342f"),r=a("5a0c"),l=a.n(r),d=a("5ac5"),u={props:{selectNone:{type:Boolean,default:!1},data:Object},components:{MsgTextTranslate:c["default"]},data:function(){return{isDisabled:!1}},computed:{formatTime:function(){var t=this.sourceMsg.uint64_time;return l()(t).format("HH:mm")},formatNickname:function(){var t=this.sourceMsg.uint32_msg_direction;return 1===t||"访客"===t?"我":"客服"},sourceMsg:function(){var t;return this.data.$_sourceMsg||(null===(t=this.data)||void 0===t||null===(t=t.msgHead)||void 0===t||null===(t=t.msg_third_app_info)||void 0===t||null===(t=t.bytes_third_app_buf)||void 0===t||null===(t=t.bytes_crm_buf)||void 0===t?void 0:t.qd_source_msg)},hasMsgId:function(){var t,e;return(null===(t=this.data)||void 0===t||null===(t=t.$_sourceMsg)||void 0===t?void 0:t.str_current_qidian_msg_unique_id)||(null===(e=this.data)||void 0===e||null===(e=e.msgHead)||void 0===e||null===(e=e.msg_third_app_info)||void 0===e||null===(e=e.bytes_third_app_buf)||void 0===e||null===(e=e.bytes_crm_buf)||void 0===e?void 0:e.str_current_qidian_msg_unique_id)},isReplayMsg:function(){var t;return console.log(354364656546,this.data),this.data.$_sourceMsg||(null===(t=this.data)||void 0===t||null===(t=t.msgHead)||void 0===t||null===(t=t.msg_third_app_info)||void 0===t||null===(t=t.bytes_third_app_buf)||void 0===t||null===(t=t.bytes_crm_buf)||void 0===t||null===(t=t.qd_source_msg)||void 0===t?void 0:t.str_reference_qidian_msg_unique_id)},processedText:function(){var t,e=null===(t=this.data)||void 0===t||null===(t=t.crm)||void 0===t||null===(t=t.msg_webim_extra_data)||void 0===t?void 0:t.bool_is_safe_html_text,a=this.data.content;return e||(a=s["a"].filterHTML(a)),a=s["a"].emojiEscape(a),-1===a.indexOf("<a ")&&(a=s["a"].urlEscape(a)),s["a"].coverEmojIndex2EmojiImg(a)}},mounted:function(){this.initDelegations()},methods:{handleRefMsgClick:function(){this.$emit("onReplayMsgClick",this.sourceMsg.str_reference_qidian_msg_unique_id)},linkClickHandler:function(t){var e=t.getAttribute("href"),a=Object(o["c"])(e);a&&"leaveform"===a.method&&(this.isDisabled=!0)},initDelegations:function(){Object(o["a"])(this.$refs.msgTxt,"a",{callback:this.linkClickHandler})},isTransLate:function(){var t=d["a"].translate||{},e=t.translateSwitch,a=t.translateAuto;return+e&&a&&!this.data.mine}}},f=u,m=(a("4bcb"),a("2877")),h=Object(m["a"])(f,n,i,!1,null,"6490b4fe",null);e["default"]=h.exports},b10a:function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"msg-form",class:t.formDisabled||t.submiting?"disabled":""},[e("div",{staticClass:"form-container"},[e("div",{staticClass:"form-header"},[e("span",{staticClass:"guide-message"},[t._v(t._s(t.formConfig.FBootMessage))])]),e("div",{staticClass:"form-content"},[t._l(t.formFields,(function(a,n){return[a.show?e("div",{key:n,staticClass:"item-container",class:"FMessage"===a.fieldname?"item-container--with-message":""},[e("div",{staticClass:"content-info",attrs:{id:a.fieldname}},[e("span",{staticClass:"content-title"},[t._v(t._s(a.name))]),a.required?e("span",{staticClass:"content-tip"},[t._v("*")]):t._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:a.error,expression:"field.error"}],staticClass:"content-error"},[t._v(t._s(a.error))])]),e("div",{staticClass:"input-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData[a.fieldname],expression:"formData[field.fieldname]"}],staticClass:"content-input",class:{"has-suffix":"FCaptcha"===a.fieldname,error:a.error},attrs:{type:"text",maxlength:a.max},domProps:{value:t.formData[a.fieldname]},on:{input:function(e){e.target.composing||t.$set(t.formData,a.fieldname,e.target.value)}}}),"FCaptcha"===a.fieldname?e("div",{staticClass:"captcha-btn",on:{click:t.handleGetCaptcha}},[t._v(" "+t._s(t.isCountDown?"".concat(t.countdown,"s重新发送"):"发送验证码")+" ")]):t._e()])]):t._e()]}))],2),e("div",{staticClass:"form-commit"},[e("button",{staticClass:"submit-btn",on:{click:t.submitForm}},[t._v(" "+t._s(t.$t("chat_feedback_submit_text"))+" ")])])]),e("div",{staticClass:"popup-tip"}),t.loading?e("div",{staticClass:"form-loading"},[e("div",{staticClass:"loading"},[e("image",{staticClass:"loading-pic",attrs:{src:"@/static/icon/loading.svg",mode:"aspectFit"}})])]):t._e()])},i=[],s=(a("c740"),a("498a"),a("ac1f"),a("00b4"),a("99af"),a("4e82"),a("d3b7"),a("159b"),a("5319"),a("5ac5")),o=a("97e5"),c=a("4886"),r=c["a"].getSDKDomain(),l={FMobile:/^[1]([3-9])[0-9]{9}$/,FQQ:/^[1-9]\d{4,9}$/,FWx:/^[a-zA-Z]{1}[-_a-zA-Z0-9]{5,19}$/},d=60,u={name:"form-msg",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{formDisabled:!1,loading:!0,formConfig:{},formFields:[],formData:{},submiting:!1,countdown:d}},created:function(){this.fetchFormConfig()},computed:{isCountDown:function(){return this.countdown!==d}},methods:{handleGetCaptcha:function(){var t=this;if(!this.isCountDown){var e=this.formFields.findIndex((function(t){return"FMobile"===t.fieldname}));if(this.formFields[e].show){if(!this.formData.FMobile.trim())return void this.$set(this.formFields[e],"error","不能为空");if(!l.FMobile.test(this.formData.FMobile.trim()))return void this.$set(this.formFields[e],"error","格式不正确");this.$set(this.formFields[e],"error","")}var a=this.data.msgBody.formParams;this.$ajax.post("".concat(r.consolecgi).concat(o["w"],"?kfuin=").concat(a.kfuin),{FMobile:this.formData.FMobile.trim()}).then((function(e){1e3===e.data.code?(t.countdown-=1,t.timer=setInterval((function(){t.countdown>1?t.countdown-=1:(t.countdown=d,clearInterval(t.timer))}),1e3),console.log(e)):t.$Toast({text:e.data.msg||t.$t("chat_feedback_error_msg"),type:"error"})})).catch((function(e){console.log("e",e),t.$Toast({text:e.msg||t.$t("chat_feedback_error_msg"),type:"error"})}))}},fetchFormConfig:function(){var t=this,e=this.data.msgBody.formParams,a="".concat(r.consolecgi).concat(o["h"],"?kfuin=").concat(e.kfuin,"&key=").concat(e.key);this.$ajax.get(a,{params:e}).then((function(e){if(t.loading=!1,1e3!==e.data.code)return t.formConfig={FBootMessage:"请勿重复提交留言",fields:[],type:"webim"},t.formFields=[],t.formDisabled=!0,!1;t.formConfig=e.data.data,t.formFields=t.formConfig.fields;var a=function(t,e){return t.sort<e.sort?-1:1};t.formFields.sort(a),t.formFields.forEach((function(e){t.$set(t.formData,e.fieldname,"")})),s["a"].scrollToBottom&&s["a"].scrollToBottom()})).catch((function(t){throw t}))},submitForm:function(){var t=this,e=this.data.msgBody.formParams,a={type:"wxplugin"};if(this.formFields.forEach((function(e){if(e.show){var n=t.formData[e.fieldname].replace(/^\s+/,"").replace(/\s+$/,"");t.formData[e.fieldname]=n,a[e.fieldname]=n}})),this.validateItem()){Object.assign(a,e),this.submiting=!0;var n="".concat(r.api).concat(o["e"],"?kfuin=").concat(e.kfuin);this.$ajax.post(n,a).then((function(e){t.submiting=!1,0===e.data.code?(t.$Toast("留言已提交，期待您的再次来访"),t.formDisabled=!0):t.$Toast({text:e.data.msg||t.$t("chat_feedback_error_msg"),type:"error"})}))}},validateItem:function(){var t=this,e=!0;return this.formFields.forEach((function(a){var n=t.formData[a.fieldname];a&&a.show&&(t.$set(a,"error",""),a.required&&!n.length&&(t.$set(a,"error","不能为空"),e=!1),e&&a.max&&n.length>a.max&&(t.$set(a,"error","不能超过个".concat(a.max,"字符")),e=!1),e&&n.length&&l[a.fieldname]&&(l[a.fieldname].test(n)||(t.$set(a,"error","格式不正确"),e=!1)))})),e}}},f=u,m=(a("70ac"),a("2877")),h=Object(m["a"])(f,n,i,!1,null,"148dbc20",null);e["default"]=h.exports},b300:function(t,e,a){},b371:function(t,e,a){"use strict";a("fb6a");e["a"]={inject:["globalData"],props:{navData:{type:Object,default:function(){return{}}}},computed:{isMobile:function(){return!this.$platform.pc}},data:function(){return{currentTab:0,robotNav:this.navData}},methods:{onClick:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("onClick"),this.$emit("click",t,e)},getPageData:function(t,e){console.log("getPageData",t,e);var a=t.index||1,n=t.pageCount||e||6,i=t.total||0,s=t.list||[];return 2===t.source&&(t.list.length>n&&1===t.more_questions?(this.$set(t,"showChange",!0),s=t.list.slice(n*(a-1),n*a)):this.$set(t,"showChange",!1),i=Math.ceil(t.list.length/n)),this.$set(t,"index",a),this.$set(t,"pageCount",n),this.$set(t,"total",i),s},onChange:function(t){var e=t.index||1,a=t.total||0;e<a?e+=1:e=1,this.$set(t,"index",e),this.$forceUpdate()},onChangeTab:function(t,e){console.log("onChangeTab：",t,e),this.currentTab=t,this.onClick({},{robot_nav_first_menu_id:0,robot_nav_first_menu_name:e.tit,robot_nav_action_type:7})}}}},b3c6:function(t,e,a){},b463:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));a("d3b7"),a("25f0"),a("ace4"),a("fb2c"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("986a"),a("1d02"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("6ce5"),a("2834"),a("72f7"),a("4ea1"),a("99af");var n=window,i=n.document,s="QD.",o=function(t){return t.toString(36)},c=function(t){var e=1;if(t){var a=0;e=0;for(var n=t.length-1;n>=0;n--)a=t.charCodeAt(n),e=(e<<6&268435455)+a+(a<<14),a=266338304&e,e=0!=a?e^a>>21:e}return e},r=function(){var t;try{var e=new Uint32Array(1);n.crypto.getRandomValues(e),t=2147483647&e[0]}catch(a){t=Math.floor(2147483648*Math.random())}return t},l=function(t){var e=n.navigator.userAgent+(i.cookie?i.cookie:"")+(i.referrer?i.referrer:"")+n.location.href,a="".concat(o(r()^2147483647&c(e)),".").concat(o(r()),".").concat(o(+new Date));return t?s+a:a}},b487:function(t,e,a){"use strict";a("8d20")},b580:function(t,e,a){},b5c7:function(t,e,a){var n={"./MsgAddQqCard/index.vue":"31c0","./MsgDateTime/index.vue":"888d","./MsgFace/index.vue":"9997","./MsgFeedBack/index.vue":"1e3a","./MsgFile/index.vue":"d9f8","./MsgGray/index.vue":"8986","./MsgImage/index.vue":"63c0","./MsgImageText/index.vue":"9b11","./MsgLeaveForm/index.vue":"b10a","./MsgLongMsg/index.vue":"4ff9","./MsgManualTyping/index.vue":"a84e","./MsgMedia/index.vue":"caca","./MsgMix/index.vue":"5afa","./MsgPtt/index.vue":"7722","./MsgQdxml/index.vue":"e3fc","./MsgQqInviteCard/index.vue":"1c47","./MsgRevoke/index.vue":"454e","./MsgRobot/index.vue":"933b","./MsgRobotForm/index.vue":"2ee4","./MsgRobotGoodsNav/index.vue":"a3d9","./MsgRobotNav/index.vue":"d604","./MsgRtc/index.vue":"e302","./MsgSatisfactionSurvey/index.vue":"20e9","./MsgText/index.vue":"b0be","./MsgTextTranslate/index.vue":"342f","./MsgTip/index.vue":"f2fa","./MsgUnknown/index.vue":"6d51"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="b5c7"},b5f1a:function(t,e,a){t.exports=a.p+"img/img-upload.166aa739.svg"},b7e2:function(t,e,a){},b9a8:function(t,e,a){t.exports=a.p+"img/business-card.49ce5fa8.svg"},b9c3:function(t,e,a){"use strict";a("3579")},bb58:function(t,e,a){t.exports=a.p+"img/face.2b901e2f.svg"},bcaa:function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{class:["small-cards",t.isMobile?"":"small-cards-pc"]},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-box"},t._l(t.robotNav.list,(function(a,n){return e("div",{key:n,staticClass:"nav-box-row"},[e("div",{staticClass:"nav-box-wrapper nav-link",on:{click:function(e){return t.onClick(a)}}},[e("div",{staticClass:"nav-image"},[e("img",{staticClass:"nav-img-pic",attrs:{src:a.icon.url,mode:"widthFix"}})]),e("div",{staticClass:"nav-text"},[t._v(t._s(a.name))])])])})),0)])])},i=[],s=a("b371"),o={mixins:[s["a"]]},c=o,r=(a("334c"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"0782fa05",null);e["default"]=l.exports},c03d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAddJREFUWAnVl79KA0EQxnOSQiFgZ2Eb0AeID+AbiJZaii8gaBdzwdZS7CxtAkps0oja2mhjZSGIhdjHysLzNzErX45kTXL/cGBuv9lh5/tyO3fZK5X+k0VRVC5ML+QB3sIbhYgwYtzZQa4iYN3Avxw741FuAiCr4O9C3gHP5CmgIeQv4HklJ57VOFVM8QW8izvbUgImy/gNnk1jUvgQd/YACGICjl2Ssa65VDBFH4VgXYsyX8O1Mfc0nxhTvCrkH+CBvSa+lvxFYsJ4AYrvCsG55plfltwnuBrLVzT2Yd/jVJOFHcEG1yRuB0Hw7GLEWJ9cMiZrTArc4s5WHYGNTF65BONmLLcjuelFUORJCi3FSHy5O1lncDoRLNTnf2BPJ8iZALORInw9EOmvTogH3h9j1UK17zb7cvEtCH2EvjvwJgsXBRt8lXhFsMFTiZs8IaHE40PuwJltXt+2dSVz+y7B2Irl7OBiL6lQ5yfGFMjlRTRSGAKKfRWbMkRk/mfka0LT0LZL3+oI+n2caK575k9cknFOcDoQwnEPJGE6jEOqIKKBO8v3SGZ6YC72UNoXkdmx/K8m7G0KDWcnnmYv+Ll0BecD2Qr3aRbmwziEBRHFfZwO0ZPK1Deik9Dtm4vgyAAAAABJRU5ErkJggg=="},c04b:function(t,e,a){},c155:function(t,e,a){},c1b0:function(t,e,a){},c2e0:function(t,e,a){"use strict";var n=a("2b0e"),i=function(){var t=this,e=t._self._c;return t.visible?e("div",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:t.showActionSheet,expression:"showActionSheet",arg:"touchhold"}],staticClass:"media-viewer-conatiner",on:{click:t.close}},["audio"===t.media.type&&t.media.url?[e("audio",{staticClass:"media-show animate__animated animate__zoomIn animate__fadeIn animate__faster",attrs:{controls:"",autoplay:"",preload:"auto",playsinline:"true"},on:{click:function(t){t.stopPropagation()}}},[e("source",{attrs:{src:t.media.url,type:"audio/mp3",error:"onError"}})])]:t._e(),"video"===t.media.type&&t.media.url?[e("video",{staticClass:"media-show animate__animated animate__zoomIn animate__fadeIn animate__faster",attrs:{controls:"",autoplay:"",preload:"auto",playsinline:"true"},on:{click:function(t){t.stopPropagation()}}},[e("source",{attrs:{src:t.media.url,type:"video/mp4",error:"onError"}})])]:t._e(),e("div",{staticClass:"btn-close"})],2):t._e()},s=[],o=a("2d3f"),c={name:"MediaViewer",data:function(){return{visible:!1,media:{url:"",type:"",downloadFun:null,ext:""}}},computed:{isMobile:function(){return!this.$platform.pc}},methods:{close:function(){var t=this;this.visible=!1,setTimeout((function(){t.$destroy()}),500)},onError:function(){var t=this;this.$Confirm({title:this.$t("common_play_error"),confirmText:this.$t("common_download")}).then((function(){"function"===typeof t.media.downloadFun&&t.media.downloadFun()})).catch((function(){}))},showActionSheet:function(){var t=this;if(this.$ActionSheet&&this.isMobile&&(o["b"]||o["c"]||o["a"])){var e=["复制链接到浏览器下载"];this.$ActionSheet.show({itemList:e,success:function(){t.$copyText(t.media.url).then((function(){t.$Toast(t.$t("chat_add_friend_copy_success_msg"))}),(function(){t.$Toast({text:"复制失败，请重试",type:"error"})}))},fail:function(){}})}}}},r=c,l=(a("4b18"),a("2877")),d=Object(l["a"])(r,i,s,!1,null,"77cdfaee",null),u=d.exports,f=n["a"].extend(u),m={show:function(t){var e=(new f).$mount();e.visible=!0,e.media=t,document.body.appendChild(e.$el)}};e["a"]={install:function(){n["a"].prototype.$MediaViewer||(n["a"].prototype.$MediaViewer=m)}}},c3d8:function(t,e,a){t.exports=a.p+"img/arrow.3216f3b5.svg"},c46f:function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"kefu-free-tip"},[e("div",{staticClass:"kefu-free-tip-inner"},[e("div",{staticClass:"tip-icon"},[e("img",{attrs:{src:a("5168")}})]),t._m(0)]),e("div",{staticClass:"tip-close",on:{click:t.handleClose}},[e("img",{attrs:{src:a("c668")}})])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tip-content"},[e("p",{staticClass:"tip-content-text"},[t._v("此用户未经腾讯认证，聊天中请注意保护您的个人信息安全，您也可随时结束会话。")])])}],s={methods:{handleClose:function(){this.$emit("onClose")}}},o=s,c=(a("d82c"),a("2877")),r=Object(c["a"])(o,n,i,!1,null,"99534dc2",null);e["a"]=r.exports},c5c9:function(t,e,a){"use strict";a("a358")},c5f7:function(t,e,a){"use strict";a("19e9")},c64f:function(t,e,a){"use strict";a("b300")},c668:function(t,e,a){t.exports=a.p+"img/tip-close.a21d2515.svg"},c906:function(t,e){t.exports="data:image/png;base64,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"},ca0c:function(t,e,a){},ca1c:function(t,e,a){"use strict";a("ce06")},ca59:function(t,e,a){},ca6d:function(t,e){t.exports="data:image/png;base64,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"},caca:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-media"},[1===t.data.mediaType?e("img",{attrs:{src:t.data.mediaUrl}}):t._e()])},i=[],s={props:{data:Object},data:function(){return{selectedText:""}},computed:{},methods:{}},o=s,c=(a("58e1"),a("2877")),r=Object(c["a"])(o,n,i,!1,null,"7f4f99a1",null);e["default"]=r.exports},cb6e:function(t,e,a){"use strict";a("dca2")},cb74:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("ac1f"),a("00b4"),a("1642"),a("9b4f");var n=a("2b0e"),i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("WebIMPage"),e("audio",{staticClass:"audio-sound",staticStyle:{display:"none"},attrs:{id:"ringAudio",src:"https://bqq.gtimg.com/CDN/source/audio/ring.mp3",muted:"",loop:""}})],1)},s=[],o=a("d4ec"),c=a("bee2"),r=a("262e"),l=a("2caf"),d=a("9ab4"),u=a("1b40"),f=a("5530"),m=function(){var t=this,e=t._self._c;return e("div",{ref:"imContainerRef",staticClass:"im-main-container",class:[t.inIframe?"im-in-frame":"im-not-in-frame",(t.slideOpen||!(t.styleConfig&&t.styleConfig.isUseWebSidebar)||t.isMiniMode)&&"card-info-hide"],style:Object(f["a"])(Object(f["a"])({},t.customStyle),{},{"margin-top":t.marginTop})},[e("div",{staticClass:"im-msg-container"},[e("pc-header",{staticClass:"im-title-bar drag-title-inIframe",style:t.inIframe&&"close"===t.iframeIMStatus?"height:50px":"",attrs:{isMinify:t.inIframe&&"close"===t.iframeIMStatus,unReadMsgNum:t.unReadSum,"title-name":t.companyInfo.companyName,inIframe:t.inIframe,wpaDetail:t.wpaDetail},scopedSlots:t._u([{key:"extra",fn:function(){return[t.showQQ?e("div",{staticClass:"btn-callqq",class:{iframe:t.inIframe},on:{click:t.handleLunchQQ}},[t.inIframe?e("img",{staticClass:"qq-icon",attrs:{src:a("0c6c")}}):e("img",{staticClass:"qq-icon",attrs:{src:a("5b7a")}})]):t._e(),e("div",{staticClass:"right-toggle"},[t.isShowLangIcon?e("div",{staticClass:"btn-lang-setting",on:{click:t.showSetLangPanel}},[e("i",{staticClass:"icon-lang-setting"})]):t._e(),t.isRenderSidebar?e("div",{staticClass:"toggle-card-info",on:{click:t.handleCardInfo}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.slideOpen,expression:"slideOpen"}],staticClass:"slide-icon",attrs:{src:a("298c")}}),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.slideOpen,expression:"!slideOpen"}],staticClass:"slide-icon",attrs:{src:a("f1e5")}})]):t._e()])]},proxy:!0}])}),e("aio",{ref:"aio",attrs:{inIframe:t.inIframe,aioBgImg:t.pcBgImage,toolButtons:t.toolButtonsForPC,serviceInfoShowType:t.linkInfo.openName,wpaDetail:t.wpaDetail,authConf:t.authConf,guidanceInfo:t.guidanceInfo,companyInfo:t.companyInfo,isShowWatermark:t.styleConfig.isShowWatermark,readStatusSwitch:t.readStatusSwitch,messageList:t.messageList,notReadNumber:t.notReadNumber,reception:t.reception,inputContent:t.inputContent,styleConfig:t.styleConfig,showInfo:t.showInfo},on:{"update:messageList":function(e){t.messageList=e},"update:message-list":function(e){t.messageList=e},"update:notReadNumber":function(e){t.notReadNumber=e},"update:not-read-number":function(e){t.notReadNumber=e},"update:reception":function(e){t.reception=e},"update:inputContent":function(e){t.inputContent=e},"update:input-content":function(e){t.inputContent=e},clickToolBtn:t.clickToolBtn,receiveNewMessage:t.onReceiveMsg,onLunchQQ:t.handleLunchQQ,onAddQQ:t.handleAddQQ,ready:function(e){t.aioReady=!0},sessionStart:t.onSessionStart,notifyRtc:t.handleNotifyRtc,error:t.handleAioError,videoMsgClick:t.videoMsgClick},scopedSlots:t._u([{key:"beforeMsgList",fn:function(){return[t.isShowKeSafeTip&&t.showInfo&&t.showInfo.isShowSafetyTips&&!t.isMiniMode?e("KefuFreeTip",{on:{onClose:function(e){t.isShowKeSafeTip=!1}}}):t._e(),t.styleConfig.isUseWebNotice||t.styleConfig.isShowTopNotice?e("announcement-notice",{attrs:{wpaDetail:t.wpaDetail}}):t._e()]},proxy:!0},{key:"afterMsgList",fn:function(){return[e("QuickOrderCard",{attrs:{sessionStart:t.sessionStart,wpaDetail:t.wpaDetail,authConf:t.authConf}}),t.hasBubble?e("message-bubble",{attrs:{bubbleConfig:t.bubbleConfig}}):t._e(),t.configToAutoMsg.enable?e("msg-auto-complete",{attrs:{config:t.configToAutoMsg,inputContent:t.inputContent},on:{onSelected:t.onMsgAutoCompleteSelected}}):t._e()]},proxy:!0},{key:"last",fn:function(){return[e("GoodsList",{attrs:{ecQuickMenu:t.ecQuickMenu,wpaDetail:t.wpaDetail},model:{value:t.goodsListShow,callback:function(e){t.goodsListShow=e},expression:"goodsListShow"}}),e("OrderList",{attrs:{ecQuickMenu:t.ecQuickMenu,wpaDetail:t.wpaDetail},model:{value:t.orderListShow,callback:function(e){t.orderListShow=e},expression:"orderListShow"}})]},proxy:!0}])})],1),t.isRenderSidebar?e("div",{directives:[{name:"show",rawName:"v-show",value:!t.slideOpen,expression:"!slideOpen"}],staticClass:"im-custom-container"},[e("iframe",{ref:"infoCardIframeRef",attrs:{scrolling:"no",src:t.iframeSrc}})]):t._e(),e("PcRing",{ref:"videoRing",attrs:{wpaDetail:t.wpaDetail,employeeInfo:t.employeeInfo}})],1)},h=[],g=(a("d3b7"),a("99af"),a("841c"),a("2bf8")),p=a("7a2d"),b=a("35f7"),v=a("2cbe"),_=a("5c0b"),w={mixins:[p["a"]],data:function(){return{surportTRTC:!1,dir:"",userAction:"",mediaType:"",videoStatus:v["d"].idle}},mounted:function(){this.checkTRTC()},methods:{checkTRTC:function(){var t=this;"undefined"===typeof TRTC?this.surportTRTC=!1:TRTC.checkSystemRequirements().then((function(e){t.surportTRTC=e.result})).catch((function(e){t.surportTRTC=!1,console.error("getDevices error observed ".concat(e))}))},checkTRTCFaile:function(){alert("您的浏览器不兼容此应用！\n建议下载最新版Chrome浏览器"),window.location.href="http://www.google.cn/chrome/"},canVidoStatus:function(){return this.videoStatus==v["d"].idle||(this.$Alert("当前通话没结束，不能发起新通话"),!1)},audioCall:function(){var t=this;this.canVidoStatus()&&(navigator.onLine?TRTC.getMicrophones().then((function(e){console.log("开始语音通话",e),0!==e.length?t.callUser(2):t.$Confirm({title:"未检测到麦克风",text:"可能影响通话质量，请检查连接状态",confirmText:t.$t("common_video_text_call")}).then((function(){t.callUser(2)})).catch((function(){console.log("音频通话取消")}))})):this.$Confirm({title:"",text:"当前网络不可用，请检查您的网络设置",confirmText:this.$t("common_video_confirm")}))},videoCall:function(){var t=this;this.canVidoStatus()&&(navigator.onLine?TRTC.getMicrophones().then((function(e){console.log("开始视频通话",e);var a=!0;0===e.length&&(a=!1),TRTC.getCameras().then((function(e){0!==e.length?a?t.callUser(1):t.$Confirm({title:"未检测到麦克风",text:"可能影响通话质量，请检查连接状态",confirmText:t.$t("common_video_text_call")}).then((function(){t.callUser(1)})).catch((function(){})):t.$Confirm({title:a?"未检测到摄像头":"未检测到摄像头和麦克风",text:"可能影响通话质量，请检查连接状态",confirmText:t.$t("common_video_text_call")}).then((function(){t.callUser(1)})).catch((function(){}))}))})):this.$Confirm({title:"",text:"当前网络不可用，请检查您的网络设置",confirmText:this.$t("common_video_confirm")}))},callUser:function(t){this.dir="c2b",this.mediaType=t,this.userAction="call",Object(b["a"])({message:"音视频:主叫,".concat(t)}),this.openRoom()},openRoom:function(){Object(b["a"])({message:"音视频:打开房间,用户ua".concat(navigator.userAgent)});var t="https://".concat(_["d"]?"oa":"","console.qidian.qq.com/spa/cs-video/index.html"),e="new_videocall_window",a=this.wpaDetail,n=a.kfuin,i=a.roleData,s=a.roleValue,o=a.wpaId,c=a.key,r=a.visitorid,l={uin:n,kfuin:n,fid:o,key:c,roleData:i,roleValue:s,visitorId:r,mediaType:this.mediaType,action:this.userAction,dir:"call"===this.userAction?"c2b":"b2c",channelType:4};"receive"===this.userAction&&(l.roomId=this.roomid),this.openURLtoBlank(Object(_["a"])(t,l),e),Object(_["g"])(this.handleVideoPostMessage)},openURLtoBlank:function(t,e){var a;if(t){var n=1*document.documentElement.clientWidth-800,i=document.documentElement.clientHeight,s=document.body.getBoundingClientRect().top;console.log("Height",n,i,s),a=window.open(t,e,"left=".concat(n,",top=").concat(s+90,",width=800,height=500,toolbar=0,titlebar=no")),console.log(e,"winname")}else a=window.open("",e),a.document.body.innerHTML="正在加载中......";return a},handleVideoPostMessage:function(t){var e=t.act;switch(e){case"audioVideoSuccess":this.videoStatus=v["d"].speaking;break;case"audioVideoEnd":default:this.videoStatus=v["d"].idle}}}},y=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:t.inIframe&&!t.isMinify?"bg-primay":""},[t.isMinify?e("div",{staticClass:"im-title-container",on:{click:t.changeMinify}},[e("div",{staticClass:"title-minify"},[e("i",{staticClass:"icon-bubble txt-primay"}),t.unReadMsgNum>0?e("span",{staticClass:"num unread-msg-num"},[t._v(t._s(t.unReadMsgNum>9?"9+":t.unReadMsgNum))]):t._e(),e("p",{staticClass:"minify-text"},[e("span",{staticClass:"name"},[t._v(t._s(t.titleMsg))]),e("span",{staticClass:"status"},[t._v(t._s(t.$t("common_chatting_text")))])])])]):e("div",{staticClass:"im-title-container"},[e("div",{staticClass:"im-title"},[e("span",[t._v(t._s(t.titleMsg))])]),e("div",{staticClass:"other-tools-container"},[t._t("extra"),t.inIframe?e("div",{staticClass:"close-btn pointer",on:{click:function(e){return t.closeBtnClick()}}},[e("i",{staticClass:"icon-close"})]):t._e()],2)])])},x=[],A=a("257e"),C=a("ade3"),T=(a("25f0"),a("d938")),q=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(C["a"])(Object(A["a"])(t),"titleName",void 0),Object(C["a"])(Object(A["a"])(t),"unReadMsgNum",void 0),Object(C["a"])(Object(A["a"])(t),"isMinify",void 0),Object(C["a"])(Object(A["a"])(t),"inIframe",void 0),Object(C["a"])(Object(A["a"])(t),"wpaDetail",void 0),Object(C["a"])(Object(A["a"])(t),"dragging",!1),Object(C["a"])(Object(A["a"])(t),"tLeft",0),Object(C["a"])(Object(A["a"])(t),"tTop",0),t}return Object(c["a"])(a,[{key:"changeMinify",value:function(){var t=this.$parent;t&&t.openIframeIM()}},{key:"titleMsg",get:function(){var t;return this.titleName&&!Object(T["a"])(null===(t=this.wpaDetail)||void 0===t?void 0:t.kfuin,"USE_DEFAULT_TITLE")?this.titleName:this.$t("common_page_title")}},{key:"onTitleChange",value:function(t){var e=this.$t("common_page_title").toString();document.title=t===e?e:"与".concat(t,"交谈中")}},{key:"closeBtnClick",value:function(){var t=this.$parent;t&&t.closeIframeIM()}}]),a}(u["d"]);Object(d["a"])([Object(u["c"])({default:""})],q.prototype,"titleName",void 0),Object(d["a"])([Object(u["c"])({default:0})],q.prototype,"unReadMsgNum",void 0),Object(d["a"])([Object(u["c"])({default:!1})],q.prototype,"isMinify",void 0),Object(d["a"])([Object(u["c"])({default:!1})],q.prototype,"inIframe",void 0),Object(d["a"])([Object(u["c"])({default:function(){return{}}})],q.prototype,"wpaDetail",void 0),Object(d["a"])([Object(u["e"])("titleMsg",{immediate:!0})],q.prototype,"onTitleChange",null),q=Object(d["a"])([Object(u["a"])({name:"TitleBar"})],q);var k=q,I=k,M=(a("08bc"),a("2877")),O=Object(M["a"])(I,y,x,!1,null,"be028e6c",null),S=O.exports,D=a("c46f"),j=(a("e9c4"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"webim-aio webim-aio-pc"},[e("div",{staticClass:"im-position-container",style:t.listBgStyle},[t._t("beforeMsgList"),e("div",{staticClass:"im-message-container page-scroll-container",on:{scroll:t.scrollChange}},[e("msg-new-notice",{attrs:{nums:t.notReadNumber},on:{click:t.scrollToBottom}}),t.isMoreMessage?e("msg-load",{attrs:{isLoading:t.isLoading},on:{click:function(e){return t.onHistoryMessageClick()}}}):t._e(),e("message-list",{staticStyle:{padding:"8px 12px 0px"},attrs:{msgList:t.messageList,styleConfig:t.styleConfig},on:{resendMsg:t.resendMessage,onReplay:t.replay,onCopy:t.handleCopyMsg,onRevoke:t.revokeMsg,"on-scroll-to":t.handleReplayMsgClick,onLunchQQ:function(e){return t.$emit("onLunchQQ",e)},onAddQQ:function(e){return t.$emit("onAddQQ",e)},videoMsgClick:function(e){return t.$emit("videoMsgClick",e)}},scopedSlots:t._u([{key:"thirdMsgItem",fn:function(e){return[t._t("thirdMsgItem",null,{data:e.data})]}}],null,!0)}),e("div",{ref:"scrollToBottom"})],1),t._t("afterMsgList")],2),e("chat-tools",{ref:"chatTools",staticClass:"im-chat-tools",class:t.isIMReady?"":"tools-disabled",attrs:{toolButtons:t.toolButtons,inputContent:t.sendContent,"source-msg":t.sourceMsg},on:{"update:inputContent":function(e){t.sendContent=e},"update:input-content":function(e){t.sendContent=e},"on-delete-source-msg":function(e){t.sourceMsg=null},clickToolBtn:function(e){return t.$emit("clickToolBtn",e)},callFunc:t.onCallFunc}}),e("div",{staticClass:"shadow-container"},[e("image-uploader",{ref:"imageUploader",on:{preview:t.onPreviewImage,upload:t.onSendImageMessage}}),e("file-uploader",{ref:"fileUploader",on:{preview:t.onPreviewFile,progress:t.onFileProgress,upload:t.onSendFileMessage}})],1),t.isIMReady&&t.inIframe?e("qd-sign",{attrs:{wpaDetail:JSON.stringify(t.wpaDetail)}}):t._e(),e("mock-msg",{attrs:{to:t.to}}),t._t("last"),t.isShowSetLangPanel?e("set-lang-modal"):t._e()],2)}),P=[],E=a("8e2d"),F=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"chat-tools-container",class:{"chat-in-frame":t.inIframe,"has-replay-msg":t.sourceMsg}},[e("div",{staticClass:"textarea-container"},[t.sourceMsg?e("div",{staticClass:"replay-msg-wrapper"},[e("div",{staticClass:"replay-msg-inner"},[e("div",{staticClass:"replay-msg-content"},[t._v(" "+t._s(t.formatNickname(t.sourceMsg.uint32_msg_direction))+"："+t._s(t.sourceMsg.bytes_summary)+" ")]),e("div",{staticClass:"replay-msg-delete",on:{mousedown:function(e){return e.preventDefault(),t.$emit("on-delete-source-msg")}}})])]):t._e(),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.chatMsg,expression:"chatMsg"}],ref:"textarea",staticClass:"post-area",attrs:{maxlength:"3500",placeholder:t.placeholderMsg},domProps:{value:t.chatMsg},on:{keydown:function(e){return t.chatKeyDown(e)},keyup:function(e){return t.chatKeyUp(e)},paste:function(e){return t.pasteText(e)},input:function(e){e.target.composing||(t.chatMsg=e.target.value)}}})]),e("div",{staticClass:"tools-send-container"},[e("div",{staticClass:"tools-container"},[e("btn-tools",{ref:"btnTools",attrs:{toolButtons:t.toolButtons},on:{clickToolBtn:function(e){return t.$emit("clickToolBtn",e)},clickFaceItem:function(e){return t.clickFaceItem(e)},closeSession:t.closeSession,activeFeedback:t.activeFeedback,robotTransfer:t.robotTransfer,exitQueue:t.exitQueue,openFileUpload:t.openFileUpload}})],1),e("button",{staticClass:"send-btn bg-primay pointer",on:{click:function(e){return t.sendMsg()}}},[t._v(t._s(t.$t("common_sendbtn_text")))])])])},L=[],R=(a("a630"),a("3ca3"),a("159b"),a("14d9"),a("466d"),a("498a"),a("b0c0"),function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"btn-tools-container"},[t._l(t.showBtns,(function(a,n){return[a.isShow?e("div",{key:n,staticClass:"tool-btn",class:[!a.enable&&"disabled"],attrs:{title:a.name},on:{click:function(e){return e.stopPropagation(),t.clickToolBtn(a)}}},[e("img",{attrs:{src:a.icon,width:"20",height:"20"}}),"sendBusinessCard"===a.actionType&&t.showBizCard?e("div",{staticClass:"businesscard-balloon-container",on:{click:function(e){return e.stopPropagation(),t.hideBallon.apply(null,arguments)}}},[t._v(" 一键发送名片 "),e("span",{staticClass:"delButton"},[t._v("X")]),e("div",{staticClass:"outer"}),e("div",{staticClass:"inner"})]):t._e()]):t._e()]})),t.showMore?e("div",{staticClass:"action-button"},[e("div",{staticClass:"tool-btn",attrs:{title:"更多"},on:{click:function(e){e.stopPropagation(),t.showPop=!0}}},[e("img",{attrs:{src:a("2b8a"),width:"20",height:"20"}})]),t.items.length>0&&t.showPop?e("div",{staticClass:"pop-containner"},[e("div",{staticClass:"pop-content"},t._l(t.items,(function(a){return e("div",{key:a.name,staticClass:"list-item",class:{disabled:!a.enable},on:{click:function(e){return e.stopPropagation(),t.clickToolBtn(a)}}},[t._v(t._s(a.name))])})),0)]):t._e()]):t._e(),e("chat-face",{directives:[{name:"show",rawName:"v-show",value:t.qqFaceShow,expression:"qqFaceShow"}],staticClass:"qq-face-style",on:{click:function(t){t.stopPropagation()},clickFaceItem:function(e){return t.clickFaceItem(e)}}})],2)}),N=[],B=(a("4de4"),a("fb6a"),a("d81d"),a("7db0"),a("5319"),function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"qq-face-dialog"},[e("div",{staticClass:"nano-content"},[e("div",{staticClass:"qq-face"},t._l(t.faceLocale,(function(a,n){return e("div",{key:n,staticClass:"qq-face-item",on:{mouseover:function(e){t.changeCurrentTip(e,t.$t(a))},mouseout:function(e){return t.outCurrentTip()},mousemove:function(e){return t.moveCurrentTip(e)},click:function(e){t.clickFaceItem(t.$t(a))}}})})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentTipName,expression:"currentTipName"}],staticClass:"tipCurrent",class:{faceShowTip:!t.hiddenTip},style:{top:t.tipTop+"px",left:t.tipLeft+"px"}},[t._v(" "+t._s(t.currentTipName)+" ")])])}),G=[],Q=a("8aeb"),z=a("dbe5"),U=a.n(z),H=(a("52b6"),function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(C["a"])(Object(A["a"])(t),"faceLocale",Q["c"]),Object(C["a"])(Object(A["a"])(t),"currentTipName",""),Object(C["a"])(Object(A["a"])(t),"tipTop",0),Object(C["a"])(Object(A["a"])(t),"tipLeft",0),Object(C["a"])(Object(A["a"])(t),"hiddenTip",!0),Object(C["a"])(Object(A["a"])(t),"osInstance",null),t}return Object(c["a"])(a,[{key:"changeCurrentTip",value:function(t,e){var a=this;this.currentTipName=e,this.tipTop=t.pageY+20,this.tipLeft=t.pageX+10,setTimeout((function(){a.hiddenTip=!1}),200)}},{key:"outCurrentTip",value:function(){this.currentTipName="",this.hiddenTip=!0}},{key:"moveCurrentTip",value:function(t){this.tipTop=t.pageY+20,this.tipLeft=t.pageX+10}},{key:"clickFaceItem",value:function(t){this.$emit("clickFaceItem","[".concat(t,"]"))}},{key:"mounted",value:function(){var t=this.$el.querySelector(".nano-content");this.osInstance=U()(t,{}),U.a.valid(this.osInstance)}},{key:"destroyed",value:function(){this.osInstance&&(this.osInstance.destroy(),this.osInstance=null)}}]),a}(u["d"]));H=Object(d["a"])([Object(u["a"])({name:"ChatFace"})],H);var Y=H,W=Y,X=(a("a5e1"),Object(M["a"])(W,B,G,!1,null,"094bb316",null)),V=X.exports,J=6,K=function(t){Object(r["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;Object(o["a"])(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(C["a"])(Object(A["a"])(t),"inIframe",void 0),Object(C["a"])(Object(A["a"])(t),"globalData",void 0),Object(C["a"])(Object(A["a"])(t),"toolButtons",void 0),Object(C["a"])(Object(A["a"])(t),"qqFaceShow",!1),Object(C["a"])(Object(A["a"])(t),"permissionPopup",null),Object(C["a"])(Object(A["a"])(t),"showPop",!1),Object(C["a"])(Object(A["a"])(t),"items",[]),Object(C["a"])(Object(A["a"])(t),"showBtns",[]),Object(C["a"])(Object(A["a"])(t),"showBizCard",!0),t}return Object(c["a"])(n,[{key:"onToolBtnsChange",value:function(t){var e=t.filter((function(t){return t.isShow}));this.items=e.slice(J),this.showMore?this.showBtns=e.slice(0,J):this.showBtns=e}},{key:"toolBtns",get:function(){var t=[{actionType:"sendFace",icon:a("bb58"),name:this.$t("common_insert_emoji_text")},{actionType:"sendImageMessage",icon:a("b5f1a"),name:this.$t("common_insert_photo_text")},{actionType:"sendFileMessage",icon:a("1ec8"),name:this.$t("common_insert_file_text")},{actionType:"activeFeedback",icon:a("9158"),name:this.$t("common_feed_back_text")},{actionType:"robotTransfer",icon:a("d200"),name:this.$t("common_insert_audo_text")},{actionType:"closeSession",icon:a("5c72"),name:this.$t("common_manual_close_text")},{actionType:"exitQueue",icon:a("5c72"),name:this.$t("exit_queque_btn")}],e=this.toolButtons.map((function(e){console.log("toolButtons",e);var a=e.actionType,n=t.find((function(t){return t.actionType===a}));return a&&n&&Object.assign(e,n,e),e}));return e.filter((function(t){return!t.fixedAction}))}},{key:"showMore",get:function(){return this.items.length>0&&this.inIframe}},{key:"canSendImage",get:function(){var t=this.toolButtons.find((function(t){return"sendImageMessage"===t.actionType})),e=t||{},a=e.isShow,n=e.enable;return a&&n}},{key:"clickToolBtn",value:function(t){var e=t.actionType,a=t.enable;a&&(e&&"function"===typeof this[e]?this[e]():this.$emit("clickToolBtn",t))}},{key:"sendImageMessage",value:function(){return this.openFileUpload("image")}},{key:"sendFileMessage",value:function(){return this.openFileUpload("file")}},{key:"openFileUpload",value:function(t){var e=this;this.requirePermission(t,(function(){e.$emit("openFileUpload",t)}))}},{key:"sendFace",value:function(){this.qqFaceShow=!this.qqFaceShow}},{key:"watchDocumentClick",value:function(){this.qqFaceShow&&(this.qqFaceShow=!1),this.showPop&&(this.showPop=!1),this.showBizCard&&(this.showBizCard=!1)}},{key:"clickFaceItem",value:function(t){this.$emit("clickFaceItem",t)}},{key:"hideBallon",value:function(){this.showBizCard=!1}},{key:"mounted",value:function(){document.addEventListener("click",this.watchDocumentClick)}},{key:"beforeDestory",value:function(){document.removeEventListener("click",this.watchDocumentClick)}},{key:"robotTransfer",value:function(){this.$emit("robotTransfer")}},{key:"closeSession",value:function(){this.$emit("closeSession")}},{key:"exitQueue",value:function(){this.$emit("exitQueue")}},{key:"activeFeedback",value:function(){this.$emit("activeFeedback")}},{key:"requirePermission",value:function(t,e,a){var n=this,i={image:"sendImageMessage",file:"sendFileMessage"},s=this.toolButtons.find((function(e){return e.actionType===i[t]})),o=s||{},c=o.authorizeTip;c&&!this.permissionPopup?this.$Confirm({title:"".concat(c.title.replace(/\s/g,"&nbsp;")||this.$t("sysmsg_upload_file_permission_require_msg")),text:"".concat(c.explain.replace(/\s/g,"&nbsp;")),confirmText:this.$t("common_allow_text"),cancelText:this.$t("common_not_allow_text")}).then((function(){n.permissionPopup=1,e&&e()})).catch((function(){a&&a()})):e&&e()}}]),n}(u["d"]);Object(d["a"])([Object(u["b"])("inIframe")],K.prototype,"inIframe",void 0),Object(d["a"])([Object(u["b"])("globalData")],K.prototype,"globalData",void 0),Object(d["a"])([Object(u["c"])({default:[]})],K.prototype,"toolButtons",void 0),Object(d["a"])([Object(u["e"])("toolBtns",{immediate:!0,deep:!0})],K.prototype,"onToolBtnsChange",null),K=Object(d["a"])([Object(u["a"])({name:"BtnTools",components:{ChatFace:V}})],K);var Z=K,$=Z,tt=(a("a12f"),Object(M["a"])($,R,N,!1,null,"1230eb97",null)),et=tt.exports,at=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(C["a"])(Object(A["a"])(t),"inIframe",void 0),Object(C["a"])(Object(A["a"])(t),"toolButtons",void 0),Object(C["a"])(Object(A["a"])(t),"sourceMsg",void 0),Object(C["a"])(Object(A["a"])(t),"inputContent",void 0),Object(C["a"])(Object(A["a"])(t),"chatMsg",""),Object(C["a"])(Object(A["a"])(t),"isCtrlKeyDown",0),t}return Object(c["a"])(a,[{key:"onChatMsgChange",value:function(t){this.$emit("update:inputContent",t)}},{key:"onInputContent",value:function(t){this.chatMsg=t||""}},{key:"isMacOS",get:function(){return navigator.userAgent.indexOf("mac os")}},{key:"shortcutKey",get:function(){return this.isMacOS?16:17}},{key:"formatNickname",value:function(t){return 1===t||"访客"===t?"我":"客服"}},{key:"focus",value:function(){var t=document.querySelector(".post-area");t&&t.focus()}},{key:"clickFaceItem",value:function(t){var e=this.$el.querySelector(".post-area"),a=e.selectionStart||0;this.chatMsg="".concat(this.chatMsg.substring(0,a)).concat(t).concat(this.chatMsg.substring(a,this.chatMsg.length));var n=a+t.length;setTimeout((function(){e.selectionStart=n,e.selectionEnd=n,e.focus()}))}},{key:"placeholderMsg",get:function(){return/macintosh|mac os x/i.test(navigator.userAgent)?this.$t("common_postarea_Macpc_placeholder"):this.$t("common_postarea_pc_placeholder")}},{key:"chatKeyDown",value:function(t){var e=this.$el.querySelector(".post-area");if(!0!==t.ctrlKey&&!0!==t.metaKey||(this.isCtrlKeyDown=1),13===t.which&&1===this.isCtrlKeyDown&&!this.isMacOS){var a=e.selectionStart||0;this.chatMsg="".concat(this.chatMsg.substring(0,a),"\r\n").concat(this.chatMsg.substring(a,this.chatMsg.length));var n=a+1;setTimeout((function(){e.scrollTop=e.scrollTop+20,e.selectionStart=n,e.selectionEnd=n,e.focus()}))}if(13===t.which&&1===this.isCtrlKeyDown&&this.isMacOS){var i=e.selectionStart||0;this.chatMsg="".concat(this.chatMsg.substring(0,i),"\r\n").concat(this.chatMsg.substring(i,this.chatMsg.length));var s=i+1;setTimeout((function(){e.scrollTop=e.scrollTop+20,e.selectionStart=s,e.selectionEnd=s,e.focus()}))}13===t.which&&0===this.isCtrlKeyDown&&(t.preventDefault(),this.sendMsg())}},{key:"chatKeyUp",value:function(t){!1!==t.ctrlKey&&!1!==t.metaKey||(this.isCtrlKeyDown=0)}},{key:"pasteText",value:function(t){var e=t.clipboardData||t.originalEvent.clipboardData,a=Array.from(e.items),n=!1,i=[],s=[];a.forEach((function(t){i.push({kind:t.kind,type:t.type,file:t.getAsFile()}),"file"===t.kind&&t.type.match("^image/")&&(n=!0,s.push(t.getAsFile()))}));var o=this.$refs.btnTools;n&&o&&o.canSendImage&&(console.log("copys",i),this.$emit("callFunc","imageUploadWithCopy",{target:{files:s}}),t.preventDefault()),console.log("pasteText",t,e,a)}},{key:"openFileUpload",value:function(t){"image"===t?this.$emit("callFunc","imageUpload"):this.$emit("callFunc","fileUpload")}},{key:"sendMsg",value:function(t){var e=this;(this.chatMsg&&this.chatMsg.trim()||t)&&(this.$emit("callFunc","sendTextMessage",this.chatMsg||t),this.chatMsg="",this.$nextTick((function(){var t=e.$refs.textarea;t.focus()})))}},{key:"robotTransfer",value:function(){this.$emit("callFunc","robotTransfer")}},{key:"closeSession",value:function(){this.$emit("callFunc","closeSession")}},{key:"exitQueue",value:function(){this.$emit("callFunc","exitQueue")}},{key:"activeFeedback",value:function(){this.$emit("callFunc","activeFeedback")}},{key:"clear",value:function(){var t=this;this.chatMsg="",this.$nextTick((function(){var e=t.$refs.textarea;e.focus()}))}}]),a}(u["d"]);Object(d["a"])([Object(u["b"])("inIframe")],at.prototype,"inIframe",void 0),Object(d["a"])([Object(u["c"])({default:[]})],at.prototype,"toolButtons",void 0),Object(d["a"])([Object(u["c"])({default:""})],at.prototype,"sourceMsg",void 0),Object(d["a"])([Object(u["c"])({default:""})],at.prototype,"inputContent",void 0),Object(d["a"])([Object(u["e"])("chatMsg")],at.prototype,"onChatMsgChange",null),Object(d["a"])([Object(u["e"])("inputContent",{immediate:!0})],at.prototype,"onInputContent",null),at=Object(d["a"])([Object(u["a"])({name:"ChatTools",components:{BtnTools:et}})],at);var nt=at,it=nt,st=(a("f7ae"),Object(M["a"])(it,F,L,!1,null,"6dedbde8",null)),ot=st.exports,ct=a("368b"),rt=a("7aff"),lt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[t.isLoading?t._e():e("div",{staticClass:"load-status",staticStyle:{"margin-top":"8px"}},[e("span",{staticClass:"btn-load-msg",on:{click:function(e){return t.$emit("click")}}},[t._v(t._s(t.$t("chat_history_msg_get_text")))])]),t.isLoading?e("div",{staticClass:"load-status",staticStyle:{"margin-top":"8px"}},[e("div",{staticClass:"status-loading"},[e("i",{staticClass:"loading loading-s"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("chat_history_msg_loading_text")))])])]):t._e()])},dt=[],ut=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(C["a"])(Object(A["a"])(t),"isLoading",void 0),t}return Object(c["a"])(a)}(u["d"]);Object(d["a"])([Object(u["c"])({default:!1})],ut.prototype,"isLoading",void 0),ut=Object(d["a"])([Object(u["a"])({name:"MsgLoad",components:{}})],ut);var ft=ut,mt=ft,ht=(a("8aba"),Object(M["a"])(mt,lt,dt,!1,null,"155ac2e4",null)),gt=ht.exports,pt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"chat-list-container"},[t._l(t.msgList,(function(a){return[e("message-item",{directives:[{name:"show",rawName:"v-show",value:"robot"!==a.type||!a.isNeedHide,expression:"item.type !== 'robot' || !item.isNeedHide"}],key:a.seq,attrs:{message:a,styleConfig:t.styleConfig},on:{resendMsg:function(e){return t.resendMsg(a)},onReplay:function(e){return t.$emit("onReplay",e)},onCopy:function(e){return t.$emit("onCopy",e)},onRevoke:function(e){return t.$emit("onRevoke",e)},"on-scroll-to":function(e){return t.$emit("on-scroll-to",e)},onLunchQQ:function(e){return t.$emit("onLunchQQ",e)},onAddQQ:function(e){return t.$emit("onAddQQ",e)},videoMsgClick:function(e){return t.$emit("videoMsgClick",e)}},scopedSlots:t._u([{key:"thirdMsgItem",fn:function(e){return[t._t("thirdMsgItem",null,{data:e.data})]}}],null,!0)})]}))],2)},bt=[],vt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{key:t.msg.seq,ref:"msgItem"+t.msg.seq,staticClass:"msg-item flex",class:t.msgCls,attrs:{seq:t.msg.seq}},[t.msg.type===t.IMSDKType.MSG_GRAY?[e("msg-gray",t._g({attrs:{device:"pc",data:t.msg}},t.$listeners))]:t.msg.type===t.MsgType.MSG_TIP?[e("msg-tip",{attrs:{device:"pc",data:t.msg}})]:t.msg.type===t.MsgType.MSG_DATETIME?[e("msg-date-time",{attrs:{data:t.msg}})]:t.msg.type===t.IMSDKType.MSG_REVOKE?[e("msg-revoke",{attrs:{data:t.msg}})]:t.msg.type==t.IMSDKType.MSG_ROBOT_NAV?[e("msg-robot-nav",{attrs:{data:t.msg}})]:t.msg.type==t.MsgType.MSG_ROBOT_GOODS_NAV?[e("msg-robot-goods-nav",{attrs:{data:t.msg}})]:[t.msg.extuinInfo&&!t.msg.hideBInfo?e("div",{staticClass:"msg-avatar"},[e("img",{staticClass:"avatar-image",attrs:{src:t.msg.extuinInfo.avatar},on:{error:function(e){e.target.src=t.DEFAULTAVATAR}}})]):t._e(),e("div",{staticClass:"msg-side"},[t.msg.extuinInfo&&!t.msg.hideBInfo?e("div",{staticClass:"msg-name"},[e("div",{staticClass:"name-txt"},[t._v(t._s(t.msg.extuinInfo.name))]),e("qr-code",{attrs:{guidanceData:t.globalData.guidanceInfo.guidanceData}})],1):t._e(),e("div",{staticClass:"msg-contianer flex"},[e("div",{staticClass:"msg-body",class:Object(C["a"])({"bg-primay":t.msg.mine,"file-border-radius":t.msg.type===t.IMSDKType.MSG_FILE,"image-border-radius":t.msg.type===t.IMSDKType.MSG_IMAGE_TEXT,"flex-full":t.msg.hideBInfo},"msg_".concat(t.msgId),t.msgId)},[t.msg.type===t.IMSDKType.MSG_TEXT?e("msg-text",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{"select-none":t.canReplay,data:t.msg},on:{onReplayMsgClick:function(e){return t.$emit("on-scroll-to",e)}},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type===t.IMSDKType.MSG_IMAGE?e("msg-image",{staticClass:"pc",attrs:{data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type===t.IMSDKType.MSG_FILE?e("msg-file",{staticClass:"pc",attrs:{"data-msg":JSON.stringify(t.msg),data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_VOICE?e("msg-ptt",{attrs:{data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_LONG_MSG?e("msg-long-msg",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{"select-none":t.canReplay,data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_IMAGE_TEXT?e("msg-image-text",{attrs:{data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_QDXML?e("msg-qdxml",{attrs:{data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_MIX?e("msg-mix",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_ROBOT?e("msg-robot",{staticClass:"pc",attrs:{data:t.msg}}):t.msg.type==t.MsgType.MSG_TYPING?e("msg-manual-typing",{attrs:{data:t.msg}}):t.msg.type==t.MsgType.MSG_LEAVE_FORM?e("msg-leave-form",{attrs:{data:t.msg}}):t.msg.type===t.MsgType.MSG_ADD_QQ_CARD?e("msg-add-qq-card",{attrs:{data:t.msg},on:{onAddQQ:function(e){return t.$emit("onAddQQ",t.msg)}}}):t.msg.type===t.MsgType.MSG_INVITE_QQ?e("msg-qq-invite-card",{attrs:{data:t.msg},on:{onLunchQQ:function(e){return t.$emit("onLunchQQ",t.msg)}}}):t._t("thirdMsgItem",(function(){return[t.msg.type===t.IMSDKType.MSG_THIRD_MSG&&60===t.msg.content.crmFlag?e("msg-satisfaction-survey",{staticClass:"pc",attrs:{data:t.msg}}):t.msg.type==t.IMSDKType.MSG_RTC?e("msg-rtc",{attrs:{data:t.msg},on:{videoMsgClick:t.videoMsgClick}}):e("msg-unknown",{attrs:{data:t.msg}},[t._v("[未知类型消息]")])]}),{data:t.msg})],2),t.msg.mine?[t.msg.status!==t.MsgStatus.Success?e("div",{staticClass:"msg-status"},[t.msg.status===t.MsgStatus.Sending?e("img",{staticClass:"icon-loading anim-rotate",attrs:{src:a("dbf9")}}):t._e(),t.msg.status===t.MsgStatus.Resend||t.msg.status===t.MsgStatus.Invalid?e("img",{staticClass:"icon-fail",attrs:{src:a("4f77")},on:{click:t.resendMsg}}):t._e()]):t._e(),t.isShowReadReceiptTag?e("div",{staticClass:"msg-beenread-tag"},[t.msg.hasBeenRead?e("div",{staticClass:"msg-icon-beenread"},[t._v(t._s(t.$t("msg_beenread")))]):e("div",{staticClass:"msg-icon-unread txt-primay"},[t._v(t._s(t.$t("msg_unread")))])]):t._e()]:t._e()],2)])]],2)},_t=[],wt=(a("caad"),a("2532"),a("a9e3"),a("4022")),yt=a("d5b4"),xt=a("641c"),At=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(C["a"])(Object(A["a"])(t),"message",void 0),Object(C["a"])(Object(A["a"])(t),"styleConfig",void 0),Object(C["a"])(Object(A["a"])(t),"MsgType",void 0),Object(C["a"])(Object(A["a"])(t),"IMSDKType",void 0),Object(C["a"])(Object(A["a"])(t),"MsgStatus",void 0),Object(C["a"])(Object(A["a"])(t),"inIframe",void 0),Object(C["a"])(Object(A["a"])(t),"globalData",void 0),t}return Object(c["a"])(a,[{key:"DEFAULTAVATAR",get:function(){return yt["a"]}},{key:"msg",get:function(){return this.message}},{key:"msgType",get:function(){return""}},{key:"msgId",get:function(){var t;return null===(t=this.msg)||void 0===t||null===(t=t.msgHead)||void 0===t||null===(t=t.msg_third_app_info)||void 0===t||null===(t=t.bytes_third_app_buf)||void 0===t||null===(t=t.bytes_crm_buf)||void 0===t?void 0:t.str_current_qidian_msg_unique_id}},{key:"msgSendSuccess",get:function(){return this.msg.status===this.MsgStatus.Success}},{key:"canReplay",get:function(){return this.msgId&&this.msgSendSuccess}},{key:"msgCls",get:function(){var t,e=this.msg,a=this.IMSDKType,n=this.MsgType,i=(t={},Object(C["a"])(t,a.MSG_GRAY,"msg-type-gray"),Object(C["a"])(t,n.MSG_TIP,"msg-type-tip"),Object(C["a"])(t,n.MSG_DATETIME,"msg-type-datetime"),Object(C["a"])(t,a.MSG_REVOKE,"msg-type-revoke"),Object(C["a"])(t,a.MSG_ROBOT_NAV,"msg-type-robot-nav"),t);return e.type in i?i[e.type]:"".concat(e.mine?"msg-c2b":"msg-b2c"," msg-type-").concat(e.type)}},{key:"isShowReadReceiptTag",get:function(){return this.msg.status===this.MsgStatus.Success&&this.msg.readStatusSwitch&&this.msg.hasReadReceiptTag&&"undefined"!==typeof this.msg.hasBeenRead}},{key:"handleContextmenu",value:function(t){var e=this,a=[this.IMSDKType.MSG_TEXT,this.IMSDKType.MSG_LONG_MSG],n=[];if(this.canReplay&&n.push({label:"回复",icon:"replay",onClick:function(){return e.$emit("onReplay",e.msg)}}),a.includes(this.msg.type)){var i="";this.msg.type===this.IMSDKType.MSG_TEXT&&(i=this.msg.content),this.msg.type===this.IMSDKType.MSG_LONG_MSG&&(i=this.msg._processedText),n.push({label:"复制",icon:"copy",onClick:function(){return e.$emit("onCopy",i)}})}else if(this.msg.type===this.IMSDKType.MSG_MIX){var s="";this.msg.content.forEach((function(t){t.type===e.IMSDKType.MSG_TEXT&&(s+=t.content),t.type===e.IMSDKType.MSG_FACE&&(s+="[表情]")})),s.trim().length>0&&n.push({label:"复制",icon:"copy",onClick:function(){return e.$emit("onCopy",s)}})}this.canRevoke()&&n.push({label:"撤回",icon:"revoke",onClick:function(){return e.$emit("onRevoke",e.msg)}}),0!==n.length&&(t.preventDefault(),this.$contextmenu({items:n,event:t,zIndex:3,minWidth:160}))}},{key:"resendMsg",value:function(){this.$emit("resendMsg")}},{key:"canRevoke",value:function(){var t,e;if(!this.styleConfig||!Number(this.styleConfig.isAllowRecall))return!1;if((null===this||void 0===this||null===(t=this.globalData)||void 0===t||null===(t=t.reception)||void 0===t||!t.extuin)&&(null===this||void 0===this||null===(e=this.globalData)||void 0===e||null===(e=e.reception)||void 0===e||!e.robotId))return!1;var a=2,n=this.msg.type,i=this.msg.mine,s=this.IMSDKType,o=s.MSG_TEXT,c=s.MSG_LONG_MSG,r=s.MSG_FILE,l=s.MSG_MEDIA,d=s.MSG_IMAGE,u=s.MSG_VOICE,f=s.MSG_FACE,m=s.MSG_IMAGE_TEXT,h=s.MSG_MIX,g=s.MSG_QDXML,p=[o,c,r,l,d,u,f,m,h,g],b=this.msg.time&&parseInt(this.msg.time,10),v=(new Date).getTime(),_=v-b<=6e4*a;return i&&_&&p.includes(n)}},{key:"videoMsgClick",value:function(t){this.$emit("videoMsgClick",t)}}]),a}(u["d"]);Object(d["a"])([Object(u["c"])({default:{}})],At.prototype,"message",void 0),Object(d["a"])([Object(u["c"])({default:function(){}})],At.prototype,"styleConfig",void 0),Object(d["a"])([Object(u["b"])()],At.prototype,"MsgType",void 0),Object(d["a"])([Object(u["b"])()],At.prototype,"IMSDKType",void 0),Object(d["a"])([Object(u["b"])()],At.prototype,"MsgStatus",void 0),Object(d["a"])([Object(u["b"])()],At.prototype,"inIframe",void 0),Object(d["a"])([Object(u["b"])()],At.prototype,"globalData",void 0),At=Object(d["a"])([Object(u["a"])({name:"MessageItem",components:Object(f["a"])(Object(f["a"])({},wt["a"]),{},{QrCode:xt["a"]})})],At);var Ct=At,Tt=Ct,qt=(a("e2d4"),a("0dd5"),a("7370"),Object(M["a"])(Tt,vt,_t,!1,null,"6688466a",null)),kt=qt.exports,It=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(C["a"])(Object(A["a"])(t),"msgList",void 0),Object(C["a"])(Object(A["a"])(t),"styleConfig",void 0),t}return Object(c["a"])(a,[{key:"resendMsg",value:function(t){this.$emit("resendMsg",t)}}]),a}(u["d"]);Object(d["a"])([Object(u["c"])({default:[]})],It.prototype,"msgList",void 0),Object(d["a"])([Object(u["c"])({default:function(){}})],It.prototype,"styleConfig",void 0),It=Object(d["a"])([Object(u["a"])({name:"MessageList",components:{MessageItem:kt}})],It);var Mt=It,Ot=Mt,St=Object(M["a"])(Ot,pt,bt,!1,null,"45e5b1d0",null),Dt=St.exports,jt=a("803a"),Pt=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.nums?e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"btn-offlinemsg-gotop",on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"gotop-text"},[t._v(t._s("".concat(t.nums,"条新消息")))]),e("img",{staticClass:"icon-arrow-down",attrs:{src:a("352e")}})]):t._e()},Et=[],Ft=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(C["a"])(Object(A["a"])(t),"nums",void 0),Object(C["a"])(Object(A["a"])(t),"isShow",!1),Object(C["a"])(Object(A["a"])(t),"unreadTimer",null),t}return Object(c["a"])(a,[{key:"onNumChange",value:function(t){var e=this;console.log("[unreadMsgNum]",t),t-0>0?this.unreadTimer=setTimeout((function(){e.isShow=!0}),1e3):(clearTimeout(this.unreadTimer),this.isShow=!1)}}]),a}(u["d"]);Object(d["a"])([Object(u["c"])({default:0})],Ft.prototype,"nums",void 0),Object(d["a"])([Object(u["e"])("nums")],Ft.prototype,"onNumChange",null),Ft=Object(d["a"])([Object(u["a"])({name:"MsgNewNotice"})],Ft);var Lt=Ft,Rt=Lt,Nt=(a("fb72"),Object(M["a"])(Rt,Pt,Et,!1,null,"6f843e22",null)),Bt=Nt.exports,Gt=a("3bd9"),Qt=a("8118"),zt=a("dc1b"),Ut=a("5ac5"),Ht={name:"Aio",mixins:[Qt["c"],zt["a"]],components:{ChatTools:ot,ImageUploader:ct["a"],FileUploader:rt["a"],MsgLoad:gt,MessageList:Dt,MockMsg:jt["a"],MsgNewNotice:Bt,QdSign:E["a"],SetLangModal:Gt["a"]},data:function(){return{isShowSetLangPanel:!1}},created:function(){Ut["a"].switchSetLangPanel=this.switchSetLangPanel.bind(this)},methods:{replay:function(t){this.handleReplayMsg(t),this.$refs.chatTools.focus&&this.$refs.chatTools.focus()},switchSetLangPanel:function(t){this.isShowSetLangPanel=t}}},Yt=Ht,Wt=(a("5802"),Object(M["a"])(Yt,j,P,!1,null,"4ea200b5",null)),Xt=Wt.exports,Vt=a("72bf"),Jt=a.n(Vt),Kt=a("019f"),Zt=a("6e0c"),$t=function(){var t=this,e=t._self._c;return e("div",[t.activeCall?e("div",{staticClass:"trtc"},[e("div",{staticClass:"callMsg"},[t.isCallee?e("div",{staticClass:"call__left"},[e("div",{staticClass:"call__name"},[t._v(t._s(t.callName))]),t.speaking?e("div",{staticClass:"call__tips"},[t._v("正在和你进行"+t._s(t.callTypeName)+"通话")]):e("div",{staticClass:"call__tips"},[t._v("正在邀请你进行"+t._s(t.callTypeName)+"通话")])]):e("div",{staticClass:"call__left"},[e("div",{staticClass:"call__name"},[t._v(t._s(t.callName))]),t.speaking?e("div",{staticClass:"call__tips"},[t._v("正在和你进行"+t._s(t.callTypeName)+"通话")]):e("div",{staticClass:"call__tips"},[t._v("正在等待对方接受"+t._s(t.callTypeName)+"通话")])]),e("div",{staticClass:"accept",class:t.isCallee&&!t.speaking?"":"accept--hide"},[t.isVideo?e("div",{staticClass:"trtc__video",on:{click:t.initAnswer}},[e("img",{attrs:{src:t.icons.video,width:"40",height:"40"}})]):e("div",{staticClass:"trtc__voice",on:{click:t.initAnswer}},[e("img",{attrs:{src:t.icons.audio,width:"40",height:"40"}})])]),e("div",{staticClass:"hangup",on:{click:t.initHangup}},[e("img",{attrs:{src:t.icons.hangup,width:"40",height:"40"}})])])]):t._e()])},te=[],ee=a("e268"),ae={props:{wpaDetail:{type:Object,default:function(){return{}}},employeeInfo:{type:Object,default:function(){return{}}}},mixins:[w],data:function(){return{icons:{video:a("487a"),audio:a("ed5c"),hangup:a("0355")},roomid:"",mediaType:"",activeCall:!1,isCallee:!1,speaking:!1}},computed:{isVideo:function(){return 1===this.mediaType},callTypeName:function(){return this.isVideo?"视频":"语音"},callName:function(){return console.log(this.employeeInfo),this.employeeInfo.name||"未知"}},methods:{initAnswer:function(){this.activeCall=!1,this.userAction="receive",this.dir="b2c",ee["a"].stop(),this.surportTRTC?(Object(b["a"])({message:"音视频:接听,".concat(this.roomid)}),_["h"].clear("dialling_timeout_timer"),this.openRoom()):this.checkTRTCFaile()},initHangup:function(){this.activeCall=!1,Object(b["a"])({message:"音视频:挂断,".concat(this.roomid)}),Object(b["a"])({message:"音视频:ring->idle:hangup"},!1),this.videoAct(v["a"].recRefuse),this.exitSdk({event:"hangup"})},showDialling:function(t){Object(b["a"])({message:"音视频:被叫,开始响铃".concat(JSON.stringify(t))}),console.log(this.wpaDetail),console.log(this.employeeInfo);var e=t.uint32_call_type,a=t.uint32_roomid;this.mediaType=e,this.roomid=a,this.activeCall=!0,this.isCallee=!0,ee["a"].play()},stopRing:function(){this.activeCall=!1,ee["a"].stop()}}},ne=ae,ie=(a("25b1"),Object(M["a"])(ne,$t,te,!1,null,null,null)),se=ie.exports,oe={name:"WebIMPage",mixins:[g["a"],w],components:{PcHeader:S,Aio:Xt,KefuFreeTip:D["a"],AnnouncementNotice:Kt["a"],PcRing:se},data:function(){return{slideOpen:!1,isShowKeSafeTip:!0,sessionStart:!1,marginTop:"calc((100vh - 600px) / 2)"}},mounted:function(){this.adjustIMWindowSize()},computed:{isRenderSidebar:function(){var t=[this.wpaDetail.kfuin,!this.inIframe,this.styleConfig&&this.styleConfig.isUseWebSidebar,!this.isMiniMode];return t.every(Boolean)},iframeSrc:function(){var t=Jt.a.stringify({kfuin:this.wpaDetail.kfuin,wpaId:this.wpaDetail.wpaId,key:this.wpaDetail.key}),e=Jt.a.stringify({extuin:this.currExtuin||""});return"./info-card.html?".concat(t,"#").concat(e)},isMiniMode:function(){var t=Jt.a.parse(location.search),e=t.mini_mode;return"1"===e}},methods:{handleCardInfo:function(){this.slideOpen=!this.slideOpen},adjustIMWindowSize:function(){var t=this,e=this.$refs.imContainerRef;this.marginTop="calc((100vh - ".concat(e.clientHeight,"px) / 2)"),window.addEventListener("resize",Object(Zt["a"])((function(){t.marginTop="calc((100vh - ".concat(e.clientHeight,"px) / 2)")}),100))},onSessionStart:function(){this.handleSessionStart()},videoMsgClick:function(t){this.currExtuin&&(1==t?this.videoCall():this.audioCall())},showSetLangPanel:function(){Ut["a"].switchSetLangPanel(!0)}}},ce=oe,re=(a("20e2"),Object(M["a"])(ce,m,h,!1,null,"506f82f4",null)),le=re.exports,de=function(t){Object(r["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"mounted",value:function(){}}]),a}(u["d"]);de=Object(d["a"])([Object(u["a"])({components:{WebIMPage:le}})],de);var ue=de,fe=ue,me=(a("f67b"),Object(M["a"])(fe,i,s,!1,null,null,null)),he=me.exports,ge=a("55b6"),pe=a("ae03"),be=a("75e4"),ve=a("33ae"),_e=a("c2e0"),we=a("0086"),ye=a.n(we),xe=a("e5d9"),Ae=a("4eb5"),Ce=a.n(Ae),Te=navigator.userAgent;n["a"].prototype.$platform={pc:!0,iOS:/iPhone|iPad|iPod/i.test(Te),Android:/Android/i.test(Te),Weixin:/MicroMessenger/i.test(Te),WeixinApp:/MicroMessenger/i.test(Te)&&/miniProgram/i.test(Te)},n["a"].prototype.$ajax=pe["a"],n["a"].config.productionTip=!1,n["a"].use(be["a"]),n["a"].use(ve["a"]),n["a"].use(_e["a"]),n["a"].use(ye.a),n["a"].use(xe["a"]),n["a"].use(Ce.a),new n["a"]({i18n:ge["b"],render:function(t){return t(he)}}).$mount("#app")},cbaf:function(t,e,a){t.exports=a.p+"img/icon-file-download.aac90c3f.svg"},ce06:function(t,e,a){},cf0c:function(t,e,a){},cf42:function(t,e){t.exports="data:image/png;base64,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"},d1b9:function(t,e,a){"use strict";a("8231")},d200:function(t,e,a){t.exports=a.p+"img/audo.d369926f.svg"},d276:function(t,e,a){},d2d6:function(t,e,a){},d5b4:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return d})),a.d(e,"c",(function(){return u}));var n=a("c7eb"),i=a("1da1"),s=a("7ea6"),o=s,c={},r={name:"",avatar:s};function l(t,e){if(!e){var a=c[t];return a||null}c[t]=e}function d(t){if(!t)return r;Object.assign(r,t)}function u(t,e){return f.apply(this,arguments)}function f(){return f=Object(i["a"])(Object(n["a"])().mark((function t(e,a){var i;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=12;break}if(i=null,i=l(e),!i){t.next=5;break}return t.abrupt("return",i);case 5:return t.next=7,a(e);case 7:if(i=t.sent,!i){t.next=12;break}return i.avatar||(i.avatar=s),l(e,i),t.abrupt("return",i);case 12:return t.abrupt("return",d());case 13:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}},d5d6f:function(t,e,a){"use strict";a.r(e),e["default"]={lang:"English",qqface_Smile:"Smile",qqface_Grimac:"Grimac",qqface_Drool:"Drool",qqface_Scowl:"Scowl",qqface_Chill:"Chill",qqface_Sob:"Sob",qqface_Shy:"Shy",qqface_Silent:"Silent",qqface_Sleep:"Sleep",qqface_Cry:"Cry",qqface_Awkward:"Awkward",qqface_Angry:"Angry",qqface_Tongue:"Tongue",qqface_Grin:"Grin",qqface_Surprise:"Surprise",qqface_Frown:"Frown",qqface_CoolGuy:"CoolGuy",qqface_Helpless:"Helpless",qqface_Scream:"Scream",qqface_Puke:"Puke",qqface_Chuckle:"Chuckle",qqface_Joyful:"Joyful",qqface_Slight:"Slight",qqface_Smug:"Smug",qqface_Hungry:"Hungry",qqface_Drowsy:"Drowsy",qqface_Panic:"Panic",qqface_Sweat:"Sweat",qqface_Laugh:"Laugh",qqface_Commando:"Commando",qqface_Determined:"Determined",qqface_Scold:"Scold",qqface_Confused:"Confused",qqface_Shhh:"Shhh",qqface_Dizzy:"Dizzy",qqface_Torturing:"Torturing",qqface_Toasted:"Toasted",qqface_Skull:"Skull",qqface_Hammer:"Hammer",qqface_Bye:"Bye",qqface_Speechless:"Speechless",qqface_NosePick:"NosePick",qqface_Clap:"Clap",qqface_Embarrased:"Embarrased",qqface_Trick:"Trick","qqface_Hum!L":"Hum!L","qqface_Hum!R":"Hum!R",qqface_Yawn:"Yawn","qqface_Pooh-pooh":"Pooh-pooh",qqface_Shrunken:"Shrunken",qqface_TearingUp:"TearingUp",qqface_Sly:"Sly",qqface_Kiss:"Kiss","qqface_What!":"What!",qqface_Whimper:"Whimper",qqface_Cleaver:"Cleaver",qqface_Watermelon:"Watermelon",qqface_Beer:"Beer",qqface_Basketball:"Basketball",qqface_Pingpong:"Pingpong",qqface_Coffee:"Coffee",qqface_Rice:"Rice",qqface_Pig:"Pig",qqface_Rose:"Rose",qqface_Wilt:"Wilt",qqface_Lips:"Lips",qqface_Heart:"Heart",qqface_BrokenHeart:"BrokenHeart",qqface_Cake:"Cake",qqface_Lightning:"Lightning",qqface_Bomb:"Bomb",qqface_Knife:"Knife",qqface_Football:"Football",qqface_Beetle:"Beetle",qqface_Poop:"Poop",qqface_Moon:"Moon",qqface_Sun:"Sun",qqface_Gift:"Gift",qqface_Hug:"Hug",qqface_Thumbsup:"Thumbsup",qqface_Thumbsdown:"Thumbsdown",qqface_Shake:"Shake",qqface_Victory:"Victory",qqface_Salute:"Salute",qqface_Beckon:"Beckon",qqface_Fist:"Fist",qqface_Bad:"Bad",qqface_LoveYou:"LoveYou",qqface_NO:"NO",qqface_OK:"OK",qqface_Love:"Love",qqface_Blow_a_kiss:"Blow a kiss",qqface_Waddle:"Waddle",qqface_Tremble:"Tremble","qqface_Aaagh!":"Aaagh!",qqface_Twirl:"Twirl",qqface_Kowtow:"Kowtow",qqface_Turn_round:"Turn round",qqface_Rope_Skipping:"Rope Skipping",qqface_Wave_hand:"Wave hand",qqface_Excited:"Excited",qqface_Street_Dance:"Street Dance",qqface_Give_a_kiss:"Give a kiss",qqface_Tai_Chi_L:"Tai Chi L",qqface_Tai_Chi_R:"Tai Chi R",qqface_Bliss:"Bliss",qqface_Firecracker:"Firecracker",qqface_Lantern:"Lantern",qqface_Fortune:"Fortune",qqface_Karaoke:"Karaoke",qqface_Shopping:"Shopping",qqface_Email:"Email",qqface_Handsome:"Handsome",qqface_Hurray:"Hurray",qqface_Pray:"Pray",qqface_Furious:"Furious",qqface_Lollipop:"Lollipop",qqface_Drink_milk:"Drink milk",qqface_Noodles:"Noodles",qqface_Banana:"Banana",qqface_Plane:"Plane",qqface_Driving:"Driving",qqface_Highspeed_Rail_L:"Highspeed Rail L",qqface_Carriage:"Carriage",qqface_Highspeed_Rail_R:"Highspeed Rail R",qqface_Cloudy:"Cloudy",qqface_Rainy:"Rainy",qqface_Cash:"Cash",qqface_Panda:"Panda",qqface_Light_bulb:"Light bulb",qqface_Windmill:"Windmill",qqface_Alarm_Clock:"Alarm Clock",qqface_Umbrella:"Umbrella",qqface_Balloon:"Balloon",qqface_Ring:"Ring",qqface_Sofa:"Sofa",qqface_Toilet_Paper:"Toilet Paper",qqface_Medicine:"Medicine",qqface_Pistol:"Pistol",qqface_Frog:"Frog",custom_Face:"Custom Expression",common_page_title:"Online consultation",common_sendbtn_text:"Send",common_voicebtn_hold_text:"Hold to Talk",common_voicebtn_release_text:"Release to send",common_voicebtn_cancel_text:"Release to cancel",common_insert_photo_text:"Insert photo",common_insert_emoji_text:"Insert emoji",common_manual_close_text:"Quit chat",common_insert_file_text:"Insert file",common_feed_back_text:"feedback",common_screenshot_text:"screenshot",common_screenshot_tip_QQ:"QQ/WeChat screenshot is recommended",common_screenshot_tip_mac:"Mac: shortcut key Shift+Command+4 screenshot",common_screenshot_tip_win:'Windows: Use the built-in "screenshot tool"',short_insert_photo_text:"Photo",short_insert_file_text:"File",common_insert_businessCard_text:"Send business card",common_insert_businessCard_balloon_text:"Send My Business Card",common_postarea_pc_placeholder:'Press "Enter" to send message, "Ctrl + Enter" change to new line',common_postarea_Macpc_placeholder:'Press "Enter" to send message, "Command + Enter" change to new line',common_postarea_mobile_placeholder:"Please enter",common_chatting_text:"Chatting",common_leave_message_text:"Message",common_chatting_with_text:"Chatting with $1",common_qq_chat_text:"QQ Chat",common_start_qq_chat_text:"Start QQchat",common_new_message_text:"New message",common_add_qq_friend_text:"Add QQ friends",common_confirm_text:"Confirm",common_cancel_text:"Cancel",common_tencent_certification:"certification-en",common_lang_en:"English",common_lang_zh:"Chinese","common_lang_zh-TW":"Traditional Chinese",common_tencent_translator:"Mr.Translator Auto Translation",common_tencent_translator_fail:"Translation failure-Mr.Translator",common_tencent_translator_only:"Only Chinese-English translation is supported-Mr.Translator",common_allow_text:"Allow",common_not_allow_text:"Don't Allow",common_read_all:"Read All",common_typing:"Typing...",common_view_all:"Click to view all",common_audio_text:"Audio call",common_video_text:"Video call",common_video_confirm:"I see",common_video_text_call:"To call",chat_max_post_limit_text:"Content exceeds text limit",chat_history_msg_get_text:"Click to load historical messages",chat_history_msg_get_error:"Failed to load history message",chat_history_msg_loading_text:"Loading historical messages",chat_offline_msg_loading_text:"Loading new messages",chat_offline_msg_fail_text:"Fail to receive new messages, please click to retry",chat_offline_msg_over_text:"New message",chat_menu_msg_loading_text:"Loading navigation",chat_menu_msg_fail_text:"Fail to receive navigation, click to retry",chat_menu_msg_history_expired_text:"Historical messages has expired",chat_graphic_msg_readmore_text:"Read more",chat_graphic_msg_viewdmore_text:"View more",chat_feedback_title_text:"Please rate for the service",chat_feedback_submit_text:"Submit",chat_feedback_postarea_placeholder:"Your advice is mostly welcomed :)",chat_feedback_submitting_text:"Submitting",chat_feedback_success_msg:"Submitted successfully",chat_feedback_fail_msg:"Submission Failed",chat_feedback_error_msg:"Network error, please try again",chat_feedback_very_dissatisfied_text:"Very Dissatisfied",chat_feedback_dissatisfied_text:"Dissatisfied",chat_feedback_neutral_text:"Neutral",chat_feedback_satisfied_text:"Satisfied",chat_feedback_very_satisfied_text:"Very Satisfied",chat_add_friend_fetching_protocol_msg:"Fetching protocol",chat_add_friend_copy_success_msg:"Successful copy",chat_add_friend_fail_text:"Fail",chat_add_friend_fail_get_number_fail_text:"Failed to get numerical data",chat_add_friend_fail_no_text_selected_text:"No text selected, please copy it manually",chat_add_friend_fail_browser_not_support_text:"Browser does not support, please copy it manually",chat_change_queue_immediately:"立即切换",chat_close_session_confirm:"After ending the session, you may need to queue up again for consultation. Are you sure to end the session?",chat_close_session_succ:"The session has ended. If you need to continue the service, please send a message directly",chat_incoming:"Accessing, please wait",chat_incoming_success:"Successful connection",chat_incoming_timeout:'Access fails, please <a class="btn-refresh" href="javascript:;" onclick="location.reload();">refresh</a> to try again',chat_incoming_timeout_inframe:"Access fails, please refresh to try again",sysmsg_load_corpinfo_msg:"Loading business information",sysmsg_load_corpinfo_fail_msg:"Failed to load business information",sysmsg_load_staff_msg:"Loading staff information",sysmsg_load_staff_fail_msg:"Failed to load staff information",exit_queque_btn:"Exit queue",exit_queue_confirm:"Are you sure to exit the current queue?",exit_queue_success:"You have exited the queue",exit_queue_fail:"Failed to exit the queue. Please try again",notice_slider_header:"【Noice】",notice_popup_header:"Public Notice",notice_item_header:"【Noice】",notice_item_header_gjh:"【Noice】",ec_goods_text:"Goods",ec_order_text:"Order",send_business_card_btn:"send business card",xml_product_name:"Product Name",xml_product_exhibition_area:"Exhibition Area",xml_product_category:"Product Category",xml_purchase_quantity:"Purchase Quantity",xml_purchase_unit:"Purchase Unit",xml_buyer_name:"Buyer Name",xml_buyer_location:"Buyer Location",xml_buyer_tag:"Buyer Tag",xml_source_product:"Source Product",xml_source_category:"Category",xml_source_detail:"Details",xml_buyer_company_name:"Buyer Company Name",xml_buyer_company_country:"Country /Region",xml_exhibit_name:"Product Name",xml_exhibit_uom:"Uom",xml_exhibit_price:"Price",xml_exhibit_currency:"Currency",xml_exhibit_detail:"Details",xml_exhibit_jump_tip:"Click to view detailed purchase intention",sysmsg_msg_current_service_lang:"The service language is ",sysmsg_msg_change_service_lang:"Service language changed to ",msg_unread:"Unread",msg_beenread:"Read"}},d604:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"robot-nav-wrapper"},[e(t.type,{tag:"component",attrs:{"nav-data":t.robotNav},on:{click:t.handleCLick,"hook:mounted":t.onLoad}}),t.html?e("span",{class:[t.isMobile?"robot-nav-err":"robot-nav-err-pc"],domProps:{innerHTML:t._s(t.html)}}):t._e()],1)},i=[],s=a("c7eb"),o=a("1da1"),c=a("5530"),r=(a("b0c0"),a("b64b"),a("a9e3"),a("3b97")),l=a("9de0"),d=a("bc3a"),u=a.n(d),f=(a("13d5"),a("d3b7"),a("ddb0"),a("ac1f"),a("5319"),a("6467")),m=f.keys().reduce((function(t,e){var a=Object(c["a"])({},t),n=f(e).default,i=e.replace("./","").replace(".vue","");return a[i]=n,a}),{}),h=m,g=a("5ac5"),p=a("c51a"),b={name:"robot-nav",mixins:[r["a"]],inject:["OBJTYPES","to","globalData"],components:Object(c["a"])({},h),props:{data:{type:Object,default:function(){return{}}}},computed:{type:function(){var t;switch(this.robotNav.navType){case 0:t="btnType";break;case 1:t="SimpleTextType";break;case 2:t="BasicType";break;case 3:t="MultiThemeType";break;case 4:t="LittleCardType";break;case 5:t="CombinedType";break;case 6:t="MultiBasicType";break}return t},isMobile:function(){return!this.$platform.pc}},data:function(){return{robotNav:{},html:"",navData:{}}},mounted:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.data.content){e.next=5;break}return a=t.parseJsonFromXML(t.data.content),t.navData=a,t.robotNav=a.content.menu,e.abrupt("return");case 5:if(t.data.path){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,l["c"].getDownloadUrl(t.data,l["b"].OBJTYPES.OBJ_LONGTEXT);case 9:n=e.sent,n?u.a.get(n).then((function(e){if(200===e.status){var a=t.parseJsonFromXML(e.data);t.navData=a,t.robotNav=a.content.menu}else t.html="[获取消息内容异常]"})).catch((function(){t.html="[获取消息内容异常]"})):t.html="[获取消息内容异常]";case 11:case"end":return e.stop()}}),e)})))()},methods:{handleCLick:function(t,e){var a=Object.assign({robot_nav_first_menu_id:t.id,robot_nav_first_menu_name:t.name||"",robot_nav_action_type:t.action||""},{robot_nav_id:this.navData.id||0,robot_nav_name:this.navData.name||""},e);if(this.qidianDAReport(a),Object.keys(t).length>0){var n=this.data.crm&&this.data.crm.msg_webim_extra_data&&this.data.crm.msg_webim_extra_data.uint64_robotid;this.handleAction(t,"",n)}},parseJsonFromXML:function(t){if("string"===typeof t&&0===t.indexOf("<")&&t.indexOf("extraData")>-1){var e=Object(p["xml2json"])(t,{compact:!0,ignoreDeclaration:!0}),a={};try{var n=JSON.parse(e),i=n.msg._attributes.extraData;a=JSON.parse(i),console.log("extraData",a)}catch(s){console.error(s)}return a}if("string"===typeof t)try{return JSON.parse(t)}catch(s){}return t},qidianDAReport:function(t){var e,a=Object.assign({robot_nav_conv_type:4,robot_nav_cid:this.to.user_id,robot_nav_msg_dir:2,robot_nav_event_type:2,robot_nav_robot_id:Number(this.globalData.reception.robotId||0),wpa_id:null!==this&&void 0!==this&&null!==(e=this.wpaDetail)&&void 0!==e&&e.wpaId?Number(this.wpaDetail.wpaId):""},t);console.log("reportMsg",a),window.qidianDA("track","robot_nav_click",a)},onLoad:function(){this.data.fromHisotry?g["a"].checkIfNeedScrollToBottom(!0):g["a"].scrollToBottom()}}},v=b,_=(a("f900"),a("2877")),w=Object(_["a"])(v,n,i,!1,null,"69ec3145",null);e["default"]=w.exports},d6d1:function(t,e,a){"use strict";a("3f10")},d82c:function(t,e,a){"use strict";a("26f8")},d90f:function(t,e,a){"use strict";a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("5319"),a("d3b7"),a("159b"),a("a9e3"),a("14d9"),a("fb6a"),a("b64b"),a("99af");var n=a("b855"),i=a.n(n),s=a("f439"),o=a("8aeb"),c=a("55b6"),r=i()(),l=new RegExp("(https?|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]","g");function d(t){return t.replace(/['<>"`]/g,(function(t){switch(t){case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"`":return"&#96;";default:return""}}))}function u(t){return t.replace(r,'<span class="emoji">$&</span>')}function f(t){return t.replace(l,'<a href="$&" target="_blank">$&</a>')}function m(){return 1e3*Date.now()+Math.floor(1e3*Math.random())}var h={0:{TIP:"[惊讶]"},1:{TIP:"[撇嘴]"},2:{TIP:"[色]"},3:{TIP:"[发呆]"},4:{TIP:"[得意]"},5:{TIP:"[流泪]"},6:{TIP:"[害羞]"},7:{TIP:"[闭嘴]"},8:{TIP:"[睡]"},9:{TIP:"[大哭]"},10:{TIP:"[尴尬]"},11:{TIP:"[发怒]"},12:{TIP:"[调皮]"},13:{TIP:"[呲牙]"},14:{TIP:"[微笑]"},15:{TIP:"[难过]"},16:{TIP:"[酷]"},17:{TIP:"[非典]"},18:{TIP:"[抓狂]"},19:{TIP:"[吐]"},20:{TIP:"[偷笑]"},21:{TIP:"[可爱]"},22:{TIP:"[白眼]"},23:{TIP:"[傲慢]"},24:{TIP:"[饥饿]"},25:{TIP:"[困]"},26:{TIP:"[惊恐]"},27:{TIP:"[流汗]"},28:{TIP:"[憨笑]"},29:{TIP:"[大兵]"},30:{TIP:"[奋斗]"},31:{TIP:"[咒骂]"},32:{TIP:"[疑问]"},33:{TIP:"[嘘...]"},34:{TIP:"[晕]"},35:{TIP:"[折磨]"},36:{TIP:"[衰]"},37:{TIP:"[骷髅]"},38:{TIP:"[敲打]"},39:{TIP:"[再见]"},40:{TIP:"[闪人]"},41:{TIP:"[发抖]"},42:{TIP:"[爱情]"},43:{TIP:"[跳跳]"},44:{TIP:"[找]"},45:{TIP:"[美眉]"},46:{TIP:"[猪头]"},47:{TIP:"[小狗]"},48:{TIP:"[钱]"},49:{TIP:"[拥抱]"},50:{TIP:"[灯泡]"},51:{TIP:"[酒杯]"},52:{TIP:"[音乐]"},53:{TIP:"[蛋糕]"},54:{TIP:"[闪电]"},55:{TIP:"[炸弹]"},56:{TIP:"[刀]"},57:{TIP:"[足球]"},58:{TIP:"[猫咪]"},59:{TIP:"[便便]"},60:{TIP:"[咖啡]"},61:{TIP:"[饭]"},62:{TIP:"[女]"},63:{TIP:"[玫瑰]"},64:{TIP:"[凋谢]"},65:{TIP:"[男]"},66:{TIP:"[爱心]"},67:{TIP:"[心碎]"},68:{TIP:"[药丸]"},69:{TIP:"[礼物]"},70:{TIP:"[吻]"},71:{TIP:"[会议]"},72:{TIP:"[电话]"},73:{TIP:"[时间]"},74:{TIP:"[太阳]"},75:{TIP:"[月亮]"},76:{TIP:"[强]"},77:{TIP:"[弱]"},78:{TIP:"[握手]"},79:{TIP:"[胜利]"},80:{TIP:"[邮件]"},81:{TIP:"[电视]"},82:{TIP:"[多多]"},83:{TIP:"[美女]"},84:{TIP:"[汉良]"},85:{TIP:"[飞吻]"},86:{TIP:"[怄火]"},87:{TIP:"[毛毛]"},88:{TIP:"[Q仔]"},89:{TIP:"[西瓜]"},90:{TIP:"[白酒]"},91:{TIP:"[汽水]"},92:{TIP:"[下雨]"},93:{TIP:"[多云]"},94:{TIP:"[雪人]"},95:{TIP:"[星星]"},96:{TIP:"[冷汗]"},97:{TIP:"[擦汗]"},98:{TIP:"[抠鼻]"},99:{TIP:"[鼓掌]"},100:{TIP:"[糗大了]"},101:{TIP:"[坏笑]"},102:{TIP:"[左哼哼]"},103:{TIP:"[右哼哼]"},104:{TIP:"[哈欠]"},105:{TIP:"[鄙视]"},106:{TIP:"[委屈]"},107:{TIP:"[快哭了]"},108:{TIP:"[阴险]"},109:{TIP:"[亲亲]"},110:{TIP:"[吓]"},111:{TIP:"[可怜]"},112:{TIP:"[菜刀]"},113:{TIP:"[啤酒]"},114:{TIP:"[篮球]"},115:{TIP:"[乒乓]"},116:{TIP:"[示爱]"},117:{TIP:"[瓢虫]"},118:{TIP:"[抱拳]"},119:{TIP:"[勾引]"},120:{TIP:"[拳头]"},121:{TIP:"[差劲]"},122:{TIP:"[爱你]"},123:{TIP:"[NO]"},124:{TIP:"[OK]"},125:{TIP:"[转圈]"},126:{TIP:"[磕头]"},127:{TIP:"[回头]"},128:{TIP:"[跳绳]"},129:{TIP:"[挥手]"},130:{TIP:"[激动]"},131:{TIP:"[街舞]"},132:{TIP:"[献吻]"},133:{TIP:"[左太极]"},134:{TIP:"[右太极]"},135:{TIP:"[招财进宝]"},136:{TIP:"[双喜]"},137:{TIP:"[鞭炮]"},138:{TIP:"[灯笼]"},139:{TIP:"[发财]"},140:{TIP:"[K歌]"},141:{TIP:"[购物]"},142:{TIP:"[邮件]"},143:{TIP:"[帅]"},144:{TIP:"[喝彩]"},145:{TIP:"[祈祷]"},146:{TIP:"[爆筋]"},147:{TIP:"[棒棒糖]"},148:{TIP:"[喝奶]"},149:{TIP:"[下面]"},150:{TIP:"[香蕉]"},151:{TIP:"[飞机]"},152:{TIP:"[开车]"},153:{TIP:"[高铁左车头]"},154:{TIP:"[车厢]"},155:{TIP:"[高铁右车头]"},156:{TIP:"[多云]"},157:{TIP:"[下雨]"},158:{TIP:"[钞票]"},159:{TIP:"[熊猫]"},160:{TIP:"[灯泡]"},161:{TIP:"[风车]"},162:{TIP:"[闹钟]"},163:{TIP:"[打伞]"},164:{TIP:"[彩球]"},165:{TIP:"[钻戒]"},166:{TIP:"[沙发]"},167:{TIP:"[纸巾]"},168:{TIP:"[药]"},169:{TIP:"[手枪]"},170:{TIP:"[青蛙]"},171:{TIP:"[茶]"},172:{TIP:"[眨眼睛]"},173:{TIP:"[泪奔]"},174:{TIP:"[无奈]"},175:{TIP:"[卖萌]"},176:{TIP:"[小纠结]"},177:{TIP:"[喷血]"},178:{TIP:"[斜眼笑]"},179:{TIP:"[doge]"},180:{TIP:"[惊喜]"},181:{TIP:"[骚扰]"},182:{TIP:"[笑哭]"},183:{TIP:"[我最美]"},184:{TIP:"[河蟹]"},185:{TIP:"[羊驼]"},186:{TIP:"[栗子]"},187:{TIP:"[幽灵]"},188:{TIP:"[蛋]"},189:{TIP:"[马赛克]"},190:{TIP:"[菊花]"},191:{TIP:"[肥皂]"},192:{TIP:"[红包]"},193:{TIP:"[大笑]"},194:{TIP:"[不开心]"},195:{TIP:"[啊]"},196:{TIP:"[QQ表情冷汗]"},197:{TIP:"[冷漠]"},198:{TIP:"[呃]"},199:{TIP:"[好棒]"},200:{TIP:"[拜托]"},201:{TIP:"[点赞]"},202:{TIP:"[无聊]"},203:{TIP:"[托脸]"},204:{TIP:"[吃]"},205:{TIP:"[送花]"},206:{TIP:"[害怕]"},207:{TIP:"[花痴]"},208:{TIP:"[小样儿]"},209:{TIP:"[脸红]"},210:{TIP:"[飙泪]"},211:{TIP:"[我不看]"},212:{TIP:"[托腮]"},213:{TIP:"[哇哦]"},245:{TIP:"[加油必胜]"},246:{TIP:"[加油抱抱]"},247:{TIP:"[口罩护体]"},260:{TIP:"[搬砖中]"},261:{TIP:"[忙到飞起]"},262:{TIP:"[脑阔疼]"},263:{TIP:"[沧桑]"},264:{TIP:"[捂脸]"},265:{TIP:"[辣眼睛]"},266:{TIP:"[哦哟]"},267:{TIP:"[头秃]"},268:{TIP:"[问号脸]"},269:{TIP:"[暗中观察]"},270:{TIP:"[emm]"},271:{TIP:"[吃瓜]"},272:{TIP:"[呵呵哒]"},273:{TIP:"[我酸了]"},274:{TIP:"[太难了]"}};function g(t){return!!h[t]}function p(t){var e=o["a"].faceIndex.indexOf(t),a="";return e>-1&&(a=o["a"].faceLocale[e]&&"[".concat(c["b"].tc(o["a"].faceLocale[e]),"]")||""),a||g(t)&&"[".concat(c["b"].tc("custom_Face"),"]")}function b(t){var e=null;return o["a"].faceLocale.forEach((function(a,n){c["b"].tc(a)===t&&(e=o["a"].faceIndex[n])})),e||0===e?Number(e):null}function v(t){var e=[],a=t,n=-1,i=-1;while(""!==a)switch(n=a.indexOf("["),i=a.indexOf("]"),n){case 0:if(-1===i)e.push({type:"text",content:a}),a="";else{var s=a.slice(n+1,i),o=b("".concat(s));null!==o?(e.push({type:"face",index:o,content:"[".concat(s,"]")}),a=a.substring(i+1)):(e.push({type:"text",content:"["}),a=a.slice(1))}break;case-1:e.push({type:"text",content:a}),a="";break;default:e.push({type:"text",content:a.slice(0,n)}),a=a.substring(n);break}return e}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a";return t=s["b"].filterAISpeakerActionTag(t),t.replace(/<\/?[^>]+?>/gi,(function(t){return t==="</".concat(e,">")||0===t.indexOf("<".concat(e," "))?t:t.replace("<","&lt;").replace(">","&gt;")}))}function w(t){var e=/\[([^]+?)\]/g,a=t.replace(e,(function(t,e){if(0===e.indexOf("f_")){var a=Number(e.split("_")[1]),n=o["a"].faceIndex.indexOf(a);return-1!==n?'<img src="./static/qq/'.concat(n,'.png" class="emojiText-image" />'):g(a)?c["b"].tc("custom_Face"):t}return t}));return a}function y(t){var e=/\[([^]+?)\]/g,a=o["a"],n=t.replace(e,(function(t,e){if(0===e.indexOf("f_")){var n=Number(e.split("_")[1]),i=a.faceIndex.indexOf(n);if(~i&&a.faceLocale[i])return"[".concat(c["b"].tc(a.faceLocale[i]),"]");if(g(n))return c["b"].tc("")}return t}));return n}function x(t){var e="";return Object.keys(t).forEach((function(a){e="".concat(e,"&").concat(a,"=").concat(t[a])})),e}e["a"]={htmlEscape:d,emojiEscape:u,urlEscape:f,faceTipEscape:p,generateUUID:m,filterHTML:_,coverEmojiIndex2ImgMessage:v,coverEmojIndex2EmojiImg:w,coverEmojIndex2EmojiName:y,objToUrlParams:x,isFaceTip:g}},d938:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("a9e3"),a("99af");var n={NOT_LOAD_HISTORY_MSG:[2885820057],USE_DEFAULT_TITLE:[3009112396]},i=0;try{i=Number(localStorage.getItem("qdim_whitelist_test_kfuin"))}catch(o){console.error("[whiteList] localStorage set error")}function s(t,e){if(!t)return!1;var a=t-0;return a===i?(console.warn("======>[whiteList][TEST][".concat(a,"]")),!0):n[e].indexOf(a)>-1&&(console.warn("======>[whiteList][".concat(e,"][").concat(a,"]")),!0)}},d9f8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-file",on:{click:function(e){return e.preventDefault(),t.viewMedia.apply(null,arguments)}}},[e("div",{staticClass:"info",class:t.canDownload?"file-pointer":""},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:a("1284")("./".concat(t.fileFormat,".png"))}})]),e("div",{staticClass:"detail"},[e("div",{staticClass:"name",attrs:{title:t.data.fileName}},[t._v(t._s(t.data.fileName))]),e("div",{staticClass:"flex"},[e("div",{staticClass:"size"},[t._v(t._s(t.bytesToSize(t.data.fileSize)))]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showProgress,expression:"showProgress"}],staticClass:"percent"},[t._v(t._s(Math.floor(100*t.data.uploadProgress)+"%"))])])]),t.showProgress||t.canDownload?e("div",{staticClass:"operator"},[t.showProgress&&t.data.progressController?e("img",{attrs:{src:a("03a4")},on:{click:function(e){return e.stopPropagation(),t.stopUpload.apply(null,arguments)}}}):t._e(),t.canDownload?e("img",{attrs:{src:a("cbaf")},on:{click:function(e){return e.stopPropagation(),t.downloadFile.apply(null,arguments)}}}):t._e()]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showProgress,expression:"showProgress"}],staticClass:"progress",style:"width:".concat(100*t.data.uploadProgress,"%")})])])},i=[],s=a("c7eb"),o=a("1da1");a("ac1f"),a("00b4"),a("99af"),a("a9e3"),a("5319");function c(t){var e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("target","_blank"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}function r(t,e){var a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("target","_blank"),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}var l={openFile:c,downloadFile:r},d=a("9de0"),u=a("2d3f"),f=a("97e5"),m=a("0c74"),h={inject:["MsgStatus","wpaDetail"],props:{data:Object},data:function(){return{formatPath:""}},computed:{showProgress:function(){return this.data.uploadProgress&&this.data.uploadProgress<1&&this.data.status===this.MsgStatus.Sending},formatTime:function(){var t=new Date(this.data.time);return t.toLocaleDateString()+t.toLocaleTimeString()},fileFormat:function(){return/(.mp3|.wav)$/i.test(this.data.fileName)?"audio":/(.mov|.mp4|.avi)$/i.test(this.data.fileName)?"video":/(.jpg|.jpeg|.png|.gif|.bmp)$/i.test(this.data.fileName)?"picture":/.txt$/i.test(this.data.fileName)?"txt":/.pdf$/i.test(this.data.fileName)?"pdf":/(.zip|.rar)$/i.test(this.data.fileName)?"zip":/(.doc|.docx)$/i.test(this.data.fileName)?"word":/(.xls|.xlsx)$/i.test(this.data.fileName)?"excel":/(.ppt|.pptx)$/i.test(this.data.fileName)?"ppt":"unknown"},downloadUrl:function(){var t=this.formatPath;return"blob"!==this.data.uuid&&"COS"===window.type_s3_protocol&&(t="".concat(this.formatPath,"&response-content-disposition=").concat(encodeURIComponent("attachment; filename=".concat(this.data.fileName)))),t},canDownload:function(){return"blob"!==this.data.uuid&&this.data.status===this.MsgStatus.Success&&this.downloadUrl}},mounted:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("blob"!==t.data.uuid&&0!==t.data.path.indexOf("http")){e.next=3;break}return t.formatPath=t.data.path,e.abrupt("return");case 3:if(!t.data.isOldRoamingMsg){e.next=9;break}return e.next=6,t.getDownloadUrlForOldMsg();case 6:t.formatPath=e.sent,e.next=12;break;case 9:return e.next=11,d["c"].getDownloadUrl({path:t.data.path,size:t.data.fileSize,name:t.data.fileName},d["b"].OBJTYPES.OBJ_FILE);case 11:t.formatPath=e.sent;case 12:case"end":return e.stop()}}),e)})))()},methods:{bytesToSize:function(t){if(isNaN(t)||0===t)return"0B";var e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=1024,n=Math.floor(Math.log(t)/Math.log(a));return(t/Math.pow(a,n)).toPrecision(3)+e[n]},viewMedia:function(){var t=this;if(this.canDownload){var e=this.downloadUrl,a={audio:[".mp3"],video:[".mp4"],image:[".gif",".jpg",".jpeg",".bmp",".png"]},n=this.data.fileName||"",i=n.substr(n.lastIndexOf(".")).toLowerCase();a.video.indexOf(i)>-1?this.$MediaViewer.show({url:e,type:"video",downloadFunc:function(){t.downloadFile()}}):a.audio.indexOf(i)>-1?this.$MediaViewer.show({url:e,type:"audio",downloadFunc:function(){t.downloadFile()}}):a.image.indexOf(i)>-1?this.$PictureViewer.show({showPhotoPreView:!0,photoUrls:[e],photoPreviewIndex:[e].length-1,closeOnClickMask:!1}):this.downloadFile()}},downloadFile:function(){var t=this.downloadUrl;u["b"]||u["c"]||u["a"]?this.wxappDownloadFile():l.downloadFile(t,this.data.fileName)},wxappDownloadFile:function(){var t=this,e=this.downloadUrl,a='\n      <div\n      style="user-select: all;-webkit-box-orient: vertical;display: -webkit-box;-webkit-line-clamp:2;overflow:hidden;"\n      >'.concat(e,"</div>\n      ");this.$Confirm({title:"复制链接到浏览器即可下载文件",text:a,confirmText:"一键复制",cancelText:"关闭"}).then((function(){t.$copyText(e).then((function(){t.$Toast(t.$t("chat_add_friend_copy_success_msg"))}),(function(){t.$Toast({text:"复制失败，请重试",type:"error"})}))})).catch((function(){}))},stopUpload:function(){var t;null===(t=this.data)||void 0===t||null===(t=t.progressController)||void 0===t||t.abort()},getDownloadUrlForOldMsg:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a,n,i,o,c,r,l;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null===(a=t.data)||void 0===a||null===(a=a.crm)||void 0===a?void 0:a.msg_webim_extra_data,i=(null===n||void 0===n?void 0:n.uint64_extuin)||(null===n||void 0===n?void 0:n.uint64_robotid)||0,i){e.next=4;break}return e.abrupt("return","");case 4:return o={uint64_kfuin:Number(t.wpaDetail.kfuin),uint32_type:2,uint32_channel:3,uint64_kfext:Number(i),str_id:m["a"].encode(t.data.uuid),uint64_msg_time:1e3*t.data.time},e.prev=5,e.next=8,t.$ajax.post(f["i"],o);case 8:if(c=e.sent,r=c.data,0!==(null===r||void 0===r?void 0:r.code)){e.next=14;break}return l=m["a"].decode(r.data.str_url),l=l.replace(/^http:\/\//,"https://"),e.abrupt("return",l);case 14:return e.abrupt("return","");case 17:return e.prev=17,e.t0=e["catch"](5),e.abrupt("return","");case 20:case"end":return e.stop()}}),e,null,[[5,17]])})))()}}},g=h,p=(a("5c0b5"),a("2877")),b=Object(p["a"])(g,n,i,!1,null,null,null);e["default"]=b.exports},da1a:function(t,e,a){"use strict";a("2d07")},dbf9:function(t,e,a){t.exports=a.p+"img/loading.04365d1f.svg"},dc1b:function(t,e,a){"use strict";var n=a("5530"),i=a("ade3"),s=a("9de0"),o=s["b"].create();e["a"]={mounted:function(){},methods:{mockNewMsg:function(){var t=this.to.id,e=Object(i["a"])({},t,[{seq:0x5d90fed2711be,type:"text",time:1646037310050,status:0,from:t,content:"33"},{seq:0x5d91163e94b87,type:"text",time:1646037310080,status:0,to:t,content:"33👋😓"},{seq:0x5d91164486b5e,type:"ptt_info",time:1646037310090,status:2,to:t,content:"blob:http://localhost:8080/b5c15a8f-b357-4d2a-9c52-8df0f5369947",uuid:"blob",length:3,size:3829},{seq:0x5d91164f345c5,type:"image",time:1646037310100,status:3,to:t,content:"https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-189792930-E59538E23B28257858A4768105725293/0",uuid:"blob",name:"6-71.jpg",size:246076,width:1080,height:1080},{seq:0x5d911654f9cd4,type:"file_info",time:1646037310150,status:1,to:t,content:"blob:http://localhost:8080/a1b9bb6c-3210-419d-b46b-862b6546954d",uuid:"blob",name:"1-167.jpg",size:162356,format:"image/jpeg"},{seq:0x5d91164f3461b,type:"image",time:1646037319999,status:1,from:t,content:"https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-1407385184-A6EAA9C108A9B70BBC28E401A0AF09BC/0",uuid:"blob",name:"6-72.jpg",size:246076,width:1080,height:1080}]);o.emit(s["b"].EVENT.MESSAGE_RECEIVED,e)},mockSecNewMsg:function(){var t=this.to.id,e=Object(i["a"])({},t,[{seq:0x5d90fed2711bf,type:"text",time:Date.now()-1e4,status:0,from:t,content:"33"},{seq:0x3a7aadf180c5d0,type:"image",time:Date.now(),status:1,from:t,content:"https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-1407385184-A6EAA9C108A9B70BBC28E401A0AF09BC/0",uuid:"blob",name:"6-72.jpg",size:246076,width:1080,height:1080}]);o.emit(s["b"].EVENT.MESSAGE_RECEIVED,e)},mockHistoryMsg:function(){var t=this.to.id,e=[{seq:0x5d912c9dfbb14,type:"text",time:1646049603074,status:0,to:t,content:'32425235👍😨😅99999"'},{seq:0x5d912cabaa197,type:"image",time:1646049617428,status:0,from:t,content:"https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-1852158553-52F4133DF330089B5767114625CE99C8/0",uuid:"blob",name:"6-72.jpg",size:246076,width:1080,height:1080}];this.recoverScrollbarAfterPullHistoryMsg(),this.addMessageList(Object(n["a"])({},e[0]),1,!0),this.addMessageList(Object(n["a"])({},e[1]),1,!1)}}}},dc4d:function(t,e,a){},dca2:function(t,e,a){},e05b:function(t,e,a){},e060:function(t,e,a){"use strict";var n=a("53ca"),i=(a("e9c4"),a("b64b"),function(){var t={},e="QD_PM",a="CHAT",i=!1;function s(){var t=location,e=t.href;return!(e.indexOf("kfuin")>-1&&(e.indexOf("fid")>-1||e.indexOf("wpaId")>-1))&&window!==window.parent}function o(n,i){var s=Object.assign({},t,n),o=i||a;s[e]&&s[e]===o||(s[e]=o),s="string"!==typeof s?JSON.stringify(s):s,console.log("[sendMsg]",s),window.parent.postMessage(s,"*")}function c(e,a){var n=function(e){var n=e.data;if(n){try{t=JSON.parse(n),console.log("[receiveMsg]",t)}catch(i){return void console.warn("PostMsg Parse Error ".concat(n),i)}"function"===typeof a&&a(t)}};e.removeEventListener("message",n),e.addEventListener("message",n)}function r(t,e){if("object"===Object(n["a"])(t)){var a=t.act;switch(a){case"INIT":case"OPEN":case"UPDATE_UNREAD":case"DISCONNECT":case"SM_MANUAL_INVITE":e.operateIframe(a,t);break;default:console.log("[postMsgListener]未被处理的消息",t)}}}function l(t){"undefined"!==typeof t?c(window,(function(e){r(e,t)})):console.error("[wpaBridge]未绑定IM对象")}function d(e){var a,n,s;"undefined"===typeof e&&console.error("[bindDragEvent]未绑定DOM节点");var c=function(e){var c=t,d=c.kfuin;i=!1,a=!0,n=e.screenX,s=e.screenY,o({act:"DRAG_START",kfuin:d}),document.addEventListener("mouseup",r),document.addEventListener("mousemove",l)},r=function e(){var n=t,i=n.kfuin;a=!1,o({act:"DRAG_END",kfuin:i}),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",l)},l=function(e){var c=t,r=c.kfuin;if(a){var l=e.screenX-n,d=e.screenY-s;Math.abs(l)+Math.abs(d)>5&&(i=!0),o({act:"DRAG_MOVE",kfuin:r,data:{x:l,y:d}})}};e.removeEventListener("mousedown",c),e.addEventListener("mousedown",c)}function u(){return i}return{inIframe:s,sendMsg:o,bindListener:l,bindDragEvent:d,isHasDragged:u}}());e["a"]=i},e1d8:function(t,e,a){},e268:function(t,e,a){"use strict";var n={play:function(){var t=document.getElementById("ringAudio");t&&(t.muted=!1,t.play())},stop:function(){var t=document.getElementById("ringAudio");t&&t.pause()},playPreventPageSleep:function(){var t=document.getElementById("preventPageSleepAudio");t&&(t.muted=!1,t.play(),t.volume=.02,console.log("∮∮∮----------------\x3e play"))},stopPreventPageSleep:function(){var t=document.getElementById("preventPageSleepAudio");t&&(t.pause(),console.log("∮∮∮++++++++++++++++> stop"))}};e["a"]=n},e2ac:function(t,e,a){"use strict";a("534a")},e2d4:function(t,e,a){"use strict";a("6219")},e302:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-rtc",class:{mine:t.data.mine,"call-over":!t.data.mine&&2===t.data.content.uint32_video_status_type,isMobile:t.isMobile},attrs:{title:t.formatTime},on:{contextmenu:function(e){return e.preventDefault(),t.onContextMenu.apply(null,arguments)},click:function(e){return e.stopPropagation(),t.openVideo.apply(null,arguments)}}},[t.data.mine?t._e():e("span",{staticClass:"icon",class:{audio:2===t.data.content.uint32_call_type}}),e("span",[t._v(t._s(t.processedText))]),t.data.mine?e("span",{staticClass:"icon icon-right",class:{audio:2===t.data.content.uint32_call_type}}):t._e()])},i=[],s={inject:[],props:{data:Object},data:function(){return{}},computed:{processedText:function(){return this.data.content.str_text_msg},formatTime:function(){var t=new Date(this.data.time);return t.toLocaleString()},isMobile:function(){return!this.$platform.pc}},mounted:function(){},methods:{onContextMenu:function(){},openVideo:function(){this.$emit("videoMsgClick",this.data.content.uint32_call_type)}}},o=s,c=(a("1a52"),a("2877")),r=Object(c["a"])(o,n,i,!1,null,null,null);e["default"]=r.exports},e395:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("c7eb"),i=a("1da1"),s=(a("99af"),a("ae03")),o=a("ebd1"),c=a("97e5");function r(t,e){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(Object(n["a"])().mark((function t(e,a){var i,r,l;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])(s["a"].post("".concat(c["d"],"?kfuin=").concat(e.kfuin),e));case 2:if(i=t.sent,console.log("🥳 ~ fetchCompanyInfo ~ res",i),r=i.code,l=i.data,0===r){t.next=7;break}return t.abrupt("return");case 7:a&&a(l);case 8:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}},e3fc:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{ref:"msgQdxml",staticClass:"msg-qdxml"},[e("div",{ref:"xmlBox",attrs:{title:t.data.brief||""},domProps:{innerHTML:t._s(t.html)}})])},i=[],s=a("5530"),o=a("3835"),c=a("c7eb"),r=a("1da1"),l=(a("ac1f"),a("466d"),a("841c"),a("a9e3"),a("bc3a")),d=a.n(l),u=a("8a2f"),f=a("94ea"),m=a("0d3f"),h=a("9de0"),g=a("f5db"),p=a("5ac5"),b=a("7b05"),v=a("97e5"),_=a("4328"),w=a.n(_),y={props:{data:Object},data:function(){return{html:""}},computed:{},mounted:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a,n;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.initDelegations(),!t.data.content){e.next=5;break}return t.transferXml(t.data.content),t.onLoad(),e.abrupt("return");case 5:if(t.data.path){e.next=8;break}return t.html='<span class="xml-data-err">[获取消息内容异常]</span>',e.abrupt("return");case 8:if(!t.data.compressed){e.next=20;break}return e.prev=9,e.next=12,h["c"].downloadAndParseLongText(t.data,"xml");case 12:a=e.sent,e.next=17;break;case 15:e.prev=15,e.t0=e["catch"](9);case 17:a?t.transferXml(a):t.html='<span class="xml-data-err">[获取消息内容异常]</span>',e.next=24;break;case 20:return e.next=22,h["c"].getDownloadUrl(t.data,h["b"].OBJTYPES.OBJ_LONGTEXT);case 22:n=e.sent,n?d.a.get(n).then((function(e){200===e.status?t.transferXml(e.data):t.html='<span class="xml-data-err">[获取消息内容异常]</span>'})).catch((function(){t.html='<span class="xml-data-err">[获取消息内容异常]</span>'})):t.html='<span class="xml-data-err">[获取消息内容异常]</span>';case 24:t.onLoad();case 25:case"end":return e.stop()}}),e,null,[[9,15]])})))()},methods:{transferXml:function(t){var e=this,a=this.getExtendCls(t);this.getExtendCls(a);var n=this.getSpecialCls(a),i=Object(u["d"])(t),c=Object(o["a"])(i,2),r=c[0],l=c[1],d=Object(u["e"])(r);console.log("[xmlDom]",d);var h=Object(u["f"])(d),g=Object(f["a"])(h,{dir:"webim-xml ".concat(n)});this.html=g,this.$nextTick((function(){Object(m["a"])(e.$refs.xmlBox,h,l,Object(s["a"])({},e.getEcCardCtx()))}))},initDelegations:function(){Object(g["a"])(this.$refs.msgQdxml,"a")},getExtendCls:function(t){var e=/<msg.+?extClass="([\w-]+)".*?>/i,a=t.match(e);return a&&a[1]?a[1]:""},getSpecialCls:function(t){if(!t)return"";var e=["webim-kf-change"];return e.indexOf(t)>-1?"no-shadow":""},onLoad:function(){(p["a"].LAST_SHOW_XML_TIME&&Date.now()-p["a"].LAST_SHOW_XML_TIME<300||Object(b["a"])()<b["b"])&&(p["a"].scrollToBottom(!0,500),p["a"].LAST_SHOW_XML_TIME=Date.now())},getEcCardCtx:function(){var t=w.a.parse(window.location.search,{ignoreQueryPrefix:!0});return{__onlineGoodsObj:{scene:Number(t.scene)||null,sceneArgs:t.sceneArgs||null,channelType:4,infoUrl:v["k"]}}}}},x=y,A=(a("af70"),a("2877")),C=Object(A["a"])(x,n,i,!1,null,"78da430b",null);e["default"]=C.exports},e490:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var n=!1},e56f:function(t,e,a){},e578:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-msg"},[e("div",{staticClass:"html-content",domProps:{innerHTML:t._s(t.msgContent)}}),t.tableData?e("div",{staticClass:"table-box"},[e("table",{staticClass:"table"},[e("tr",{staticClass:"tr table-head"},t._l(t.tableData.headers,(function(a,n){return e("td",{key:n,staticClass:"th",attrs:{width:100/t.tableData.headers.length+"%"},domProps:{innerHTML:t._s(a)}})})),0),t._l(t.tableData.rows,(function(a,n){return e("tr",{key:n,staticClass:"tr"},t._l(a,(function(a,n){return e("td",{key:n,staticClass:"td",class:0===n?"td-first":"",domProps:{innerHTML:t._s(a)}})})),0)}))],2)]):t._e()])},i=[],s=a("f439"),o=a("d90f"),c={props:{message:{type:Object,default:function(){return{}}},contentFold:{default:!1}},data:function(){return{}},computed:{msgContent:function(){var t=this.message.content.content;return t=o["a"].coverEmojIndex2EmojiImg(Object(s["a"])(t)),t},tableData:function(){return this.message.content.table}},methods:{getTdContent:function(t){var e=30;return this.contentFold&&t.length>e?"".concat(t.substr(0,e),"…"):t}}},r=c,l=(a("2926"),a("2877")),d=Object(l["a"])(r,n,i,!1,null,"a057e57a",null);e["default"]=d.exports},e5f5:function(t,e,a){"use strict";a("c04b")},e7b1:function(t,e,a){},e7bb:function(t,e,a){},e892:function(t,e,a){"use strict";a("8279")},e8de:function(t,e,a){"use strict";a("b3c6")},e90f:function(t,e,a){t.exports=a.p+"img/close.3777bb9e.svg"},e95b:function(t,e,a){},e964:function(t,e,a){"use strict";a("053e")},ea0d:function(t,e,a){"use strict";a("01ac")},ea5f:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("c7eb"),i=a("1da1"),s=(a("99af"),a("ae03")),o=a("ebd1"),c=a("97e5");function r(t,e){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(Object(n["a"])().mark((function t(e,a){var i,r,l;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])(s["a"].post("".concat(c["c"],"?kfuin=").concat(e.kfuin),e));case 2:if(i=t.sent,r=i.code,l=i.data,0===r){t.next=6;break}return t.abrupt("return");case 6:a&&a(l);case 7:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}},eb9c:function(t,e,a){},ebd1:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("c7eb"),i=a("3835"),s=a("1da1"),o=a("2b0e");function c(t){return console.log("[awaitWrap]",t),t.then((function(t){return console.log("[awaitWrap] then"),[null,t]})).catch((function(t){return console.log("[awaitWrap] catch",t),[t,null]}))}function r(t,e){return l.apply(this,arguments)}function l(){return l=Object(s["a"])(Object(n["a"])().mark((function t(e,a){var s,r,l,d;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c(e);case 2:if(s=t.sent,r=Object(i["a"])(s,2),l=r[0],d=r[1],!d){t.next=10;break}if(!d.data){t.next=9;break}return t.abrupt("return",d.data);case 9:return t.abrupt("return",{code:-1e5,msg:"网络错误（".concat(d.status,"）")});case 10:if(!l){t.next=13;break}return a&&o["a"].prototype.$Toast({text:"网络错误",type:"error"}),t.abrupt("return",{code:-2e5,msg:l||"网络错误"});case 13:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}},ebfa:function(t,e,a){},ed5c:function(t,e){t.exports="data:image/png;base64,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"},f041:function(t,e){t.exports="data:image/png;base64,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"},f1e5:function(t,e,a){t.exports=a.p+"img/close-slide.8f27aa75.svg"},f1f7:function(t,e,a){},f2fa:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-tip"},[e("span",{class:t.device,attrs:{title:t.formatTime},domProps:{innerHTML:t._s(t.processedText)}})])},i=[],s=a("d90f"),o={props:{device:{type:String,default:"pc"},data:Object},computed:{processedText:function(){var t=this.data.content;return t=s["a"].filterHTML(t),t},formatTime:function(){var t=new Date(this.data.time);return t.toLocaleDateString()+t.toLocaleTimeString()}}},c=o,r=(a("95b8"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"7ed0b05b",null);e["default"]=l.exports},f439:function(t,e,a){"use strict";a.d(e,"b",(function(){return n}));a("ac1f"),a("5319"),a("a15b"),a("cb29");var n={replaceWrap:function(t){return t.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>")},removeScript:function(t){return t.replace(/<\/?script[^>]+>/g,"")},filterAISpeakerActionTag:function(t){return t.replace(/<\/?insert-action[^>]*?>/gim,"")},replaceSpace:function(t){return t&&t.replace(/\s{2,}/g,(function(t){return new Array(t.length).fill("&nbsp;").join("")}))}};e["a"]=function(t){var e=t;return e=n.removeScript(e),e=n.replaceWrap(e),e=n.filterAISpeakerActionTag(e),e=n.replaceSpace(e),e}},f45a:function(t,e,a){t.exports=a.p+"img/arrow-down.33b11fe8.svg"},f4e7:function(t,e,a){t.exports=a.p+"img/audio_line.605e0740.svg"},f5db:function(t,e,a){"use strict";a.d(e,"c",(function(){return h})),a.d(e,"b",(function(){return g})),a.d(e,"a",(function(){return p}));var n=a("3835"),i=a("5530"),s=(a("ac1f"),a("00b4"),a("5319"),a("d3b7"),a("159b"),a("5ac5")),o=a("8c50"),c=a.n(o),r=a("9ec0"),l={key:"message",sendc2b:function(t){s["a"].sendTextMessage(t.content)},extsendc2b:function(t){s["a"].sendQDMenuMessage({args:t.href,text:t.content}),s["a"].scrollToBottom()},leaveform:function(t){s["a"].createLeaveMessage({type:102,formParams:t},{dir:"b2c"}),console.log("[leaveform]",t)},ext2robotsendc2b:function(t){var e=Object(r["a"])(t.href),a=h(e),n=a.params;console.log("params",n),n&&s["a"].sendTextMessage(n.content,{robot_ctrl:{str_ext2robot:n.ext||""}})},newQueueHandle:function(t){console.log("[newQueueHandle]",t)},reload:function(){location.reload()},changeNewKF:function(t){console.log("[changeNewKF]",t)}},d={key:"launch",miniprogram:function(t){if(wx&&wx.miniProgram){var e=Object(i["a"])({},t);e.url&&(e.url=decodeURIComponent(e.url)),console.log("[miniprogram]",e,t),wx.miniProgram[e.interface]&&wx.miniProgram[e.interface](e)}else console.log("[launch/miniprogram]在非微信内置webview环境中无法运行")},wxapp:function(t){var e=Object(i["a"])({},t);e.path&&(e.path=decodeURIComponent(e.path)),wx&&wx[e.interface]?(console.log("[wxapp]",e,t),wx[e.interface](e)):console.log("[launch/wxapp]请确认调用的API及参数是否正确")},postMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window&&window.parent&&window.parent.postMessage&&window.parent.postMessage(t,"*")}},u=/((qdweb)|(qdim)|(mqqwpa)):\/\//,f={},m="mqqwpa://";function h(t){if(u.test(t)){var e=t.replace(u,""),a=[],i=[],s={},o=e.split("?");if(a=o[0].split("/"),o.length>1&&(i=o[1].split("&"),i.forEach((function(t){var e=t.split("=");if(e.length>1){var a=Object(n["a"])(e,2),i=a[0],o=a[1];s[i]=o}else s[e[0]]=!0}))),a.length>0){var c=a,r=Object(n["a"])(c,3),l=r[0],d=r[1],f=r[2];return{namespace:l,action:d,method:f,params:s,href:t}}}return!1}function g(t,e,a){console.log("[handleLinkClick]",t,e,a);var n=h(t);if(!1!==n){var i=n.action,s=n.method,o=n.params,c=n.href;if(0===c.indexOf(m)||"extsendc2b"===s)return void f.message.extsendc2b({href:c,content:o.content||""});if("ext2robotsendc2b"===s)return void f.message.ext2robotsendc2b({href:c,content:o.content||""});var r=f[i];r&&r[s]&&"function"===typeof r[s]&&r[s](o,a)}else{if(!/^http/.test(t))return;window.open(t)}}function p(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.callback,i=a.options;c()(t,e,"click",(function(t){t.preventDefault();var e=t.delegateTarget;return"function"===typeof n&&n(e),g(e.getAttribute("href"),e.getAttribute("target"),i),!1}))}f[l.key]=l,f[d.key]=d},f67b:function(t,e,a){"use strict";a("c155")},f6f1:function(t,e,a){},f7ae:function(t,e,a){"use strict";a("4c4c")},f7e2:function(t,e,a){"use strict";a("a257")},f900:function(t,e,a){"use strict";a("08b0")},fb17:function(t,e,a){"use strict";a("3731")},fb72:function(t,e,a){"use strict";a("9f4d")},fb7b:function(t,e,a){},fb7f:function(t,e,a){},fc61:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("99af");var n=a("9ec0");function i(t){var e=t.count,a=t.des,i=void 0===a?"":a,o=t.logo,c=t.mon,r=t.much,l=t.tit,d=void 0===l?"":l,u='<msg brief="企点结构化消息" serviceID="115" msgName="e-commerce-goods" background="#FFFFFFFF">\n  <linear background="#FFFFFFFF" width="-2" height="-2" margin="24,24,24,24" margin.pc="12,12,12,12" cornerRadius="12" orientation="vertical">\n  <linear width="-2" height="-2">\n  <linear width="-2" height="-2">',f="</linear>\n  </linear>\n  </linear>\n  </linear>\n  </msg>",m="",h=d?'<text width="304" height="-2" width.pc="152" weight="500" size="28" size.pc="10" style="bold" color.pc="#262d3d" maxLine="1" lineSpace="0" lineSpace.pc="5" text="'.concat(d,'"/>\n  '):"",g=i?'<text width="304"  height="-2" width.pc="152" margin="0,22,0,0" margin.pc="0,0,0,0" size="24" size.pc="8" color="#FF78849E" color.pc="0xFF78849E" maxLine="1" text="'.concat(i,'"/>\n  '):"",p=o?'<image name="onlineGoods" width="144" width.pc="72" height="144" height.pc="72" src="'.concat(Object(n["b"])(o),'"></image>'):"",b=s(c)?'  <text width="160"  width.pc="15" height="-2" margin="0,32,0,0" margin.pc="0,2,0,0" size="24" size.pc="8" color="#FFFF8147" color.pc="0xFFFF8147" text="'.concat(c,'" />\n  '):"",v=s(e)?'  <text width="120"  width.pc="15" height="-2" margin="0,32,0,0" margin.pc="0,2,0,0" size="24" size.pc="8" color="#68010B32" color.pc="0x68010B32" text="x '.concat(e,'"></text>\n  '):"",_=s(r)?'<text width="304" width.pc="152" height="-2" margin="10,4,0,0" margin.pc="0,2,0,0" size="24" size.pc="8" color="#68010B32" color.pc="0x68010B32" text="'.concat(r,'件已售" maxLine="1"/>'):"";return m="".concat(u,"\n  ").concat(p,'\n  <linear width="-2" height="-2" margin="16,0,0,0" margin.pc="8,0,0,0" gravity="top" orientation="vertical">\n  ').concat(h).concat(g,'\n  <linear orientation="horizontal" gravity="left">\n  ').concat(b).concat(v,'\n  </linear>\n  </linear>\n  <linear width="-2" height="-2" margin.pc="8,0,0,0" orientation="vertical" gravity="bottom">\n  ').concat(_,"\n  ").concat(f,"\n  "),m}function s(t){return t||"0"===String(t)}},fe1a:function(t,e,a){t.exports=a.p+"img/ecommerce-empty-list.1c8103df.svg"},fe1b:function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{class:["basis-style",t.isMobile?"":"basis-style-pc"]},[e("div",{staticClass:"nav-content",style:t.globalData.runMode?"":"background-image:url("+t.robotNav.img.url+")"},[e("div",{staticClass:"nav-title"},[t._v(t._s(t.robotNav.tit))]),e("div",{staticClass:"nav-list"},t._l(t.getPageData(t.robotNav),(function(n,i){return e("div",{key:i,staticClass:"nav-item nav-link",on:{click:function(e){return t.onClick(n)}}},[e("div",{staticClass:"nav-item-text"},[t._v(t._s(n.name||n.question||""))]),e("img",{staticClass:"icon-arrow-right",attrs:{src:a("c3d8")}})])})),0),t.robotNav.showChange?e("div",{staticClass:"nav-change",on:{click:function(e){return t.onChange(t.robotNav)}}},[t._m(0)]):t._e()])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-change-box"},[e("img",{staticClass:"batch-head-icon icon-primay",attrs:{src:a("9fa0")}}),t._v(" 换一批 ")])}],s=a("b371"),o={mixins:[s["a"]]},c=o,r=(a("61de"),a("2877")),l=Object(r["a"])(c,n,i,!1,null,"7245fd47",null);e["default"]=l.exports}});
//# sourceMappingURL=pc.bd900b45.js.map